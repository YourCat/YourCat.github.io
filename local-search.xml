<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Hello Hexo</title>
    <link href="/2021/04/25/hello-hexo/"/>
    <url>/2021/04/25/hello-hexo/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºHEXOï¼Œè¯­é›€åšå®¢ç³»ç»Ÿåˆè¯•</title>
    <link href="/2021/04/25/%E5%9F%BA%E4%BA%8EHEXO%EF%BC%8C%E8%AF%AD%E9%9B%80%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F%E5%88%9D%E8%AF%95/"/>
    <url>/2021/04/25/%E5%9F%BA%E4%BA%8EHEXO%EF%BC%8C%E8%AF%AD%E9%9B%80%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F%E5%88%9D%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åŸºäºå¹³å°ç­‰åŸå› ï¼Œå†³å®šå°†åŸå…ˆæ— äººé—®æ´¥çš„ä¸ªäººåšå®¢å¥½å¥½æ•´é¡¿ä¸€ç•ªï¼Œä½¿ç”¨hexoæ¡†æ¶å¹¶åœ¨è¯­é›€å¹³å°åŒæ­¥ã€‚</p><p>psï¼šhexoæ˜¯ä¸€æ¬¾åŸºäºnode.jsçš„é™æ€åšå®¢æ¡†æ¶ï¼Œhexoç”¨äºåšå®¢åœ¨çº¿ç¼–è¾‘</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><h4 id="å¤§è‡´æ­¥éª¤"><a href="#å¤§è‡´æ­¥éª¤" class="headerlink" title="å¤§è‡´æ­¥éª¤"></a>å¤§è‡´æ­¥éª¤</h4><ol><li>å®‰è£…nodejsï¼Œnpm</li><li>å®‰è£…hexoï¼Œæœ¬åœ°éƒ¨ç½²</li><li>åˆ›å»ºä»“åº“</li><li>å®‰è£…Gitå¹¶ç»‘å®šGitHub</li><li>å‘å¸ƒç½‘ç«™</li><li>è‡ªå®šä¹‰åŸŸå</li><li>åšå®¢é«˜çº§æ ·å¼</li><li>åŒæ­¥è¯­é›€<h4 id="å®‰è£…nodejsï¼Œnpm"><a href="#å®‰è£…nodejsï¼Œnpm" class="headerlink" title="å®‰è£…nodejsï¼Œnpm"></a>å®‰è£…nodejsï¼Œnpm</h4>é“¾æ¥ï¼š<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a> ï¼Œæ–°ç‰ˆnodejså·²ç»é›†æˆäº†npm<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619139824262-abfe229a-c185-4f7b-965e-8622322e29f3.png#clientId=u9d2be740-e3b1-4&from=drop&height=179&id=ue872dbf2&margin=%5Bobject%20Object%5D&name=nodejs.png&originHeight=325&originWidth=1223&originalType=binary&size=28801&status=done&style=none&taskId=u8cd9bbb5-d434-4cd3-8634-97e1851df8a&width=672" alt="nodejs.png"><br>åœ¨cmdè¾“å…¥ä»¥ä¸‹ä¸¤æ¡æŒ‡ä»¤æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">node -v<br>npm -v<br></code></pre></td></tr></table></figure><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619140474428-e35f60e5-cb7b-4908-8a44-3710511e0838.png#clientId=u9d2be740-e3b1-4&from=paste&height=92&id=uc1f2c143&margin=%5Bobject%20Object%5D&name=image.png&originHeight=191&originWidth=363&originalType=binary&size=10660&status=done&style=none&taskId=u8e0b1686-d612-4128-a755-5b567b5e72a&width=175.5" alt="image.png"><h4 id="å®‰è£…hexoï¼Œæœ¬åœ°éƒ¨ç½²"><a href="#å®‰è£…hexoï¼Œæœ¬åœ°éƒ¨ç½²" class="headerlink" title="å®‰è£…hexoï¼Œæœ¬åœ°éƒ¨ç½²"></a>å®‰è£…hexoï¼Œæœ¬åœ°éƒ¨ç½²</h4>é¦–å…ˆåœ¨ç”µè„‘ä¸Šæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾hexoæ¡†æ¶å’Œä»¥åå†™çš„åšå®¢æ–‡ä»¶ï¼Œä½¿ç”¨npmå‘½ä»¤å®‰è£…hexo<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g hexo-cli <br></code></pre></td></tr></table></figure>åˆå§‹åŒ–åšå®¢ç³»ç»Ÿ<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo init blog<br></code></pre></td></tr></table></figure>å¿«é€Ÿåˆ›å»ºä¸€ç¯‡æµ‹è¯•åšå®¢<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new test_blog <br>hexo g<br>hexo s<br></code></pre></td></tr></table></figure>ä»¥ä¸Šä¸‰æ¡å‘½ä»¤çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼šåˆ›å»ºæ–°åšå®¢ã€ç”Ÿæˆç½‘ç«™ã€å¼€å¯æœ¬åœ°é¢„è§ˆ</li></ol><p>æˆåŠŸååœ¨ç½‘é¡µç«¯è®¿é—®4000ç«¯å£å¦‚ä¸‹æ•ˆæœï¼Œ<a href="http://localhost:4000/">http://localhost:4000/</a><br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619140885549-2b33a33f-3765-4f90-8ec5-cc7cb08692c4.png#clientId=u9d2be740-e3b1-4&from=paste&height=241&id=uf9977e92&margin=%5Bobject%20Object%5D&name=image.png&originHeight=664&originWidth=1848&originalType=binary&size=551711&status=done&style=none&taskId=u58bd681e-b939-4d8f-9f5a-03f24cf32cd&width=672" alt="image.png"></p><p>å®Œæˆä»¥ä¸Šæ“ä½œï¼Œä»…å¯ä»¥åœ¨æœ¬åœ°ä½¿ç”¨hexoåšå®¢ç³»ç»Ÿäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å‘å¸ƒåˆ°ç½‘ä¸Šã€‚</p><h4 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h4><p>åœ¨<a href="https://github.com/">github</a>ä¸Šæ–°å»ºä¸€ä¸ªä»“åº“ï¼Œåå­—<strong>å¿…é¡»</strong>æ˜¯ï¼šç”¨æˆ·å.github.io<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619141716652-4edb970c-5c2f-439b-aa27-a7223f5e3855.png#clientId=u9d2be740-e3b1-4&from=paste&height=129&id=uf5030f70&margin=%5Bobject%20Object%5D&name=image.png&originHeight=258&originWidth=550&originalType=binary&size=22076&status=done&style=none&taskId=ucf2daf3f-4309-4e0d-a379-4157dc376a0&width=275" alt="image.png"></p><h4 id="å®‰è£…Gitå¹¶ç»‘å®šGitHub"><a href="#å®‰è£…Gitå¹¶ç»‘å®šGitHub" class="headerlink" title="å®‰è£…Gitå¹¶ç»‘å®šGitHub"></a>å®‰è£…Gitå¹¶ç»‘å®šGitHub</h4><p>Gitæ˜¯å¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºå°†æœ¬åœ°åšå®¢ä¸Šä¼ åˆ°GitHub<br>é“¾æ¥ï¼š<a href="https://git-scm.com/download/win">https://git-scm.com/download/win</a>  ï¼Œ<a href="https://www.liaoxuefeng.com/wiki/896043488029600">Gitæ•™ç¨‹</a></p><p>é¼ æ ‡å³é”®æˆ–è€…ç›´æ¥åœ¨èœå•æ å¤„ä½¿ç”¨GitBash<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619142241543-3761455e-edcb-48aa-b314-13b49920eb7d.png#clientId=u9d2be740-e3b1-4&from=paste&height=65&id=u79bad9c6&margin=%5Bobject%20Object%5D&name=image.png&originHeight=82&originWidth=192&originalType=binary&size=8966&status=done&style=none&taskId=u5b07ac78-5d1d-47b2-b881-44af6c62f78&width=153" alt="image.png"><br>è®¾ç½®ç”¨æˆ·åå’Œå¯†ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global user.name <span class="hljs-string">&quot;ä½ çš„GitHubç”¨æˆ·å&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;ä½ çš„GitHubæ³¨å†Œé‚®ç®±&quot;</span><br></code></pre></td></tr></table></figure><p>ç”Ÿæˆsshæ–‡ä»¶ï¼Œè¿æ•²ä¸‰ä¸ªå›è½¦å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh-keygen -t rsa -C <span class="hljs-string">&quot;ä½ çš„GitHubæ³¨å†Œé‚®ç®±&quot;</span><br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°æœ¬åœ°çš„sshæ–‡ä»¶ï¼Œæˆ‘çš„è·¯å¾„ï¼šC:\Windows\System32\drivers\etc<br>åœ¨GitHubçš„Settingé‡Œæ–°å»ºä¸€ä¸ª<a href="https://github.com/settings/ssh/new">SSH Key</a>ï¼ŒKeyä¸ºåˆšåˆšçš„sshæ–‡ä»¶å†…å®¹<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619142668452-26d32ecb-a25d-4780-9388-78724f623383.png#clientId=u9d2be740-e3b1-4&from=paste&height=36&id=u2b741dcc&margin=%5Bobject%20Object%5D&name=image.png&originHeight=72&originWidth=946&originalType=binary&size=5663&status=done&style=none&taskId=u6f8a95f9-ce87-4b96-a73b-f2e89a00f63&width=473" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619142828363-5697ffb8-de3a-405c-bb39-d67d30ad396f.png#clientId=u9d2be740-e3b1-4&from=paste&height=249&id=uaff23af7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=527&originWidth=863&originalType=binary&size=36598&status=done&style=none&taskId=u02c3c2b0-3216-4beb-8beb-691440da57a&width=407.5" alt="image.png"></p><p>ç”¨GitBashæµ‹è¯•å…¬é’¥æ˜¯å¦é…ç½®æˆåŠŸï¼Œçœ‹åˆ°successå°±okäº†<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619142967661-c51a448a-757d-4a49-9602-2e4add2e623c.png#clientId=u9d2be740-e3b1-4&from=paste&height=80&id=ub36ba13a&margin=%5Bobject%20Object%5D&name=image.png&originHeight=160&originWidth=1121&originalType=binary&size=24766&status=done&style=none&taskId=u14599c85-25f1-4995-928d-1b3b3dc207f&width=560.5" alt="image.png"></p><h4 id="å‘å¸ƒç½‘ç«™"><a href="#å‘å¸ƒç½‘ç«™" class="headerlink" title="å‘å¸ƒç½‘ç«™"></a>å‘å¸ƒç½‘ç«™</h4><p>æœ¬åœ°çš„Gitå·²ç»ç»‘å®šåˆ°GItHubä¸Šï¼Œæ¥ä¸‹æ¥å°±æ˜¯æŠŠhexoåšå®¢å‘å¸ƒä¸Šå»ã€‚<br>é¦–å…ˆä¿®æ”¹blogä¸‹çš„_config.ymlé…ç½®æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ç”¨äºå°†hexoå’ŒGithubå…³è”ï¼Œrepoä¸ºä»“åº“çš„å®Œæ•´è·¯å¾„ï¼ˆä¸‹å›¾ç®­å¤´ï¼‰<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619143298664-64fd0eef-5b82-41ca-9ee2-c1f8f1d218b5.png#clientId=u9d2be740-e3b1-4&from=paste&height=236&id=ube1fb93d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=472&originWidth=427&originalType=binary&size=26912&status=done&style=none&taskId=ubd305813-7c0f-4675-9921-c73f03003e9&width=213.5" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619143553511-502ffdbd-e023-4362-8cac-5506ca27b782.png#clientId=u9d2be740-e3b1-4&from=paste&height=23&id=ua8206e31&margin=%5Bobject%20Object%5D&name=image.png&originHeight=46&originWidth=1251&originalType=binary&size=6457&status=done&style=none&taskId=u8d7f162b-47be-4969-9fad-8bdb965b3a9&width=625.5" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">deploy:<br>  <span class="hljs-built_in">type</span>: git<br>  repo: https://github.com/YourCat/YourCat.github.io.git<br>  branch: master<br></code></pre></td></tr></table></figure><p>è¯¥é…ç½®ç”¨äºå‘Šè¯‰hexoåšå®¢éƒ¨ç½²åœ¨å“ªé‡Œï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç”¨npmå®‰è£…ä¸€ä¸ªéƒ¨ç½²æ’ä»¶ï¼Œåœ¨cmdä¸­è¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install hexo-deployer-git --save<br></code></pre></td></tr></table></figure><p>è¿™æ—¶åœ¨GitBashè¾“å…¥ä»¥hexoä¸‹ä¸‰æ¡å‘½ä»¤å‘å¸ƒåšå®¢</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo clean <br>hexo g <br>hexo d<br></code></pre></td></tr></table></figure><p>è¿™ä¸€æ­¥ç»å¸¸ä¼šé‡åˆ°å¦‚ä¸‹ä¸¤ç§é—®é¢˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">OpenSSL SSL_read: Connection was reset, errno 10054<br>Failed to connect to github.com port 443: Timed out<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯ç”±ç½‘ç»œä¸ç¨³å®šå¯¼è‡´çš„è¿æ¥è¶…æ—¶ï¼Œç½‘ä¸Šæœ‰è®¸å¤š<a href="https://blog.csdn.net/qq_44184794/article/details/107431603">è§£å†³æ–¹æ¡ˆ</a>ï¼Œè¿™ä¸ªæ—¶å€™ä½ ä¼šå‘ç°æ— æ³•è®¿é—®GitHubçš„ç½‘ç«™äº†ã€‚<br>æš´åŠ›çš„è¯é‡å¤å‡ æ¬¡ä¸Šè¿°ä¸‰æ¡å‘½ä»¤ä¹Ÿå¯ä»¥æˆåŠŸã€‚<br>å‘å¸ƒæˆåŠŸæ˜¯å¦‚ä¸‹è¿™æ ·å­ï¼ŒåŒæ—¶åœ¨githubçš„ä»“åº“é‡Œå¯ä»¥çœ‹åˆ°æœ¬åœ°çš„hexoåšå®¢å·²ç»è¿‡æ¥äº†<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619147006313-509619d3-1fd0-42c0-8c62-94e4db458c27.png#clientId=u9d2be740-e3b1-4&from=paste&height=339&id=u59636062&margin=%5Bobject%20Object%5D&name=image.png&originHeight=678&originWidth=1024&originalType=binary&size=105623&status=done&style=none&taskId=ua92a5ee7-bfc7-457c-a37f-e993817a09e&width=512" alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619147049134-316236b1-16b8-4f93-b13f-c2d15b9b353a.png#clientId=u9d2be740-e3b1-4&from=paste&height=165&id=uca9831df&margin=%5Bobject%20Object%5D&name=image.png&originHeight=330&originWidth=669&originalType=binary&size=27179&status=done&style=none&taskId=u22f848ce-2f76-4a23-9441-3b49b7f0ba8&width=334.5" alt="image.png"></p><p>è¿™ä¸ªæ—¶å€™å·²ç»å¯ä»¥åœ¨å¤–ç½‘è®¿é—®åˆ°åšå®¢äº†ï¼Œå·®ä¸å¤šæˆåŠŸäº†~<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619147240943-71521c81-708f-495f-8f22-50ae42586944.png#clientId=u9d2be740-e3b1-4&from=paste&height=157&id=u8fbd4c14&margin=%5Bobject%20Object%5D&name=image.png&originHeight=451&originWidth=1511&originalType=binary&size=436209&status=done&style=none&taskId=u5422e55f-57e7-4b36-ab8e-cc51e5fa8f5&width=526" alt="image.png"></p><h4 id="è‡ªå®šä¹‰åŸŸå"><a href="#è‡ªå®šä¹‰åŸŸå" class="headerlink" title="è‡ªå®šä¹‰åŸŸå"></a>è‡ªå®šä¹‰åŸŸå</h4><p>å®Œæˆä»¥ä¸Šçš„æ“ä½œå·²ç»å¯ä»¥ä½¿ç”¨GitHubæä¾›çš„åŸŸåxx.github.ioè®¿é—®åˆ°æˆ‘ä»¬çš„åšå®¢é¡¹ç›®äº†ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªæ–°ä¸–çºªçš„å¼„æ½®å„¿ï¼Œæ€ä¹ˆèƒ½å¤Ÿæ²¡æœ‰è‡ªå·±çš„ä¸ªæ€§åŒ–åŸŸåå‘¢~</p><p>1.é¦–å…ˆåœ¨é˜¿é‡Œäº‘è´­ä¹°ä¸€ä¸ªåŸŸåï¼Œä¹°ä¹°ä¹°çš„äº‹æƒ…å°±è·³è¿‡äº†ï¼Œç›´æ¥è¿›åˆ°åŸŸåæ§åˆ¶å°è§£æåŸŸå<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619149582070-af0d4f94-03e9-470d-a14f-69efbc0ef3ae.png#clientId=u9d2be740-e3b1-4&from=paste&height=30&id=u4a8a9b12&margin=%5Bobject%20Object%5D&name=image.png&originHeight=60&originWidth=2225&originalType=binary&size=9099&status=done&style=none&taskId=u042339f6-8902-45c2-8340-39d4ecec6d3&width=1113" alt="image.png"><br>æ·»åŠ å¦‚ä¸‹ä¸¤æ¡è®°å½•ï¼Œ<br>è®°å½•ï¼šwwwï¼Œç±»å‹ï¼šCNAMEï¼Œè®°å½•å€¼ï¼šxx.github.io<br>è®°å½•ï¼š@ï¼Œç±»å‹ï¼šAï¼Œè®°å½•å€¼ï¼šipåœ°å€ï¼ˆping åˆ°xx.github.ioæŸ¥çœ‹ï¼‰<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619150858085-50678dab-8dc1-4ebc-bda9-a80e82e59220.png#clientId=u9d2be740-e3b1-4&from=paste&height=51&id=uae8b58d6&margin=%5Bobject%20Object%5D&name=image.png&originHeight=102&originWidth=2152&originalType=binary&size=13669&status=done&style=none&taskId=u6b5a9524-c0b4-4f3c-82ff-d63aeccd548&width=1076" alt="image.png"></p><p>2.åœ¨GitHubçš„ä»“åº“é‡Œè®¾ç½®è‡ªå·±çš„åŸŸåï¼ŒSettings-&gt;GitHub Pages<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619150676094-dbf68022-2668-49c6-a22d-94715838f01a.png#clientId=u9d2be740-e3b1-4&from=paste&height=134&id=u15147211&margin=%5Bobject%20Object%5D&name=image.png&originHeight=268&originWidth=884&originalType=binary&size=35075&status=done&style=none&taskId=ue65a81f3-1b5f-4803-aa6d-bf79b0fbdef&width=442" alt="image.png"><br>psï¼šä»¥ä¸Šè­¦å‘Šå°±æ˜¯å› ä¸ºåŸŸåè§£ææ²¡é…ç½®å¥½ï¼Œéœ€è¦ä¸€å®šæ—¶é—´ç”Ÿæ•ˆï¼Œå…ˆç»§ç»­ä¸‹ä¸€æ­¥é…ç½®<br>3.åœ¨æœ¬åœ°æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºCNAMEæ–‡ä»¶ï¼Œå†…å®¹ä¸ºåŸŸå<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619329459028-9d1198fe-f68a-4c93-8126-67527e47246c.png#clientId=u20e143db-696a-4&from=paste&height=213&id=ub065b687&margin=%5Bobject%20Object%5D&name=image.png&originHeight=425&originWidth=484&originalType=binary&size=58057&status=done&style=none&taskId=u5de6cd06-dd28-498f-b801-ae1f750bad9&width=242" alt="image.png"><br>ä¸‰éƒ¨æ›²åè®¿é—®è‡ªå·±çš„åŸŸå</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo clean<br>hexo g<br>hexo d<br></code></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619151311400-ff07a884-6007-464b-b2c3-381f6f264040.png#clientId=u9d2be740-e3b1-4&from=paste&height=349&id=u7788e241&margin=%5Bobject%20Object%5D&name=image.png&originHeight=697&originWidth=1378&originalType=binary&size=419052&status=done&style=none&taskId=u3694b37c-a4f3-431d-90c3-2712791dfb2&width=689" alt="image.png"></p><h4 id="åšå®¢é«˜çº§æ ·å¼"><a href="#åšå®¢é«˜çº§æ ·å¼" class="headerlink" title="åšå®¢é«˜çº§æ ·å¼"></a>åšå®¢é«˜çº§æ ·å¼</h4><p>é»˜è®¤çš„ä¸»é¢˜æˆ–è®¸è¿‡äºå•è°ƒï¼Œå¼„æ½®å„¿åˆæ¥æ›´æ¢ä¸»é¢˜äº†ï¼Œåœ¨blogæ–‡ä»¶ä¸‹è¾“å…¥ä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/fluid-dev/hexo-theme-fluid themes/fluid<br></code></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619152703323-c8d0a723-a3ca-4b3c-b71a-917e7537e689.png#clientId=u9d2be740-e3b1-4&from=paste&height=136&id=u6b086f0e&margin=%5Bobject%20Object%5D&name=image.png&originHeight=271&originWidth=1229&originalType=binary&size=55545&status=done&style=none&taskId=u646dac94-2c90-4a6c-84d5-f7e72d08905&width=614.5" alt="image.png"><br>å¥½çœ‹çš„ä¸»é¢˜å“ªæ¥çš„ï¼Ÿå®‰åˆ©å®‰åˆ©-&gt; <a href="https://www.zhihu.com/search?type=content&q=hexo%E4%B8%BB%E9%A2%98">here</a> &lt;-æ„Ÿè°¢(â—â€™â—¡â€™â—)</p><p>ä¸‰éƒ¨æ›²ï¼è¿™é‡Œæˆ‘åˆæŠ¥é”™äº†ï¼Spawn fiaedâ€¦<br><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619154531571-dd47f28b-b9dc-41fe-b657-c19e7bdd1b44.png#clientId=u9d2be740-e3b1-4&from=paste&height=204&id=u337b9eda&margin=%5Bobject%20Object%5D&name=image.png&originHeight=407&originWidth=1128&originalType=binary&size=58345&status=done&style=none&taskId=ue5e3ef69-312b-4e06-817f-f8c5a09dcbd&width=564" alt="image.png"><br>ç›´æ¥å¯¼èˆª-&gt;<a href="https://blog.csdn.net/HTL2018/article/details/106876940">è§£å†³æ–¹æ¡ˆ</a> ä¸€æ¬¡ä¸è¡Œå¤šæ¥å‡ æ¬¡â€¦<br>è®¿é—®æ–°ä¸»é¢˜ï¼é˜…è¯»READMEå’Œ<a href="https://hexo.fluid-dev.com/docs/start/">å®˜ç½‘</a>é£Ÿç”¨æ–°ä¸»é¢˜ï¼<br>å¤§è‡´æ­¥éª¤ï¼š<br>1.åœ¨hexoç›®å½•çš„_config.ymlæ–‡ä»¶ä¸­æŒ‡å®šä¸»é¢˜</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">theme: fluid  <span class="hljs-comment"># æŒ‡å®šä¸»é¢˜</span><br>language: zh-CN  <span class="hljs-comment"># æŒ‡å®šè¯­è¨€ï¼Œä¼šå½±å“ä¸»é¢˜æ˜¾ç¤ºçš„è¯­è¨€ï¼ŒæŒ‰éœ€ä¿®æ”¹</span><br></code></pre></td></tr></table></figure><p>2.åœ¨fluidç›®å½•çš„_config.ymlæ–‡ä»¶ä¸­ä¿®æ”¹é…ç½®ä¿¡æ¯ï¼ˆé¦–é¡µçš„æ ‡é¢˜ï¼Œå¥å­ï¼ŒèƒŒæ™¯å›¾â€¦ï¼‰<br>3.ç¬¬ä¸€æ¬¡ä½¿ç”¨æ–°å»ºå…³äºé¡µ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new page about<br><br>åœ¨/<span class="hljs-built_in">source</span>/about/index.mdä¸‹æ·»åŠ layoutå±æ€§<br>---<br>title: about<br>date: 2020-02-23 19:20:33<br>layout: about<br>---<br></code></pre></td></tr></table></figure><p><img src="https://cdn.nlark.com/yuque/0/2021/png/1123881/1619158378448-3de4f8b8-d25f-466a-be26-ba38d0b51a4e.png#clientId=u9d2be740-e3b1-4&from=paste&height=607&id=u2a11fd37&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1214&originWidth=1868&originalType=binary&size=3662110&status=done&style=none&taskId=u1a28c84a-18a5-4b66-ad7a-3f26ab5b234&width=934" alt="image.png"></p><p>ä¸Šè¾¹æ˜¯æ ¹æ®æ–‡æ¡£ä¿®æ”¹é…ç½®æ–‡ä»¶åçš„æœ€ç»ˆæ•ˆæœå›¾~å¤ªç¾äº†ğŸ˜œ</p><h4 id="åŒæ­¥è¯­é›€"><a href="#åŒæ­¥è¯­é›€" class="headerlink" title="åŒæ­¥è¯­é›€"></a>åŒæ­¥è¯­é›€</h4><p>æœ‰ç‚¹éš¾ï¼Œå°šåœ¨ç ”ç©¶ï¼ŒæŒ‚ä¸€ä¸ª<a href="https://www.yuque.com/joashzhao/blog/sync-yuque-to-hexo">æ•™ç¨‹</a>â€¦<br><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/1123881/1619160630271-22ebd941-28a0-4a26-9c7b-bc0c6d123f7e.jpeg#clientId=u9d2be740-e3b1-4&from=drop&height=146&id=MqklL&margin=%5Bobject%20Object%5D&name=yuque_diagram.jpg&originHeight=368&originWidth=956&originalType=binary&size=53452&status=done&style=none&taskId=ua94302ec-a658-4f17-85f9-47f90fb650d&width=380" alt="yuque_diagram.jpg"></p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>æœ¬æ¥ä»¥ä¸ºæœ‰ä¹‹å‰æ­å»ºåšå®¢çš„åŸºç¡€ï¼Œæ¢æˆhexoæ¡†æ¶é‡æ–°å¼„å¼„åªæ˜¯åˆ†åˆ†é’Ÿçš„äº‹æƒ…ï¼Œæ²¡æƒ³åˆ°å´ç£•ç£•ç»Šç»ŠæŠ˜è…¾äº†å¤§åŠå¤©ï¼Œä¸­é—´å¯èƒ½çœç•¥ä¸€äº›ç²—å¿ƒçš„bugï¼ˆå°½å¯èƒ½éƒ½åˆ—å‡ºæ¥ï¼‰ï¼Œbugè™½å°ä¹Ÿå¡äº†å¥½ä¹…ï¼Œæ¥ä¸‹æ¥è¦å¼€å§‹å¥½å¥½å†™åšæ–‡äº†ã€‚</p><p><strong>å‚è€ƒæ–‡ç« ï¼š</strong><br><a href="https://zhuanlan.zhihu.com/p/26625249">https://zhuanlan.zhihu.com/p/26625249</a><br><a href="https://www.yuque.com/joashzhao/blog/sync-yuque-to-hexo?language=en-us">https://www.yuque.com/joashzhao/blog/sync-yuque-to-hexo?language=en-us</a><br><a href="https://www.bilibili.com/video/BV1c4411G7cg?from=search&seid=13091592736216096382">https://www.bilibili.com/video/BV1c4411G7cg?from=search&amp;seid=13091592736216096382</a><br><a href="https://blog.csdn.net/z_johnny/article/details/104629805">https://blog.csdn.net/z_johnny/article/details/104629805</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>é¡¹ç›®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹‚ç¥SpingBoot å¼‚æ­¥ã€å®šæ—¶ã€é‚®ä»¶ä»»åŠ¡</title>
    <link href="/2021/04/02/2021-4-2-task/"/>
    <url>/2021/04/02/2021-4-2-task/</url>
    
    <content type="html"><![CDATA[<h2 id="å¼‚æ­¥ã€å®šæ—¶ã€é‚®ä»¶ä»»åŠ¡"><a href="#å¼‚æ­¥ã€å®šæ—¶ã€é‚®ä»¶ä»»åŠ¡" class="headerlink" title="å¼‚æ­¥ã€å®šæ—¶ã€é‚®ä»¶ä»»åŠ¡"></a>å¼‚æ­¥ã€å®šæ—¶ã€é‚®ä»¶ä»»åŠ¡</h2><p><strong>å¼‚æ­¥ä»»åŠ¡</strong></p><p>å¼‚æ­¥å¤„ç†åœ¨ç½‘ç«™å‘é€é‚®ä»¶æ—¶ï¼Œåå°å‘é€é‚®ä»¶ï¼Œå‰å°ä¼šé€ æˆç›¸åº”ä¸åŠ¨ï¼Œç›´åˆ°é‚®ä»¶å‘é€å®Œæˆï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¼šé‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼å»å¤„ç†è¿™äº›ä»»åŠ¡ã€‚</p><p>æ­¥éª¤ï¼š</p><p>1.åˆ›å»ºserviceåŒ…</p><p>2.åˆ›å»ºAsyncServiceç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AsyncService</span></span>&#123;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">hello</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">try</span>&#123;<br>            Thread.sleep(<span class="hljs-number">100</span>);<br>        &#125;<span class="hljs-keyword">catch</span>(InterruptedException e)&#123;<br>            e.printStackTrace();<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;ä¸šåŠ¡è¿›è¡Œä¸­...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>3.ç¼–å†™controlleråŒ…</p><p>4.ç¼–å†™AsyncControlleræµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AsyncController</span></span>&#123;<br>    <span class="hljs-meta">@Autowired</span><br>    AsyncService asyncService;<br>    <br>    <span class="hljs-meta">@GetMapping(&quot;/hello&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">()</span></span>&#123;<br>        asyncService.hello();<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;success&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>5.è®¿é—®<a href="http://localhost:8080/hello%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95%EF%BC%8C3%E7%A7%92%E5%90%8E%E5%87%BA%E7%8E%B0success">http://localhost:8080/helloè¿›è¡Œæµ‹è¯•ï¼Œ3ç§’åå‡ºç°success</a></p><p>Qï¼šåœ¨åå°ä½¿ç”¨å¤šçº¿ç¨‹æ–¹å¼å®ç°å¤ªéº»çƒ¦ï¼Œåªéœ€è¦ä½¿ç”¨æ³¨è§£å³å¯ã€‚</p><p>6.ç»™helloæ–¹æ³•æ·»åŠ @Asyncæ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Async</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">hello</span><span class="hljs-params">()</span></span>&#123;<br>...<br>&#125;<br></code></pre></td></tr></table></figure><p>SpringBootä¼šè‡ªå·±å¼€ä¸€ä¸ªçº¿ç¨‹æ± è¿›è¡Œè°ƒç”¨ï¼ä½¿ç”¨è¿™ä¸ªæ³¨è§£è¿˜éœ€è¦åœ¨ä¸»ç¨‹åºä¸Šæ·»åŠ æ³¨è§£@EnableAsyncå¼€å¯æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@EnableAsync</span><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SpringbootTaskApplication</span></span>&#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><p>7.é‡å¯æµ‹è¯•ï¼Œç½‘é¡µç¬é—´ç›¸åº”ï¼Œåå°ä»£ç ä¾æ—§æ‰§è¡Œã€‚</p><p><strong>å®šæ—¶ä»»åŠ¡</strong></p><p>Springæä¾›å¼‚æ­¥ä¸»å¸­é‚£ä¸ªä»»åŠ¡è°ƒåº¦çš„æ–¹å¼ï¼Œæä¾›äº†ä¸¤ä¸ªæ¥å£</p><ul><li>TaskExecutoræ¥å£</li><li>TaskScheduleræ¥å£</li></ul><p>ä¸¤ä¸ªæ³¨è§£</p><ul><li>@EnableScheduling</li><li>@Scheduled</li></ul><p>æ­¥éª¤ï¼š</p><p>1.åˆ›å»ºä¸€ä¸ªScheduledService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ScheduledSevice</span></span>&#123;<br><span class="hljs-meta">@Scheduled(cron=&quot;0****0-7&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">hello</span><span class="hljs-params">()</span></span>&#123;<br>System.out.println(<span class="hljs-string">&quot;hello...&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2.å†™å®Œå®šæ—¶ä»»åŠ¡åï¼Œåœ¨ä¸»ç¨‹åºåŠ ä¸Š@EnableSchedulingå¼€å¯</p><p>3.è¯¦ç»†äº†è§£cronè¡¨è¾¾å¼</p><p><a href="http://www.bejson.com/othertools/cron/">http://www.bejson.com/othertools/cron/</a></p><p><strong>é‚®ä»¶ä»»åŠ¡</strong></p><p>é‚®ä»¶å‘é€åœ¨æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨å¾ˆå¤šï¼ŒSpringbootä¹Ÿåšäº†æ”¯æŒ</p><ul><li>é‚®ä»¶å‘é€å¼•å…¥spring-boot-start-mail</li><li>SpringBootè‡ªåŠ¨é…ç½®MailSenderAutoConfiguration</li><li>å®šä¹‰MailPropertieså†…å®¹ï¼Œé…ç½®åœ¨application.yml</li><li>è‡ªåŠ¨è£…é…JavaMailSender</li><li>æµ‹è¯•é‚®ä»¶å‘é€</li></ul><p>æ­¥éª¤ï¼š</p><p>1.å¼•å…¥pomä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-mail<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.sun.mail<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jakarta.mail<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.6.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2.æŸ¥çœ‹é…ç½®æ–‡ä»¶</p><p>3.é…ç½®æ–‡ä»¶</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">spring.mail.username</span>=<span class="hljs-string">...@qq.com</span><br><span class="hljs-meta">spring.mail.password</span>=<span class="hljs-string">ä½ çš„qqæˆæƒç </span><br><span class="hljs-meta">spring.mail.host</span>=<span class="hljs-string">smtp.qq.com</span><br><span class="hljs-comment"># qqéœ€è¦é…ç½®ssl</span><br><span class="hljs-meta">spring.mail.properties.mail.smtp.ssl.enable</span>=<span class="hljs-string">true</span><br></code></pre></td></tr></table></figure><p>è·å–æˆæƒç ï¼šåœ¨QQé‚®ç®±ä¸­çš„è®¾ç½®-&gt;è´¦æˆ·-&gt;å¼€å¯pop3å’ŒsmtpæœåŠ¡</p><p>4.Springå•å…ƒæµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Autowired</span><br>JavaMailSenderImpl mailSender;<br><br><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">contextLoads</span><span class="hljs-params">()</span> </span>&#123;<br>   <span class="hljs-comment">//é‚®ä»¶è®¾ç½®1ï¼šä¸€ä¸ªç®€å•çš„é‚®ä»¶</span><br>   SimpleMailMessage message = <span class="hljs-keyword">new</span> SimpleMailMessage();<br>   message.setSubject(<span class="hljs-string">&quot;é€šçŸ¥-æ˜å¤©æ¥ç‹‚ç¥è¿™å¬è¯¾&quot;</span>);<br>   message.setText(<span class="hljs-string">&quot;ä»Šæ™š7:30å¼€ä¼š&quot;</span>);<br><br>   message.setTo(<span class="hljs-string">&quot;...@qq.com&quot;</span>);<br>   message.setFrom(<span class="hljs-string">&quot;...@qq.com&quot;</span>);<br>   mailSender.send(message);<br>&#125;<br><br><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">contextLoads2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> MessagingException </span>&#123;<br>   <span class="hljs-comment">//é‚®ä»¶è®¾ç½®2ï¼šä¸€ä¸ªå¤æ‚çš„é‚®ä»¶</span><br>   MimeMessage mimeMessage = mailSender.createMimeMessage();<br>   MimeMessageHelper helper = <span class="hljs-keyword">new</span> MimeMessageHelper(mimeMessage, <span class="hljs-keyword">true</span>);<br><br>   helper.setSubject(<span class="hljs-string">&quot;é€šçŸ¥-æ˜å¤©æ¥ç‹‚ç¥è¿™å¬è¯¾&quot;</span>);<br>   helper.setText(<span class="hljs-string">&quot;&lt;b style=&#x27;color:red&#x27;&gt;ä»Šå¤© 7:30æ¥å¼€ä¼š&lt;/b&gt;&quot;</span>,<span class="hljs-keyword">true</span>);<br><br>   <span class="hljs-comment">//å‘é€é™„ä»¶</span><br>   helper.addAttachment(<span class="hljs-string">&quot;1.jpg&quot;</span>,<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;&quot;</span>));<br>   helper.addAttachment(<span class="hljs-string">&quot;2.jpg&quot;</span>,<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;&quot;</span>));<br><br>   helper.setTo(<span class="hljs-string">&quot;...@qq.com&quot;</span>);<br>   helper.setFrom(<span class="hljs-string">&quot;...@qq.com&quot;</span>);<br><br>   mailSender.send(mimeMessage);<br>&#125;<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹é‚®ç®±æ˜¯å¦æˆåŠŸæ¥æ”¶</p>]]></content>
    
    
    
    <tags>
      
      <tag>SpringBoot</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹‚ç¥Redis-02 Rediså…¥é—¨</title>
    <link href="/2021/03/20/2021-3-20-redis02/"/>
    <url>/2021/03/20/2021-3-20-redis02/</url>
    
    <content type="html"><![CDATA[<h2 id="äºŒã€Rediså…¥é—¨"><a href="#äºŒã€Rediså…¥é—¨" class="headerlink" title="äºŒã€Rediså…¥é—¨"></a>äºŒã€Rediså…¥é—¨</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><blockquote><p>Redisæ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p>Redisï¼ˆRemote Dictionary Server )ï¼Œå³è¿œç¨‹å­—å…¸æœåŠ¡ã€‚</p><p>æ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ANSI Cè¯­è¨€ç¼–å†™ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€<strong>Key-Valueæ•°æ®åº“</strong>ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„APIã€‚</p><p>ä¸memcachedä¸€æ ·ï¼Œä¸ºäº†ä¿è¯æ•ˆç‡ï¼Œ<strong>æ•°æ®éƒ½æ˜¯ç¼“å­˜åœ¨å†…å­˜ä¸­</strong>ã€‚åŒºåˆ«çš„æ˜¯redisä¼šå‘¨æœŸæ€§çš„æŠŠæ›´æ–°çš„æ•°æ®å†™å…¥ç£ç›˜æˆ–è€…æŠŠä¿®æ”¹æ“ä½œå†™å…¥è¿½åŠ çš„è®°å½•æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº†master-slave(ä¸»ä»)åŒæ­¥ã€‚</p><blockquote><p>Redisèƒ½è¯¥å¹²ä»€ä¹ˆï¼Ÿ</p></blockquote><ol><li>å†…å­˜å­˜å‚¨ã€æŒä¹…åŒ–ï¼Œå†…å­˜æ˜¯æ–­ç”µå³å¤±çš„ï¼Œæ‰€ä»¥éœ€è¦æŒä¹…åŒ–ï¼ˆRDBã€AOFï¼‰</li><li>é«˜æ•ˆç‡ã€ç”¨äºé«˜é€Ÿç¼“å†²</li><li>å‘å¸ƒè®¢é˜…ç³»ç»Ÿ</li><li>åœ°å›¾ä¿¡æ¯åˆ†æ</li><li>è®¡æ—¶å™¨ã€è®¡æ•°å™¨(egï¼šæµè§ˆé‡)</li><li>ã€‚ã€‚ã€‚</li></ol><blockquote><p>ç‰¹æ€§</p></blockquote><ol><li><p>å¤šæ ·çš„æ•°æ®ç±»å‹</p></li><li><p>æŒä¹…åŒ–</p></li><li><p>é›†ç¾¤</p></li><li><p>äº‹åŠ¡</p><p>â€¦</p></li></ol><h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><p>å®˜ç½‘ï¼š<a href="https://redis.io/">https://redis.io/</a></p><p>æ¨èä½¿ç”¨LinuxæœåŠ¡å™¨å­¦ä¹ ã€‚</p><p>windowsç‰ˆæœ¬çš„Rediså·²ç»åœæ›´å¾ˆä¹…äº†â€¦</p><h3 id="Windowså®‰è£…"><a href="#Windowså®‰è£…" class="headerlink" title="Windowså®‰è£…"></a>Windowså®‰è£…</h3><p><a href="https://github.com/dmajkic/redis">https://github.com/dmajkic/redis</a></p><ol><li>è§£å‹å®‰è£…åŒ…<br><img src="https://img-blog.csdnimg.cn/20200820103922318.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>å¼€å¯redis-server.exe</li><li>å¯åŠ¨redis-cli.exeæµ‹è¯•<img src="https://img-blog.csdnimg.cn/20200820103950934.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ol><h3 id="Linuxå®‰è£…"><a href="#Linuxå®‰è£…" class="headerlink" title="Linuxå®‰è£…"></a>Linuxå®‰è£…</h3><ol><li><p>ä¸‹è½½å®‰è£…åŒ…ï¼<code>redis-5.0.8.tar.gz</code></p></li><li><p>è§£å‹Redisçš„å®‰è£…åŒ…ï¼ç¨‹åºä¸€èˆ¬æ”¾åœ¨ <code>/opt</code> ç›®å½•ä¸‹</p><p><img src="https://img-blog.csdnimg.cn/20200820104016426.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li><li><p>åŸºæœ¬ç¯å¢ƒå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum install gcc-c++<br><span class="hljs-comment"># ç„¶åè¿›å…¥redisç›®å½•ä¸‹æ‰§è¡Œ</span><br>make<br><span class="hljs-comment"># ç„¶åæ‰§è¡Œ</span><br>make install<br></code></pre></td></tr></table></figure></li></ol><p><img src="https://img-blog.csdnimg.cn/20200820104048327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ol><li><p>redisé»˜è®¤å®‰è£…è·¯å¾„ <code>/usr/local/bin</code><img src="https://img-blog.csdnimg.cn/20200820104140692.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li><li><p>å°†redisçš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ° ç¨‹åºå®‰è£…ç›®å½• <code>/usr/local/bin/kconfig</code>ä¸‹</p><p><img src="https://img-blog.csdnimg.cn/20200820104157817.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-hxvGQ47d-1597890996509)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114000868.png)]"></p></li><li><p>redisé»˜è®¤ä¸æ˜¯åå°å¯åŠ¨çš„ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼</p><p><img src="https://img-blog.csdnimg.cn/20200820104213706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-dDdKTUgd-1597890996510)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114019063.png)]"></p></li><li><p>é€šè¿‡åˆ¶å®šçš„é…ç½®æ–‡ä»¶å¯åŠ¨redisæœåŠ¡</p><p><img src="https://img-blog.csdnimg.cn/20200820104228556.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-jOypL57Z-1597890996511)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114030597.png)]"></p></li><li><p>ä½¿ç”¨redis-cliè¿æ¥æŒ‡å®šçš„ç«¯å£å·æµ‹è¯•ï¼ŒRedisçš„é»˜è®¤ç«¯å£6379</p><p><img src="https://img-blog.csdnimg.cn/20200820104243223.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-LnDaISQ4-1597890996512)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114045299.png)]"></p></li><li><p>æŸ¥çœ‹redisè¿›ç¨‹æ˜¯å¦å¼€å¯</p><p><img src="https://img-blog.csdnimg.cn/20200820104300532.png#pic_center" alt="[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-9PhN1jC1-1597890996513)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114103769.png)]"></p></li><li><p>å…³é—­RedisæœåŠ¡ <code>shutdown</code></p><p><img src="https://img-blog.csdnimg.cn/20200820104314297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-Y54EuOYm-1597890996514)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114116691.png)]"></p></li><li><p>å†æ¬¡æŸ¥çœ‹è¿›ç¨‹æ˜¯å¦å­˜åœ¨</p></li><li><p>åé¢æˆ‘ä»¬ä¼šä½¿ç”¨å•æœºå¤šRediså¯åŠ¨é›†ç¾¤æµ‹è¯•</p></li></ol><h3 id="æµ‹è¯•æ€§èƒ½"><a href="#æµ‹è¯•æ€§èƒ½" class="headerlink" title="æµ‹è¯•æ€§èƒ½"></a>æµ‹è¯•æ€§èƒ½</h3><p><strong>redis-benchmarkï¼š</strong>Rediså®˜æ–¹æä¾›çš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œå‚æ•°é€‰é¡¹å¦‚ä¸‹ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200513214125892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MzIyNw==,size_16,color_FFFFFF,t_70" alt="img"></p><p><strong>ç®€å•æµ‹è¯•ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æµ‹è¯•ï¼š100ä¸ªå¹¶å‘è¿æ¥ 100000è¯·æ±‚</span><br>redis-benchmark -h localhost -p 6379 -c 100 -n 100000<br>12<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200820104343472.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-plMshjFg-1597890996515)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114143365.png)]"></p><h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><blockquote><p>redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200820104357466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-v2S3n3Si-1597890996516)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114158322.png)]"></p><p>é»˜è®¤ä½¿ç”¨çš„ç¬¬0ä¸ª;</p><p>16ä¸ªæ•°æ®åº“ä¸ºï¼šDB 0~DB 15<br>é»˜è®¤ä½¿ç”¨DB 0 ï¼Œå¯ä»¥ä½¿ç”¨<code>select n</code>åˆ‡æ¢åˆ°DB nï¼Œ<code>dbsize</code>å¯ä»¥æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„å¤§å°ï¼Œä¸keyæ•°é‡ç›¸å…³ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; config get databases <span class="hljs-comment"># å‘½ä»¤è¡ŒæŸ¥çœ‹æ•°æ®åº“æ•°é‡databases</span><br>1) <span class="hljs-string">&quot;databases&quot;</span><br>2) <span class="hljs-string">&quot;16&quot;</span><br><br>127.0.0.1:6379&gt; select 8 <span class="hljs-comment"># åˆ‡æ¢æ•°æ®åº“ DB 8</span><br>OK<br>127.0.0.1:6379[8]&gt; dbsize <span class="hljs-comment"># æŸ¥çœ‹æ•°æ®åº“å¤§å°</span><br>(<span class="hljs-built_in">integer</span>) 0<br><br><span class="hljs-comment"># ä¸åŒæ•°æ®åº“ä¹‹é—´ æ•°æ®æ˜¯ä¸èƒ½äº’é€šçš„ï¼Œå¹¶ä¸”dbsize æ˜¯æ ¹æ®åº“ä¸­keyçš„ä¸ªæ•°ã€‚</span><br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> name sakura<br>OK<br>127.0.0.1:6379&gt; SELECT 8<br>OK<br>127.0.0.1:6379[8]&gt; get name <span class="hljs-comment"># db8ä¸­å¹¶ä¸èƒ½è·å–db0ä¸­çš„é”®å€¼å¯¹ã€‚</span><br>(nil)<br>127.0.0.1:6379[8]&gt; DBSIZE<br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379[8]&gt; SELECT 0<br>OK<br>127.0.0.1:6379&gt; keys *<br>1) <span class="hljs-string">&quot;counter:__rand_int__&quot;</span><br>2) <span class="hljs-string">&quot;mylist&quot;</span><br>3) <span class="hljs-string">&quot;name&quot;</span><br>4) <span class="hljs-string">&quot;key:__rand_int__&quot;</span><br>5) <span class="hljs-string">&quot;myset:__rand_int__&quot;</span><br>127.0.0.1:6379&gt; DBSIZE <span class="hljs-comment"># sizeå’Œkeyä¸ªæ•°ç›¸å…³</span><br>(<span class="hljs-built_in">integer</span>) 5<br></code></pre></td></tr></table></figure><p><code>keys *</code> ï¼šæŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­æ‰€æœ‰çš„keyã€‚</p><p><code>flushdb</code>ï¼šæ¸…ç©ºå½“å‰æ•°æ®åº“ä¸­çš„é”®å€¼å¯¹ã€‚</p><p><code>flushall</code>ï¼šæ¸…ç©ºæ‰€æœ‰æ•°æ®åº“çš„é”®å€¼å¯¹ã€‚</p><blockquote><p><strong>Redisæ˜¯å•çº¿ç¨‹çš„ï¼ŒRedisæ˜¯åŸºäºå†…å­˜æ“ä½œçš„ã€‚</strong></p></blockquote><p>æ‰€ä»¥Redisçš„æ€§èƒ½ç“¶é¢ˆä¸æ˜¯CPU,è€Œæ˜¯æœºå™¨å†…å­˜å’Œç½‘ç»œå¸¦å®½ã€‚</p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆRedisçš„é€Ÿåº¦å¦‚æ­¤å¿«å‘¢ï¼Œæ€§èƒ½è¿™ä¹ˆé«˜å‘¢ï¼ŸQPSè¾¾åˆ°10W+</p><blockquote><p><strong>Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ</strong></p></blockquote><ul><li>è¯¯åŒº1ï¼šé«˜æ€§èƒ½çš„æœåŠ¡å™¨ä¸€å®šæ˜¯å¤šçº¿ç¨‹çš„ï¼Ÿ</li><li>è¯¯åŒº2ï¼šå¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼ï¼‰ä¸€å®šæ¯”å•çº¿ç¨‹æ•ˆç‡é«˜ï¼</li></ul><p>æ ¸å¿ƒï¼šRedisæ˜¯å°†æ‰€æœ‰çš„æ•°æ®æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥è¯´ä½¿ç”¨å•çº¿ç¨‹å»æ“ä½œæ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼šè€—æ—¶çš„æ“ä½œï¼ï¼‰ï¼Œå¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šæ¬¡è¯»å†™éƒ½æ˜¯åœ¨ä¸€ä¸ªCPUä¸Šçš„ï¼Œåœ¨å†…å­˜å­˜å‚¨æ•°æ®æƒ…å†µä¸‹ï¼Œå•çº¿ç¨‹å°±æ˜¯æœ€ä½³çš„æ–¹æ¡ˆã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹‚ç¥Redis-01 NoSqlæ¦‚è¿°</title>
    <link href="/2021/03/20/2021-3-20-redis01/"/>
    <url>/2021/03/20/2021-3-20-redis01/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€Nosqlæ¦‚è¿°"><a href="#ä¸€ã€Nosqlæ¦‚è¿°" class="headerlink" title="ä¸€ã€Nosqlæ¦‚è¿°"></a>ä¸€ã€Nosqlæ¦‚è¿°</h2><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨Nosql"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨Nosql" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨Nosql"></a>ä¸ºä»€ä¹ˆä½¿ç”¨Nosql</h3><blockquote><p>1ã€å•æœºMysqlæ—¶ä»£</p></blockquote><p><img src="https://img-blog.csdnimg.cn/2020082010365930.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>90å¹´ä»£,ä¸€ä¸ªç½‘ç«™çš„è®¿é—®é‡ä¸€èˆ¬ä¸ä¼šå¤ªå¤§ï¼Œå•ä¸ªæ•°æ®åº“å®Œå…¨å¤Ÿç”¨ã€‚éšç€ç”¨æˆ·å¢å¤šï¼Œç½‘ç«™å‡ºç°ä»¥ä¸‹é—®é¢˜</p><ol><li>æ•°æ®é‡å¢åŠ åˆ°ä¸€å®šç¨‹åº¦ï¼Œå•æœºæ•°æ®åº“å°±æ”¾ä¸ä¸‹äº†</li><li>æ•°æ®çš„ç´¢å¼•ï¼ˆB+ Treeï¼‰,ä¸€ä¸ªæœºå™¨å†…å­˜ä¹Ÿå­˜æ”¾ä¸ä¸‹</li><li>è®¿é—®é‡å˜å¤§åï¼ˆè¯»å†™æ··åˆï¼‰ï¼Œä¸€å°æœåŠ¡å™¨æ‰¿å—ä¸ä½ã€‚</li></ol><blockquote><p>2ã€Memcached(ç¼“å­˜) + Mysql + å‚ç›´æ‹†åˆ†ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰</p></blockquote><p>ç½‘ç«™80%çš„æƒ…å†µéƒ½æ˜¯åœ¨è¯»ï¼Œæ¯æ¬¡éƒ½è¦å»æŸ¥è¯¢æ•°æ®åº“çš„è¯å°±ååˆ†çš„éº»çƒ¦ï¼æ‰€ä»¥è¯´æˆ‘ä»¬å¸Œæœ›å‡è½»æ•°æ®åº“çš„å‹åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¼“å­˜æ¥ä¿è¯æ•ˆç‡ï¼</p><p><img src="https://img-blog.csdnimg.cn/20200820103713734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä¼˜åŒ–è¿‡ç¨‹ç»å†äº†ä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹ï¼š</p><ol><li>ä¼˜åŒ–æ•°æ®åº“çš„æ•°æ®ç»“æ„å’Œç´¢å¼•(éš¾åº¦å¤§)</li><li>æ–‡ä»¶ç¼“å­˜ï¼Œé€šè¿‡IOæµè·å–æ¯”æ¯æ¬¡éƒ½è®¿é—®æ•°æ®åº“æ•ˆç‡ç•¥é«˜ï¼Œä½†æ˜¯æµé‡çˆ†ç‚¸å¼å¢é•¿æ—¶å€™ï¼ŒIOæµä¹Ÿæ‰¿å—ä¸äº†</li><li>MemCache,å½“æ—¶æœ€çƒ­é—¨çš„æŠ€æœ¯ï¼Œé€šè¿‡åœ¨æ•°æ®åº“å’Œæ•°æ®åº“è®¿é—®å±‚ä¹‹é—´åŠ ä¸Šä¸€å±‚ç¼“å­˜ï¼Œç¬¬ä¸€æ¬¡è®¿é—®æ—¶æŸ¥è¯¢æ•°æ®åº“ï¼Œå°†ç»“æœä¿å­˜åˆ°ç¼“å­˜ï¼Œåç»­çš„æŸ¥è¯¢å…ˆæ£€æŸ¥ç¼“å­˜ï¼Œè‹¥æœ‰ç›´æ¥æ‹¿å»ä½¿ç”¨ï¼Œæ•ˆç‡æ˜¾è‘—æå‡ã€‚</li></ol><blockquote><p>3ã€åˆ†åº“åˆ†è¡¨ + æ°´å¹³æ‹†åˆ† + Mysqlé›†ç¾¤</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200820103739584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>4ã€å¦‚ä»Šæœ€è¿‘çš„å¹´ä»£</p></blockquote><p> å¦‚ä»Šä¿¡æ¯é‡äº•å–·å¼å¢é•¿ï¼Œå„ç§å„æ ·çš„æ•°æ®å‡ºç°ï¼ˆç”¨æˆ·å®šä½æ•°æ®ï¼Œå›¾ç‰‡æ•°æ®ç­‰ï¼‰ï¼Œå¤§æ•°æ®çš„èƒŒæ™¯ä¸‹å…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰æ— æ³•æ»¡è¶³å¤§é‡æ•°æ®è¦æ±‚ã€‚Nosqlæ•°æ®åº“å°±èƒ½è½»æ¾è§£å†³è¿™äº›é—®é¢˜ã€‚</p><blockquote><p>ç›®å‰ä¸€ä¸ªåŸºæœ¬çš„äº’è”ç½‘é¡¹ç›®</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200820103804572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>ä¸ºä»€ä¹ˆè¦ç”¨NoSQL ï¼Ÿ</p></blockquote><p>ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œç¤¾äº¤ç½‘ç»œï¼Œåœ°ç†ä½ç½®ã€‚ç”¨æˆ·è‡ªå·±äº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·æ—¥å¿—ç­‰ç­‰çˆ†å‘å¼å¢é•¿ï¼<br>è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨NoSQLæ•°æ®åº“çš„ï¼ŒNosqlå¯ä»¥å¾ˆå¥½çš„å¤„ç†ä»¥ä¸Šçš„æƒ…å†µï¼</p><h3 id="ä»€ä¹ˆæ˜¯Nosql"><a href="#ä»€ä¹ˆæ˜¯Nosql" class="headerlink" title="ä»€ä¹ˆæ˜¯Nosql"></a>ä»€ä¹ˆæ˜¯Nosql</h3><p><strong>NoSQL = Not Only SQLï¼ˆä¸ä»…ä»…æ˜¯SQLï¼‰</strong></p><p>Not Only Structured Query Language</p><p>å…³ç³»å‹æ•°æ®åº“ï¼šåˆ—+è¡Œï¼ŒåŒä¸€ä¸ªè¡¨ä¸‹æ•°æ®çš„ç»“æ„æ˜¯ä¸€æ ·çš„ã€‚</p><p>éå…³ç³»å‹æ•°æ®åº“ï¼šæ•°æ®å­˜å‚¨æ²¡æœ‰å›ºå®šçš„æ ¼å¼ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚</p><p>NoSQLæ³›æŒ‡éå…³ç³»å‹æ•°æ®åº“ï¼Œéšç€web2.0äº’è”ç½‘çš„è¯ç”Ÿï¼Œä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å¾ˆéš¾å¯¹ä»˜web2.0æ—¶ä»£ï¼å°¤å…¶æ˜¯è¶…å¤§è§„æ¨¡çš„é«˜å¹¶å‘çš„ç¤¾åŒºï¼Œæš´éœ²å‡ºæ¥å¾ˆå¤šéš¾ä»¥å…‹æœçš„é—®é¢˜ï¼ŒNoSQLåœ¨å½“ä»Šå¤§æ•°æ®ç¯å¢ƒä¸‹å‘å±•çš„ååˆ†è¿…é€Ÿï¼ŒRedisæ˜¯å‘å±•æœ€å¿«çš„ã€‚</p><h3 id="Nosqlç‰¹ç‚¹"><a href="#Nosqlç‰¹ç‚¹" class="headerlink" title="Nosqlç‰¹ç‚¹"></a>Nosqlç‰¹ç‚¹</h3><ol><li><p>æ–¹ä¾¿æ‰©å±•ï¼ˆæ•°æ®ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œå¾ˆå¥½æ‰©å±•ï¼ï¼‰</p></li><li><p>å¤§æ•°æ®é‡é«˜æ€§èƒ½ï¼ˆRedisä¸€ç§’å¯ä»¥å†™8ä¸‡æ¬¡ï¼Œè¯»11ä¸‡æ¬¡ï¼ŒNoSQLçš„ç¼“å­˜è®°å½•çº§ï¼Œæ˜¯ä¸€ç§ç»†ç²’åº¦çš„ç¼“å­˜ï¼Œæ€§èƒ½ä¼šæ¯”è¾ƒé«˜ï¼ï¼‰</p></li><li><p>æ•°æ®ç±»å‹æ˜¯å¤šæ ·å‹çš„ï¼ï¼ˆä¸éœ€è¦äº‹å…ˆè®¾è®¡æ•°æ®åº“ï¼Œéšå–éšç”¨ï¼‰</p></li><li><p>ä¼ ç»Ÿçš„ RDBMS å’Œ NoSQL</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">ä¼ ç»Ÿçš„ RDBMS(å…³ç³»å‹æ•°æ®åº“)<br><span class="hljs-bullet">- </span>ç»“æ„åŒ–ç»„ç»‡<br><span class="hljs-bullet">- </span>SQL<br><span class="hljs-bullet">- </span>æ•°æ®å’Œå…³ç³»éƒ½å­˜åœ¨å•ç‹¬çš„è¡¨ä¸­ row col<br><span class="hljs-bullet">- </span>æ“ä½œï¼Œæ•°æ®å®šä¹‰è¯­è¨€<br><span class="hljs-bullet">- </span>ä¸¥æ ¼çš„ä¸€è‡´æ€§<br><span class="hljs-bullet">- </span>åŸºç¡€çš„äº‹åŠ¡<br><span class="hljs-bullet">- </span>...<br></code></pre></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">Nosql<br><span class="hljs-bullet">- </span>ä¸ä»…ä»…æ˜¯æ•°æ®<br><span class="hljs-bullet">- </span>æ²¡æœ‰å›ºå®šçš„æŸ¥è¯¢è¯­è¨€<br><span class="hljs-bullet">- </span>é”®å€¼å¯¹å­˜å‚¨ï¼Œåˆ—å­˜å‚¨ï¼Œæ–‡æ¡£å­˜å‚¨ï¼Œå›¾å½¢æ•°æ®åº“ï¼ˆç¤¾äº¤å…³ç³»ï¼‰<br><span class="hljs-bullet">- </span>æœ€ç»ˆä¸€è‡´æ€§<br><span class="hljs-bullet">- </span>CAPå®šç†å’ŒBASE<br><span class="hljs-bullet">- </span>é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨ï¼Œé«˜æ‰©å±•<br><span class="hljs-bullet">- </span>...<br></code></pre></td></tr></table></figure></li></ol><blockquote><p>äº†è§£ï¼š3V + 3é«˜</p></blockquote><p>å¤§æ•°æ®æ—¶ä»£çš„3V ï¼šä¸»è¦æ˜¯<strong>æè¿°é—®é¢˜</strong>çš„</p><ol><li>æµ·é‡Velume</li><li>å¤šæ ·Variety</li><li>å®æ—¶Velocity</li></ol><p>å¤§æ•°æ®æ—¶ä»£çš„3é«˜ ï¼š ä¸»è¦æ˜¯<strong>å¯¹ç¨‹åºçš„è¦æ±‚</strong></p><ol><li>é«˜å¹¶å‘</li><li>é«˜å¯æ‰©</li><li>é«˜æ€§èƒ½</li></ol><p>çœŸæ­£åœ¨å…¬å¸ä¸­çš„å®è·µï¼šNoSQL + RDBMS ä¸€èµ·ä½¿ç”¨æ‰æ˜¯æœ€å¼ºçš„ã€‚</p><h3 id="é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ"><a href="#é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ" class="headerlink" title="é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ"></a>é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ</h3><p>æ¨èé˜…è¯»ï¼šé˜¿é‡Œäº‘çš„è¿™ç¾¤ç–¯å­<a href="https://yq.aliyun.com/articles/653511">https://yq.aliyun.com/articles/653511</a></p><p><img src="https://img-blog.csdnimg.cn/20200820103829446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="1"></p><p><img src="https://img-blog.csdnimg.cn/20200820103851613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å•†å“ä¿¡æ¯</span><br>- ä¸€èˆ¬å­˜æ”¾åœ¨å…³ç³»å‹æ•°æ®åº“ï¼šMysql,é˜¿é‡Œå·´å·´ä½¿ç”¨çš„Mysqléƒ½æ˜¯ç»è¿‡å†…éƒ¨æ”¹åŠ¨çš„ã€‚<br><br><span class="hljs-comment"># å•†å“æè¿°ã€è¯„è®º(æ–‡å­—å±…å¤š)</span><br>- æ–‡æ¡£å‹æ•°æ®åº“ï¼šMongoDB<br><br><span class="hljs-comment"># å›¾ç‰‡</span><br>- åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ FastDFS<br>- æ·˜å®ï¼šTFS<br>- Google: GFS<br>- Hadoop: HDFS<br>- é˜¿é‡Œäº‘: oss<br><br><span class="hljs-comment"># å•†å“å…³é”®å­— ç”¨äºæœç´¢</span><br>- æœç´¢å¼•æ“ï¼šsolr,elasticsearch<br>- é˜¿é‡Œï¼šIsearch å¤šéš†<br><br><span class="hljs-comment"># å•†å“çƒ­é—¨çš„æ³¢æ®µä¿¡æ¯</span><br>- å†…å­˜æ•°æ®åº“ï¼šRedisï¼ŒMemcache<br><br><span class="hljs-comment"># å•†å“äº¤æ˜“ï¼Œå¤–éƒ¨æ”¯ä»˜æ¥å£</span><br>- ç¬¬ä¸‰æ–¹åº”ç”¨<br></code></pre></td></tr></table></figure><h3 id="Nosqlçš„å››å¤§åˆ†ç±»"><a href="#Nosqlçš„å››å¤§åˆ†ç±»" class="headerlink" title="Nosqlçš„å››å¤§åˆ†ç±»"></a>Nosqlçš„å››å¤§åˆ†ç±»</h3><blockquote><p><strong>KVé”®å€¼å¯¹</strong></p></blockquote><ul><li>æ–°æµªï¼š<strong>Redis</strong></li><li>ç¾å›¢ï¼šRedis + Tair</li><li>é˜¿é‡Œã€ç™¾åº¦ï¼šRedis + Memcache</li></ul><blockquote><p><strong>æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆbsonæ•°æ®æ ¼å¼ï¼‰ï¼š</strong></p></blockquote><ul><li><strong>MongoDB</strong>(æŒæ¡)<ul><li>åŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ã€‚C++ç¼–å†™ï¼Œç”¨äºå¤„ç†å¤§é‡æ–‡æ¡£ã€‚</li><li>MongoDBæ˜¯RDBMSå’ŒNoSQLçš„ä¸­é—´äº§å“ã€‚MongoDBæ˜¯éå…³ç³»å‹æ•°æ®åº“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œçš„ï¼ŒNoSQLä¸­æœ€åƒå…³ç³»å‹æ•°æ®åº“çš„æ•°æ®åº“ã€‚</li></ul></li><li>ConthDB</li></ul><blockquote><p><strong>åˆ—å­˜å‚¨æ•°æ®åº“</strong></p></blockquote><ul><li><strong>HBase</strong>(å¤§æ•°æ®å¿…å­¦)</li><li>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</li></ul><blockquote><p><strong>å›¾å…³ç³»æ•°æ®åº“</strong></p></blockquote><p>ç”¨äºå¹¿å‘Šæ¨èï¼Œç¤¾äº¤ç½‘ç»œ</p><ul><li><strong>Neo4j</strong>ã€InfoGrid</li></ul><table><thead><tr><th><strong>åˆ†ç±»</strong></th><th><strong>Examplesä¸¾ä¾‹</strong></th><th><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></th><th><strong>æ•°æ®æ¨¡å‹</strong></th><th><strong>ä¼˜ç‚¹</strong></th><th><strong>ç¼ºç‚¹</strong></th></tr></thead><tbody><tr><td><strong>é”®å€¼å¯¹ï¼ˆkey-valueï¼‰</strong></td><td>Tokyo Cabinet/Tyrant, Redis, Voldemort, Oracle BDB</td><td>å†…å®¹ç¼“å­˜ï¼Œä¸»è¦ç”¨äºå¤„ç†å¤§é‡æ•°æ®çš„é«˜è®¿é—®è´Ÿè½½ï¼Œä¹Ÿç”¨äºä¸€äº›æ—¥å¿—ç³»ç»Ÿç­‰ç­‰ã€‚</td><td>Key æŒ‡å‘ Value çš„é”®å€¼å¯¹ï¼Œé€šå¸¸ç”¨hash tableæ¥å®ç°</td><td>æŸ¥æ‰¾é€Ÿåº¦å¿«</td><td>æ•°æ®æ— ç»“æ„åŒ–ï¼Œé€šå¸¸åªè¢«å½“ä½œå­—ç¬¦ä¸²æˆ–è€…äºŒè¿›åˆ¶æ•°æ®</td></tr><tr><td><strong>åˆ—å­˜å‚¨æ•°æ®åº“</strong></td><td>Cassandra, HBase, Riak</td><td>åˆ†å¸ƒå¼çš„æ–‡ä»¶ç³»ç»Ÿ</td><td>ä»¥åˆ—ç°‡å¼å­˜å‚¨ï¼Œå°†åŒä¸€åˆ—æ•°æ®å­˜åœ¨ä¸€èµ·</td><td>æŸ¥æ‰¾é€Ÿåº¦å¿«ï¼Œå¯æ‰©å±•æ€§å¼ºï¼Œæ›´å®¹æ˜“è¿›è¡Œåˆ†å¸ƒå¼æ‰©å±•</td><td>åŠŸèƒ½ç›¸å¯¹å±€é™</td></tr><tr><td><strong>æ–‡æ¡£å‹æ•°æ®åº“</strong></td><td>CouchDB, MongoDb</td><td>Webåº”ç”¨ï¼ˆä¸Key-Valueç±»ä¼¼ï¼ŒValueæ˜¯ç»“æ„åŒ–çš„ï¼Œä¸åŒçš„æ˜¯æ•°æ®åº“èƒ½å¤Ÿäº†è§£Valueçš„å†…å®¹ï¼‰</td><td>Key-Valueå¯¹åº”çš„é”®å€¼å¯¹ï¼ŒValueä¸ºç»“æ„åŒ–æ•°æ®</td><td>æ•°æ®ç»“æ„è¦æ±‚ä¸ä¸¥æ ¼ï¼Œè¡¨ç»“æ„å¯å˜ï¼Œä¸éœ€è¦åƒå…³ç³»å‹æ•°æ®åº“ä¸€æ ·éœ€è¦é¢„å…ˆå®šä¹‰è¡¨ç»“æ„</td><td>æŸ¥è¯¢æ€§èƒ½ä¸é«˜ï¼Œè€Œä¸”ç¼ºä¹ç»Ÿä¸€çš„æŸ¥è¯¢è¯­æ³•ã€‚</td></tr><tr><td><strong>å›¾å½¢(Graph)æ•°æ®åº“</strong></td><td>Neo4J, InfoGrid, Infinite Graph</td><td>ç¤¾äº¤ç½‘ç»œï¼Œæ¨èç³»ç»Ÿç­‰ã€‚ä¸“æ³¨äºæ„å»ºå…³ç³»å›¾è°±</td><td>å›¾ç»“æ„</td><td>åˆ©ç”¨å›¾ç»“æ„ç›¸å…³ç®—æ³•ã€‚æ¯”å¦‚æœ€çŸ­è·¯å¾„å¯»å€ï¼ŒNåº¦å…³ç³»æŸ¥æ‰¾ç­‰</td><td>å¾ˆå¤šæ—¶å€™éœ€è¦å¯¹æ•´ä¸ªå›¾åšè®¡ç®—æ‰èƒ½å¾—å‡ºéœ€è¦çš„ä¿¡æ¯ï¼Œè€Œä¸”è¿™ç§ç»“æ„ä¸å¤ªå¥½åšåˆ†å¸ƒå¼çš„é›†ç¾¤</td></tr></tbody></table>]]></content>
    
    
    
    <tags>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹‚ç¥Redis-04 ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹</title>
    <link href="/2021/03/20/2021-3-20-redis04/"/>
    <url>/2021/03/20/2021-3-20-redis04/</url>
    
    <content type="html"><![CDATA[<h2 id="å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹"><a href="#å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹" class="headerlink" title="å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹"></a>å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹</h2><h3 id="Geospatial-åœ°ç†ä½ç½®"><a href="#Geospatial-åœ°ç†ä½ç½®" class="headerlink" title="Geospatial(åœ°ç†ä½ç½®)"></a>Geospatial(åœ°ç†ä½ç½®)</h3><blockquote><p>ä½¿ç”¨ç»çº¬åº¦å®šä½åœ°ç†åæ ‡å¹¶ç”¨ä¸€ä¸ª<strong>æœ‰åºé›†åˆzsetä¿å­˜</strong>ï¼Œæ‰€ä»¥zsetå‘½ä»¤ä¹Ÿå¯ä»¥ä½¿ç”¨</p></blockquote><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>geoadd key longitud(ç»åº¦) latitude(çº¬åº¦) member [..]</code></td><td>å°†å…·ä½“ç»çº¬åº¦çš„åæ ‡å­˜å…¥ä¸€ä¸ªæœ‰åºé›†åˆ</td></tr><tr><td><code>geopos key member [member..]</code></td><td>è·å–é›†åˆä¸­çš„ä¸€ä¸ª/å¤šä¸ªæˆå‘˜åæ ‡</td></tr><tr><td><code>geodist key member1 member2 [unit]</code></td><td>è¿”å›ä¸¤ä¸ªç»™å®šä½ç½®ä¹‹é—´çš„è·ç¦»ã€‚é»˜è®¤ä»¥ç±³ä½œä¸ºå•ä½ã€‚</td></tr><tr><td>`georadius key longitude latitude radius m</td><td>km</td></tr><tr><td><code>GEORADIUSBYMEMBER key member radius...</code></td><td>åŠŸèƒ½ä¸GEORADIUSç›¸åŒï¼Œåªæ˜¯ä¸­å¿ƒä½ç½®ä¸æ˜¯å…·ä½“çš„ç»çº¬åº¦ï¼Œè€Œæ˜¯ä½¿ç”¨ç»“åˆä¸­å·²æœ‰çš„æˆå‘˜ä½œä¸ºä¸­å¿ƒç‚¹ã€‚</td></tr><tr><td><code>geohash key member1 [member2..]</code></td><td>è¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªä½ç½®å…ƒç´ çš„Geohashè¡¨ç¤ºã€‚ä½¿ç”¨Geohashä½ç½®52ç‚¹æ•´æ•°ç¼–ç ã€‚</td></tr></tbody></table><p><strong>æœ‰æ•ˆç»çº¬åº¦</strong></p><blockquote><ul><li>æœ‰æ•ˆçš„ç»åº¦ä»-180åº¦åˆ°180åº¦ã€‚</li><li>æœ‰æ•ˆçš„çº¬åº¦ä»-85.05112878åº¦åˆ°85.05112878åº¦ã€‚</li></ul></blockquote><p>æŒ‡å®šå•ä½çš„å‚æ•° <strong>unit</strong> å¿…é¡»æ˜¯ä»¥ä¸‹å•ä½çš„å…¶ä¸­ä¸€ä¸ªï¼š</p><ul><li><strong>m</strong> è¡¨ç¤ºå•ä½ä¸ºç±³ã€‚</li><li><strong>km</strong> è¡¨ç¤ºå•ä½ä¸ºåƒç±³ã€‚</li><li><strong>mi</strong> è¡¨ç¤ºå•ä½ä¸ºè‹±é‡Œã€‚</li><li><strong>ft</strong> è¡¨ç¤ºå•ä½ä¸ºè‹±å°ºã€‚</li></ul><p><strong>å…³äºGEORADIUSçš„å‚æ•°</strong></p><blockquote><p>é€šè¿‡<code>georadius</code>å°±å¯ä»¥å®Œæˆ <strong>é™„è¿‘çš„äºº</strong>åŠŸèƒ½</p><p>withcoord:å¸¦ä¸Šåæ ‡</p><p>withdist:å¸¦ä¸Šè·ç¦»ï¼Œå•ä½ä¸åŠå¾„å•ä½ç›¸åŒ</p><p>COUNT n : åªæ˜¾ç¤ºå‰nä¸ª(æŒ‰è·ç¦»é€’å¢æ’åº)</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">----------------georadius---------------------<br>127.0.0.1:6379&gt; GEORADIUS china:city 120 30 500 km withcoord withdist <span class="hljs-comment"># æŸ¥è¯¢ç»çº¬åº¦(120,30)åæ ‡500kmåŠå¾„å†…çš„æˆå‘˜</span><br>1) 1) <span class="hljs-string">&quot;hangzhou&quot;</span><br>   2) <span class="hljs-string">&quot;29.4151&quot;</span><br>   3) 1) <span class="hljs-string">&quot;120.20000249147415&quot;</span><br>      2) <span class="hljs-string">&quot;30.199999888333501&quot;</span><br>2) 1) <span class="hljs-string">&quot;shanghai&quot;</span><br>   2) <span class="hljs-string">&quot;205.3611&quot;</span><br>   3) 1) <span class="hljs-string">&quot;121.40000134706497&quot;</span><br>      2) <span class="hljs-string">&quot;31.400000253193539&quot;</span><br><br>------------geohash---------------------------<br>127.0.0.1:6379&gt; geohash china:city yichang shanghai <span class="hljs-comment"># è·å–æˆå‘˜ç»çº¬åæ ‡çš„geohashè¡¨ç¤º</span><br>1) <span class="hljs-string">&quot;wmrjwbr5250&quot;</span><br>2) <span class="hljs-string">&quot;wtw6ds0y300&quot;</span><br></code></pre></td></tr></table></figure><h3 id="Hyperloglog-åŸºæ•°ç»Ÿè®¡"><a href="#Hyperloglog-åŸºæ•°ç»Ÿè®¡" class="headerlink" title="Hyperloglog(åŸºæ•°ç»Ÿè®¡)"></a>Hyperloglog(åŸºæ•°ç»Ÿè®¡)</h3><blockquote><p>Redis HyperLogLog æ˜¯ç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼ŒHyperLogLog çš„ä¼˜ç‚¹æ˜¯ï¼Œåœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§æ—¶ï¼Œè®¡ç®—åŸºæ•°æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®šçš„ã€å¹¶ä¸”æ˜¯å¾ˆå°çš„ã€‚</p><p>èŠ±è´¹ 12 KB å†…å­˜ï¼Œå°±å¯ä»¥è®¡ç®—æ¥è¿‘ 2^64 ä¸ªä¸åŒå…ƒç´ çš„åŸºæ•°ã€‚</p><p>å› ä¸º HyperLogLog åªä¼šæ ¹æ®è¾“å…¥å…ƒç´ æ¥è®¡ç®—åŸºæ•°ï¼Œè€Œä¸ä¼šå‚¨å­˜è¾“å…¥å…ƒç´ æœ¬èº«ï¼Œæ‰€ä»¥ HyperLogLog ä¸èƒ½åƒé›†åˆé‚£æ ·ï¼Œè¿”å›è¾“å…¥çš„å„ä¸ªå…ƒç´ ã€‚</p><p>å…¶åº•å±‚ä½¿ç”¨stringæ•°æ®ç±»å‹</p></blockquote><p><strong>ä»€ä¹ˆæ˜¯åŸºæ•°ï¼Ÿ</strong></p><blockquote><p>æ•°æ®é›†ä¸­ä¸é‡å¤çš„å…ƒç´ çš„ä¸ªæ•°ã€‚</p></blockquote><p><strong>åº”ç”¨åœºæ™¯ï¼š</strong></p><p>ç½‘é¡µçš„è®¿é—®é‡ï¼ˆUVï¼‰ï¼šä¸€ä¸ªç”¨æˆ·å¤šæ¬¡è®¿é—®ï¼Œä¹Ÿåªèƒ½ç®—ä½œä¸€ä¸ªäººã€‚</p><blockquote><p>ä¼ ç»Ÿå®ç°ï¼Œå­˜å‚¨ç”¨æˆ·çš„id,ç„¶åæ¯æ¬¡è¿›è¡Œæ¯”è¾ƒã€‚å½“ç”¨æˆ·å˜å¤šä¹‹åè¿™ç§æ–¹å¼åŠå…¶æµªè´¹ç©ºé—´ï¼Œè€Œæˆ‘ä»¬çš„ç›®çš„åªæ˜¯<strong>è®¡æ•°</strong>ï¼ŒHyperloglogå°±èƒ½å¸®åŠ©æˆ‘ä»¬åˆ©ç”¨æœ€å°çš„ç©ºé—´å®Œæˆã€‚</p></blockquote><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>PFADD key element1 [elememt2..]</code></td><td>æ·»åŠ æŒ‡å®šå…ƒç´ åˆ° HyperLogLog ä¸­</td></tr><tr><td><code>PFCOUNT key [key]</code></td><td>è¿”å›ç»™å®š HyperLogLog çš„åŸºæ•°ä¼°ç®—å€¼ã€‚</td></tr><tr><td><code>PFMERGE destkey sourcekey [sourcekey..]</code></td><td>å°†å¤šä¸ª HyperLogLog åˆå¹¶ä¸ºä¸€ä¸ª HyperLogLog</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">----------PFADD--PFCOUNT---------------------<br>127.0.0.1:6379&gt; PFADD myelemx a b c d e f g h i j k <span class="hljs-comment"># æ·»åŠ å…ƒç´ </span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; <span class="hljs-built_in">type</span> myelemx <span class="hljs-comment"># hyperloglogåº•å±‚ä½¿ç”¨String</span><br>string<br>127.0.0.1:6379&gt; PFCOUNT myelemx <span class="hljs-comment"># ä¼°ç®—myelemxçš„åŸºæ•°</span><br>(<span class="hljs-built_in">integer</span>) 11<br>127.0.0.1:6379&gt; PFADD myelemy i j k z m c b v p q s<br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; PFCOUNT myelemy<br>(<span class="hljs-built_in">integer</span>) 11<br><br>----------------PFMERGE-----------------------<br>127.0.0.1:6379&gt; PFMERGE myelemz myelemx myelemy <span class="hljs-comment"># åˆå¹¶myelemxå’Œmyelemy æˆä¸ºmyelemz</span><br>OK<br>127.0.0.1:6379&gt; PFCOUNT myelemz <span class="hljs-comment"># ä¼°ç®—åŸºæ•°</span><br>(<span class="hljs-built_in">integer</span>) 17<br></code></pre></td></tr></table></figure><p>å¦‚æœå…è®¸å®¹é”™ï¼Œé‚£ä¹ˆä¸€å®šå¯ä»¥ä½¿ç”¨Hyperloglog !</p><p>å¦‚æœä¸å…è®¸å®¹é”™ï¼Œå°±ä½¿ç”¨setæˆ–è€…è‡ªå·±çš„æ•°æ®ç±»å‹å³å¯ ï¼</p><h3 id="BitMaps-ä½å›¾"><a href="#BitMaps-ä½å›¾" class="headerlink" title="BitMaps(ä½å›¾)"></a>BitMaps(ä½å›¾)</h3><blockquote><p>ä½¿ç”¨ä½å­˜å‚¨ï¼Œä¿¡æ¯çŠ¶æ€åªæœ‰ 0 å’Œ 1</p><p>Bitmapæ˜¯ä¸€ä¸²è¿ç»­çš„2è¿›åˆ¶æ•°å­—ï¼ˆ0æˆ–1ï¼‰ï¼Œæ¯ä¸€ä½æ‰€åœ¨çš„ä½ç½®ä¸ºåç§»(offset)ï¼Œåœ¨bitmapä¸Šå¯æ‰§è¡ŒAND,OR,XOR,NOTä»¥åŠå…¶å®ƒä½æ“ä½œã€‚</p></blockquote><p><strong>åº”ç”¨åœºæ™¯</strong></p><p>ç­¾åˆ°ç»Ÿè®¡ã€çŠ¶æ€ç»Ÿè®¡</p><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>setbit key offset value</code></td><td>ä¸ºæŒ‡å®škeyçš„offsetä½è®¾ç½®å€¼</td></tr><tr><td><code>getbit key offset</code></td><td>è·å–offsetä½çš„å€¼</td></tr><tr><td><code>bitcount key [start end]</code></td><td>ç»Ÿè®¡å­—ç¬¦ä¸²è¢«è®¾ç½®ä¸º1çš„bitæ•°ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç»Ÿè®¡èŒƒå›´æŒ‰å­—èŠ‚</td></tr><tr><td><code>bitop operration destkey key[key..]</code></td><td>å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªä¿å­˜äºŒè¿›åˆ¶ä½çš„å­—ç¬¦ä¸² key è¿›è¡Œä½å…ƒæ“ä½œï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ° destkey ä¸Šã€‚</td></tr><tr><td><code>BITPOS key bit [start] [end]</code></td><td>è¿”å›å­—ç¬¦ä¸²é‡Œé¢ç¬¬ä¸€ä¸ªè¢«è®¾ç½®ä¸º1æˆ–è€…0çš„bitä½ã€‚startå’Œendåªèƒ½æŒ‰å­—èŠ‚,ä¸èƒ½æŒ‰ä½</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">------------setbit--getbit--------------<br>127.0.0.1:6379&gt; setbit sign 0 1 <span class="hljs-comment"># è®¾ç½®signçš„ç¬¬0ä½ä¸º 1</span><br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; setbit sign 2 1 <span class="hljs-comment"># è®¾ç½®signçš„ç¬¬2ä½ä¸º 1  ä¸è®¾ç½®é»˜è®¤ æ˜¯0</span><br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; setbit sign 3 1<br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; setbit sign 5 1<br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; <span class="hljs-built_in">type</span> sign<br>string<br><br>127.0.0.1:6379&gt; getbit sign 2 <span class="hljs-comment"># è·å–ç¬¬2ä½çš„æ•°å€¼</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; getbit sign 3<br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; getbit sign 4 <span class="hljs-comment"># æœªè®¾ç½®é»˜è®¤æ˜¯0</span><br>(<span class="hljs-built_in">integer</span>) 0<br><br>-----------bitcount----------------------------<br>127.0.0.1:6379&gt; BITCOUNT sign <span class="hljs-comment"># ç»Ÿè®¡signä¸­ä¸º1çš„ä½æ•°</span><br>(<span class="hljs-built_in">integer</span>) 4<br></code></pre></td></tr></table></figure><p><strong>bitmapsçš„åº•å±‚</strong></p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-9PlszjhS-1597890996519)(D:\æˆ‘\MyBlog\ç‹‚ç¥è¯´ Redis.assets\image-20200803234336175.png)]</p><p>è¿™æ ·è®¾ç½®ä»¥åä½ èƒ½getåˆ°çš„å€¼æ˜¯ï¼š<strong>\xA2\x80</strong>ï¼Œæ‰€ä»¥bitmapsæ˜¯ä¸€ä¸²ä»å·¦åˆ°å³çš„äºŒè¿›åˆ¶ä¸²</p>]]></content>
    
    
    
    <tags>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹‚ç¥Redis-05 äº‹åŠ¡</title>
    <link href="/2021/03/20/2021-3-20-redis05/"/>
    <url>/2021/03/20/2021-3-20-redis05/</url>
    
    <content type="html"><![CDATA[<h2 id="äº”ã€äº‹åŠ¡"><a href="#äº”ã€äº‹åŠ¡" class="headerlink" title="äº”ã€äº‹åŠ¡"></a>äº”ã€äº‹åŠ¡</h2><p>Redisçš„å•æ¡å‘½ä»¤æ˜¯ä¿è¯åŸå­æ€§çš„ï¼Œä½†æ˜¯redisäº‹åŠ¡ä¸èƒ½ä¿è¯åŸå­æ€§</p><blockquote><p>Redisäº‹åŠ¡æœ¬è´¨ï¼šä¸€ç»„å‘½ä»¤çš„é›†åˆã€‚</p><p>â€”â€”â€”â€”â€”â€“ é˜Ÿåˆ— set set set æ‰§è¡Œ â€”â€”â€”â€”â€”â€”-</p><p>äº‹åŠ¡ä¸­æ¯æ¡å‘½ä»¤éƒ½ä¼šè¢«åºåˆ—åŒ–ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¸­æŒ‰é¡ºåºæ‰§è¡Œï¼Œä¸å…è®¸å…¶ä»–å‘½ä»¤è¿›è¡Œå¹²æ‰°ã€‚</p><ul><li>ä¸€æ¬¡æ€§</li><li>é¡ºåºæ€§</li><li>æ’ä»–æ€§</li></ul><hr><ol><li>Redisäº‹åŠ¡æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µ</li><li>Rediså•æ¡å‘½ä»¤æ˜¯ä¿è¯åŸå­æ€§çš„ï¼Œä½†æ˜¯äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§ï¼</li></ol></blockquote><h3 id="Redisäº‹åŠ¡æ“ä½œè¿‡ç¨‹"><a href="#Redisäº‹åŠ¡æ“ä½œè¿‡ç¨‹" class="headerlink" title="Redisäº‹åŠ¡æ“ä½œè¿‡ç¨‹"></a>Redisäº‹åŠ¡æ“ä½œè¿‡ç¨‹</h3><ul><li>å¼€å¯äº‹åŠ¡ï¼ˆ<code>multi</code>ï¼‰</li><li>å‘½ä»¤å…¥é˜Ÿ</li><li>æ‰§è¡Œäº‹åŠ¡ï¼ˆ<code>exec</code>ï¼‰</li></ul><p>æ‰€ä»¥äº‹åŠ¡ä¸­çš„å‘½ä»¤åœ¨åŠ å…¥æ—¶éƒ½æ²¡æœ‰è¢«æ‰§è¡Œï¼Œç›´åˆ°æäº¤æ—¶æ‰ä¼šå¼€å§‹æ‰§è¡Œ(Exec)ä¸€æ¬¡æ€§å®Œæˆã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; multi <span class="hljs-comment"># å¼€å¯äº‹åŠ¡</span><br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k1 v1 <span class="hljs-comment"># å‘½ä»¤å…¥é˜Ÿ</span><br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k2 v2 <span class="hljs-comment"># ..</span><br>QUEUED<br>127.0.0.1:6379&gt; get k1<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k3 v3<br>QUEUED<br>127.0.0.1:6379&gt; keys *<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">exec</span> <span class="hljs-comment"># äº‹åŠ¡æ‰§è¡Œ</span><br>1) OK<br>2) OK<br>3) <span class="hljs-string">&quot;v1&quot;</span><br>4) OK<br>5) 1) <span class="hljs-string">&quot;k3&quot;</span><br>   2) <span class="hljs-string">&quot;k2&quot;</span><br>   3) <span class="hljs-string">&quot;k1&quot;</span><br></code></pre></td></tr></table></figure><p><strong>å–æ¶ˆäº‹åŠ¡(<code>discurd</code>)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k1 v1<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k2 v2<br>QUEUED<br>127.0.0.1:6379&gt; DISCARD <span class="hljs-comment"># æ”¾å¼ƒäº‹åŠ¡</span><br>OK<br>127.0.0.1:6379&gt; EXEC<br>(error) ERR EXEC without MULTI <span class="hljs-comment"># å½“å‰æœªå¼€å¯äº‹åŠ¡</span><br>127.0.0.1:6379&gt; get k1 <span class="hljs-comment"># è¢«æ”¾å¼ƒäº‹åŠ¡ä¸­å‘½ä»¤å¹¶æœªæ‰§è¡Œ</span><br>(nil)<br></code></pre></td></tr></table></figure><h3 id="äº‹åŠ¡é”™è¯¯"><a href="#äº‹åŠ¡é”™è¯¯" class="headerlink" title="äº‹åŠ¡é”™è¯¯"></a>äº‹åŠ¡é”™è¯¯</h3><blockquote><p>ä»£ç è¯­æ³•é”™è¯¯ï¼ˆç¼–è¯‘æ—¶å¼‚å¸¸ï¼‰æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¸æ‰§è¡Œ</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k1 v1<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k2 v2<br>QUEUED<br>127.0.0.1:6379&gt; error k1 <span class="hljs-comment"># è¿™æ˜¯ä¸€æ¡è¯­æ³•é”™è¯¯å‘½ä»¤</span><br>(error) ERR unknown <span class="hljs-built_in">command</span> `error`, with args beginning with: `k1`, <span class="hljs-comment"># ä¼šæŠ¥é”™ä½†æ˜¯ä¸å½±å“åç»­å‘½ä»¤å…¥é˜Ÿ</span><br>127.0.0.1:6379&gt; get k2<br>QUEUED<br>127.0.0.1:6379&gt; EXEC<br>(error) EXECABORT Transaction discarded because of previous errors. <span class="hljs-comment"># æ‰§è¡ŒæŠ¥é”™</span><br>127.0.0.1:6379&gt; get k1<br>(nil) <span class="hljs-comment"># å…¶ä»–å‘½ä»¤å¹¶æ²¡æœ‰è¢«æ‰§è¡Œ</span><br></code></pre></td></tr></table></figure><blockquote><p>ä»£ç é€»è¾‘é”™è¯¯ (è¿è¡Œæ—¶å¼‚å¸¸) **å…¶ä»–å‘½ä»¤å¯ä»¥æ­£å¸¸æ‰§è¡Œ ** &gt;&gt;&gt; æ‰€ä»¥ä¸ä¿è¯äº‹åŠ¡åŸå­æ€§</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k1 v1<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> k2 v2<br>QUEUED<br>127.0.0.1:6379&gt; INCR k1 <span class="hljs-comment"># è¿™æ¡å‘½ä»¤é€»è¾‘é”™è¯¯ï¼ˆå¯¹å­—ç¬¦ä¸²è¿›è¡Œå¢é‡ï¼‰</span><br>QUEUED<br>127.0.0.1:6379&gt; get k2<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">exec</span><br>1) OK<br>2) OK<br>3) (error) ERR value is not an <span class="hljs-built_in">integer</span> or out of range <span class="hljs-comment"># è¿è¡Œæ—¶æŠ¥é”™</span><br>4) <span class="hljs-string">&quot;v2&quot;</span> <span class="hljs-comment"># å…¶ä»–å‘½ä»¤æ­£å¸¸æ‰§è¡Œ</span><br><br><span class="hljs-comment"># è™½ç„¶ä¸­é—´æœ‰ä¸€æ¡å‘½ä»¤æŠ¥é”™äº†ï¼Œä½†æ˜¯åé¢çš„æŒ‡ä»¤ä¾æ—§æ­£å¸¸æ‰§è¡ŒæˆåŠŸäº†ã€‚</span><br><span class="hljs-comment"># æ‰€ä»¥è¯´Rediså•æ¡æŒ‡ä»¤ä¿è¯åŸå­æ€§ï¼Œä½†æ˜¯Redisäº‹åŠ¡ä¸èƒ½ä¿è¯åŸå­æ€§ã€‚</span><br></code></pre></td></tr></table></figure><h3 id="ç›‘æ§"><a href="#ç›‘æ§" class="headerlink" title="ç›‘æ§"></a>ç›‘æ§</h3><p><strong>æ‚²è§‚é”ï¼š</strong></p><ul><li>å¾ˆæ‚²è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œæ— è®ºåšä»€ä¹ˆéƒ½ä¼šåŠ é”</li></ul><p><strong>ä¹è§‚é”ï¼š</strong></p><ul><li>å¾ˆä¹è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼æ›´æ–°æ•°æ®çš„æ—¶å€™å»åˆ¤æ–­ä¸€ä¸‹ï¼Œåœ¨æ­¤æœŸé—´æ˜¯å¦æœ‰äººä¿®æ”¹è¿‡è¿™ä¸ªæ•°æ®</li><li>è·å–version</li><li>æ›´æ–°çš„æ—¶å€™æ¯”è¾ƒversion</li></ul><p>ä½¿ç”¨<code>watch key</code>ç›‘æ§æŒ‡å®šæ•°æ®ï¼Œç›¸å½“äºä¹è§‚é”åŠ é”ã€‚</p><blockquote><p>æ­£å¸¸æ‰§è¡Œ</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> money 100 <span class="hljs-comment"># è®¾ç½®ä½™é¢:100</span><br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> use 0 <span class="hljs-comment"># æ”¯å‡ºä½¿ç”¨:0</span><br>OK<br>127.0.0.1:6379&gt; watch money <span class="hljs-comment"># ç›‘è§†money (ä¸Šé”)</span><br>OK<br>127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; DECRBY money 20<br>QUEUED<br>127.0.0.1:6379&gt; INCRBY use 20<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-built_in">exec</span> <span class="hljs-comment"># ç›‘è§†å€¼æ²¡æœ‰è¢«ä¸­é€”ä¿®æ”¹ï¼Œäº‹åŠ¡æ­£å¸¸æ‰§è¡Œ</span><br>1) (<span class="hljs-built_in">integer</span>) 80<br>2) (<span class="hljs-built_in">integer</span>) 20<br></code></pre></td></tr></table></figure><blockquote><p>æµ‹è¯•å¤šçº¿ç¨‹ä¿®æ”¹å€¼ï¼Œä½¿ç”¨watchå¯ä»¥å½“åšredisçš„ä¹è§‚é”æ“ä½œï¼ˆç›¸å½“äºgetversionï¼‰</p></blockquote><p>æˆ‘ä»¬å¯åŠ¨å¦å¤–ä¸€ä¸ªå®¢æˆ·ç«¯æ¨¡æ‹Ÿæ’é˜Ÿçº¿ç¨‹ã€‚</p><p>çº¿ç¨‹1ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; watch money <span class="hljs-comment"># moneyä¸Šé”</span><br>OK<br>127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; DECRBY money 20<br>QUEUED<br>127.0.0.1:6379&gt; INCRBY use 20<br>QUEUED<br>127.0.0.1:6379&gt; <span class="hljs-comment"># æ­¤æ—¶äº‹åŠ¡å¹¶æ²¡æœ‰æ‰§è¡Œ</span><br></code></pre></td></tr></table></figure><p>æ¨¡æ‹Ÿçº¿ç¨‹æ’é˜Ÿï¼Œçº¿ç¨‹2ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; INCRBY money 500 <span class="hljs-comment"># ä¿®æ”¹äº†çº¿ç¨‹ä¸€ä¸­ç›‘è§†çš„money</span><br>(<span class="hljs-built_in">integer</span>) 600<br>12<br></code></pre></td></tr></table></figure><p>å›åˆ°çº¿ç¨‹1ï¼Œæ‰§è¡Œäº‹åŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; EXEC <span class="hljs-comment"># æ‰§è¡Œä¹‹å‰ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æˆ‘ä»¬çš„å€¼ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå¯¼è‡´äº‹åŠ¡æ‰§è¡Œå¤±è´¥</span><br>(nil) <span class="hljs-comment"># æ²¡æœ‰ç»“æœï¼Œè¯´æ˜äº‹åŠ¡æ‰§è¡Œå¤±è´¥</span><br><br>127.0.0.1:6379&gt; get money <span class="hljs-comment"># çº¿ç¨‹2 ä¿®æ”¹ç”Ÿæ•ˆ</span><br><span class="hljs-string">&quot;600&quot;</span><br>127.0.0.1:6379&gt; get use <span class="hljs-comment"># çº¿ç¨‹1äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œæ•°å€¼æ²¡æœ‰è¢«ä¿®æ”¹</span><br><span class="hljs-string">&quot;0&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p>è§£é”è·å–æœ€æ–°å€¼ï¼Œç„¶åå†åŠ é”è¿›è¡Œäº‹åŠ¡ã€‚</p><p><code>unwatch</code>è¿›è¡Œè§£é”ã€‚</p></blockquote><p>æ³¨æ„ï¼šæ¯æ¬¡æäº¤æ‰§è¡Œexecåéƒ½ä¼šè‡ªåŠ¨é‡Šæ”¾é”ï¼Œä¸ç®¡æ˜¯å¦æˆåŠŸ</p>]]></content>
    
    
    
    <tags>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹‚ç¥Redis-06 JRedis</title>
    <link href="/2021/03/20/2021-3-20-redis06/"/>
    <url>/2021/03/20/2021-3-20-redis06/</url>
    
    <content type="html"><![CDATA[<h2 id="å…­ã€Jedis"><a href="#å…­ã€Jedis" class="headerlink" title="å…­ã€Jedis"></a>å…­ã€Jedis</h2><p>ä½¿ç”¨Javaæ¥æ“ä½œRedisï¼ŒJedisæ˜¯Rediså®˜æ–¹æ¨èä½¿ç”¨çš„Javaè¿æ¥redisçš„å®¢æˆ·ç«¯ã€‚</p><ol><li><p>å¯¼å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯¼å…¥jredisçš„åŒ…--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--fastjson--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.70<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–ç æµ‹è¯•</p><ul><li><p>è¿æ¥æ•°æ®åº“</p><ol><li><p>ä¿®æ”¹redisçš„é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /usr/<span class="hljs-built_in">local</span>/bin/myconfig/redis.conf<br>1<br></code></pre></td></tr></table></figure><ol><li><p>å°†åªç»‘å®šæœ¬åœ°æ³¨é‡Š</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-4IRUFJ95-1597890996520)(ç‹‚ç¥è¯´ Redis.assets/image-20200813161921480.png)]</p></li><li><p>ä¿æŠ¤æ¨¡å¼æ”¹ä¸º no</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-oKjIVapw-1597890996521)(ç‹‚ç¥è¯´ Redis.assets/image-20200813161939847.png)]</p></li><li><p>å…è®¸åå°è¿è¡Œ</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-c2IMvpZL-1597890996522)(ç‹‚ç¥è¯´ Redis.assets/image-20200813161954567.png)]</p></li></ol></li></ol></li></ul></li><li><p>å¼€æ”¾ç«¯å£6379</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">firewall-cmd --zone=public --add-port=6379/tcp --permanet<br>1<br></code></pre></td></tr></table></figure><p>é‡å¯é˜²ç«å¢™æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl restart firewalld.service<br>1<br></code></pre></td></tr></table></figure><ol><li><p>é˜¿é‡Œäº‘æœåŠ¡å™¨æ§åˆ¶å°é…ç½®å®‰å…¨ç»„</p></li><li><p>é‡å¯redis-server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@AlibabaECS bin]<span class="hljs-comment"># redis-server myconfig/redis.conf</span><br>1<br></code></pre></td></tr></table></figure></li></ol></li></ol><ul><li><p>æ“ä½œå‘½ä»¤</p><p><strong>TestPing.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestPing</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Jedis jedis = <span class="hljs-keyword">new</span> Jedis(<span class="hljs-string">&quot;192.168.xx.xxx&quot;</span>, <span class="hljs-number">6379</span>);<br>        String response = jedis.ping();<br>        System.out.println(response); <span class="hljs-comment">// PONG</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ–­å¼€è¿æ¥</p></li></ul><ol><li><p><strong>äº‹åŠ¡</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestTX</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Jedis jedis = <span class="hljs-keyword">new</span> Jedis(<span class="hljs-string">&quot;39.99.xxx.xx&quot;</span>, <span class="hljs-number">6379</span>);<br><br>        JSONObject jsonObject = <span class="hljs-keyword">new</span> JSONObject();<br>        jsonObject.put(<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-string">&quot;world&quot;</span>);<br>        jsonObject.put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;kuangshen&quot;</span>);<br>        <span class="hljs-comment">// å¼€å¯äº‹åŠ¡</span><br>        Transaction multi = jedis.multi();<br>        String result = jsonObject.toJSONString();<br>        <span class="hljs-comment">// jedis.watch(result)</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            multi.set(<span class="hljs-string">&quot;user1&quot;</span>, result);<br>            multi.set(<span class="hljs-string">&quot;user2&quot;</span>, result);<br>            <span class="hljs-comment">// æ‰§è¡Œäº‹åŠ¡</span><br>            multi.exec();<br>        &#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>            <span class="hljs-comment">// æ”¾å¼ƒäº‹åŠ¡</span><br>            multi.discard();<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-comment">// å…³é—­è¿æ¥</span><br>            System.out.println(jedis.get(<span class="hljs-string">&quot;user1&quot;</span>));<br>            System.out.println(jedis.get(<span class="hljs-string">&quot;user2&quot;</span>));<br>            jedis.close();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹‚ç¥Redis-07 Springbootæ•´åˆ</title>
    <link href="/2021/03/20/2021-3-20-redis07/"/>
    <url>/2021/03/20/2021-3-20-redis07/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€Nosqlæ¦‚è¿°"><a href="#ä¸€ã€Nosqlæ¦‚è¿°" class="headerlink" title="ä¸€ã€Nosqlæ¦‚è¿°"></a>ä¸€ã€Nosqlæ¦‚è¿°</h2><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨Nosql"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨Nosql" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨Nosql"></a>ä¸ºä»€ä¹ˆä½¿ç”¨Nosql</h3><blockquote><p>1ã€å•æœºMysqlæ—¶ä»£</p></blockquote><p><img src="https://img-blog.csdnimg.cn/2020082010365930.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>90å¹´ä»£,ä¸€ä¸ªç½‘ç«™çš„è®¿é—®é‡ä¸€èˆ¬ä¸ä¼šå¤ªå¤§ï¼Œå•ä¸ªæ•°æ®åº“å®Œå…¨å¤Ÿç”¨ã€‚éšç€ç”¨æˆ·å¢å¤šï¼Œç½‘ç«™å‡ºç°ä»¥ä¸‹é—®é¢˜</p><ol><li>æ•°æ®é‡å¢åŠ åˆ°ä¸€å®šç¨‹åº¦ï¼Œå•æœºæ•°æ®åº“å°±æ”¾ä¸ä¸‹äº†</li><li>æ•°æ®çš„ç´¢å¼•ï¼ˆB+ Treeï¼‰,ä¸€ä¸ªæœºå™¨å†…å­˜ä¹Ÿå­˜æ”¾ä¸ä¸‹</li><li>è®¿é—®é‡å˜å¤§åï¼ˆè¯»å†™æ··åˆï¼‰ï¼Œä¸€å°æœåŠ¡å™¨æ‰¿å—ä¸ä½ã€‚</li></ol><blockquote><p>2ã€Memcached(ç¼“å­˜) + Mysql + å‚ç›´æ‹†åˆ†ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰</p></blockquote><p>ç½‘ç«™80%çš„æƒ…å†µéƒ½æ˜¯åœ¨è¯»ï¼Œæ¯æ¬¡éƒ½è¦å»æŸ¥è¯¢æ•°æ®åº“çš„è¯å°±ååˆ†çš„éº»çƒ¦ï¼æ‰€ä»¥è¯´æˆ‘ä»¬å¸Œæœ›å‡è½»æ•°æ®åº“çš„å‹åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¼“å­˜æ¥ä¿è¯æ•ˆç‡ï¼</p><p><img src="https://img-blog.csdnimg.cn/20200820103713734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä¼˜åŒ–è¿‡ç¨‹ç»å†äº†ä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹ï¼š</p><ol><li>ä¼˜åŒ–æ•°æ®åº“çš„æ•°æ®ç»“æ„å’Œç´¢å¼•(éš¾åº¦å¤§)</li><li>æ–‡ä»¶ç¼“å­˜ï¼Œé€šè¿‡IOæµè·å–æ¯”æ¯æ¬¡éƒ½è®¿é—®æ•°æ®åº“æ•ˆç‡ç•¥é«˜ï¼Œä½†æ˜¯æµé‡çˆ†ç‚¸å¼å¢é•¿æ—¶å€™ï¼ŒIOæµä¹Ÿæ‰¿å—ä¸äº†</li><li>MemCache,å½“æ—¶æœ€çƒ­é—¨çš„æŠ€æœ¯ï¼Œé€šè¿‡åœ¨æ•°æ®åº“å’Œæ•°æ®åº“è®¿é—®å±‚ä¹‹é—´åŠ ä¸Šä¸€å±‚ç¼“å­˜ï¼Œç¬¬ä¸€æ¬¡è®¿é—®æ—¶æŸ¥è¯¢æ•°æ®åº“ï¼Œå°†ç»“æœä¿å­˜åˆ°ç¼“å­˜ï¼Œåç»­çš„æŸ¥è¯¢å…ˆæ£€æŸ¥ç¼“å­˜ï¼Œè‹¥æœ‰ç›´æ¥æ‹¿å»ä½¿ç”¨ï¼Œæ•ˆç‡æ˜¾è‘—æå‡ã€‚</li></ol><blockquote><p>3ã€åˆ†åº“åˆ†è¡¨ + æ°´å¹³æ‹†åˆ† + Mysqlé›†ç¾¤</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200820103739584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>4ã€å¦‚ä»Šæœ€è¿‘çš„å¹´ä»£</p></blockquote><p> å¦‚ä»Šä¿¡æ¯é‡äº•å–·å¼å¢é•¿ï¼Œå„ç§å„æ ·çš„æ•°æ®å‡ºç°ï¼ˆç”¨æˆ·å®šä½æ•°æ®ï¼Œå›¾ç‰‡æ•°æ®ç­‰ï¼‰ï¼Œå¤§æ•°æ®çš„èƒŒæ™¯ä¸‹å…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰æ— æ³•æ»¡è¶³å¤§é‡æ•°æ®è¦æ±‚ã€‚Nosqlæ•°æ®åº“å°±èƒ½è½»æ¾è§£å†³è¿™äº›é—®é¢˜ã€‚</p><blockquote><p>ç›®å‰ä¸€ä¸ªåŸºæœ¬çš„äº’è”ç½‘é¡¹ç›®</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20200820103804572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>ä¸ºä»€ä¹ˆè¦ç”¨NoSQL ï¼Ÿ</p></blockquote><p>ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œç¤¾äº¤ç½‘ç»œï¼Œåœ°ç†ä½ç½®ã€‚ç”¨æˆ·è‡ªå·±äº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·æ—¥å¿—ç­‰ç­‰çˆ†å‘å¼å¢é•¿ï¼<br>è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨NoSQLæ•°æ®åº“çš„ï¼ŒNosqlå¯ä»¥å¾ˆå¥½çš„å¤„ç†ä»¥ä¸Šçš„æƒ…å†µï¼</p><h3 id="ä»€ä¹ˆæ˜¯Nosql"><a href="#ä»€ä¹ˆæ˜¯Nosql" class="headerlink" title="ä»€ä¹ˆæ˜¯Nosql"></a>ä»€ä¹ˆæ˜¯Nosql</h3><p><strong>NoSQL = Not Only SQLï¼ˆä¸ä»…ä»…æ˜¯SQLï¼‰</strong></p><p>Not Only Structured Query Language</p><p>å…³ç³»å‹æ•°æ®åº“ï¼šåˆ—+è¡Œï¼ŒåŒä¸€ä¸ªè¡¨ä¸‹æ•°æ®çš„ç»“æ„æ˜¯ä¸€æ ·çš„ã€‚</p><p>éå…³ç³»å‹æ•°æ®åº“ï¼šæ•°æ®å­˜å‚¨æ²¡æœ‰å›ºå®šçš„æ ¼å¼ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚</p><p>NoSQLæ³›æŒ‡éå…³ç³»å‹æ•°æ®åº“ï¼Œéšç€web2.0äº’è”ç½‘çš„è¯ç”Ÿï¼Œä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å¾ˆéš¾å¯¹ä»˜web2.0æ—¶ä»£ï¼å°¤å…¶æ˜¯è¶…å¤§è§„æ¨¡çš„é«˜å¹¶å‘çš„ç¤¾åŒºï¼Œæš´éœ²å‡ºæ¥å¾ˆå¤šéš¾ä»¥å…‹æœçš„é—®é¢˜ï¼ŒNoSQLåœ¨å½“ä»Šå¤§æ•°æ®ç¯å¢ƒä¸‹å‘å±•çš„ååˆ†è¿…é€Ÿï¼ŒRedisæ˜¯å‘å±•æœ€å¿«çš„ã€‚</p><h3 id="Nosqlç‰¹ç‚¹"><a href="#Nosqlç‰¹ç‚¹" class="headerlink" title="Nosqlç‰¹ç‚¹"></a>Nosqlç‰¹ç‚¹</h3><ol><li><p>æ–¹ä¾¿æ‰©å±•ï¼ˆæ•°æ®ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œå¾ˆå¥½æ‰©å±•ï¼ï¼‰</p></li><li><p>å¤§æ•°æ®é‡é«˜æ€§èƒ½ï¼ˆRedisä¸€ç§’å¯ä»¥å†™8ä¸‡æ¬¡ï¼Œè¯»11ä¸‡æ¬¡ï¼ŒNoSQLçš„ç¼“å­˜è®°å½•çº§ï¼Œæ˜¯ä¸€ç§ç»†ç²’åº¦çš„ç¼“å­˜ï¼Œæ€§èƒ½ä¼šæ¯”è¾ƒé«˜ï¼ï¼‰</p></li><li><p>æ•°æ®ç±»å‹æ˜¯å¤šæ ·å‹çš„ï¼ï¼ˆä¸éœ€è¦äº‹å…ˆè®¾è®¡æ•°æ®åº“ï¼Œéšå–éšç”¨ï¼‰</p></li><li><p>ä¼ ç»Ÿçš„ RDBMS å’Œ NoSQL</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">ä¼ ç»Ÿçš„ RDBMS(å…³ç³»å‹æ•°æ®åº“)<br><span class="hljs-bullet">- </span>ç»“æ„åŒ–ç»„ç»‡<br><span class="hljs-bullet">- </span>SQL<br><span class="hljs-bullet">- </span>æ•°æ®å’Œå…³ç³»éƒ½å­˜åœ¨å•ç‹¬çš„è¡¨ä¸­ row col<br><span class="hljs-bullet">- </span>æ“ä½œï¼Œæ•°æ®å®šä¹‰è¯­è¨€<br><span class="hljs-bullet">- </span>ä¸¥æ ¼çš„ä¸€è‡´æ€§<br><span class="hljs-bullet">- </span>åŸºç¡€çš„äº‹åŠ¡<br><span class="hljs-bullet">- </span>...<br></code></pre></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">Nosql<br><span class="hljs-bullet">- </span>ä¸ä»…ä»…æ˜¯æ•°æ®<br><span class="hljs-bullet">- </span>æ²¡æœ‰å›ºå®šçš„æŸ¥è¯¢è¯­è¨€<br><span class="hljs-bullet">- </span>é”®å€¼å¯¹å­˜å‚¨ï¼Œåˆ—å­˜å‚¨ï¼Œæ–‡æ¡£å­˜å‚¨ï¼Œå›¾å½¢æ•°æ®åº“ï¼ˆç¤¾äº¤å…³ç³»ï¼‰<br><span class="hljs-bullet">- </span>æœ€ç»ˆä¸€è‡´æ€§<br><span class="hljs-bullet">- </span>CAPå®šç†å’ŒBASE<br><span class="hljs-bullet">- </span>é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨ï¼Œé«˜æ‰©å±•<br><span class="hljs-bullet">- </span>...<br></code></pre></td></tr></table></figure></li></ol><blockquote><p>äº†è§£ï¼š3V + 3é«˜</p></blockquote><p>å¤§æ•°æ®æ—¶ä»£çš„3V ï¼šä¸»è¦æ˜¯<strong>æè¿°é—®é¢˜</strong>çš„</p><ol><li>æµ·é‡Velume</li><li>å¤šæ ·Variety</li><li>å®æ—¶Velocity</li></ol><p>å¤§æ•°æ®æ—¶ä»£çš„3é«˜ ï¼š ä¸»è¦æ˜¯<strong>å¯¹ç¨‹åºçš„è¦æ±‚</strong></p><ol><li>é«˜å¹¶å‘</li><li>é«˜å¯æ‰©</li><li>é«˜æ€§èƒ½</li></ol><p>çœŸæ­£åœ¨å…¬å¸ä¸­çš„å®è·µï¼šNoSQL + RDBMS ä¸€èµ·ä½¿ç”¨æ‰æ˜¯æœ€å¼ºçš„ã€‚</p><h3 id="é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ"><a href="#é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ" class="headerlink" title="é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ"></a>é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ</h3><p>æ¨èé˜…è¯»ï¼šé˜¿é‡Œäº‘çš„è¿™ç¾¤ç–¯å­<a href="https://yq.aliyun.com/articles/653511">https://yq.aliyun.com/articles/653511</a></p><p><img src="https://img-blog.csdnimg.cn/20200820103829446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="1"></p><p><img src="https://img-blog.csdnimg.cn/20200820103851613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># å•†å“ä¿¡æ¯</span><br>- ä¸€èˆ¬å­˜æ”¾åœ¨å…³ç³»å‹æ•°æ®åº“ï¼šMysql,é˜¿é‡Œå·´å·´ä½¿ç”¨çš„Mysqléƒ½æ˜¯ç»è¿‡å†…éƒ¨æ”¹åŠ¨çš„ã€‚<br><br><span class="hljs-comment"># å•†å“æè¿°ã€è¯„è®º(æ–‡å­—å±…å¤š)</span><br>- æ–‡æ¡£å‹æ•°æ®åº“ï¼šMongoDB<br><br><span class="hljs-comment"># å›¾ç‰‡</span><br>- åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ FastDFS<br>- æ·˜å®ï¼šTFS<br>- Google: GFS<br>- Hadoop: HDFS<br>- é˜¿é‡Œäº‘: oss<br><br><span class="hljs-comment"># å•†å“å…³é”®å­— ç”¨äºæœç´¢</span><br>- æœç´¢å¼•æ“ï¼šsolr,elasticsearch<br>- é˜¿é‡Œï¼šIsearch å¤šéš†<br><br><span class="hljs-comment"># å•†å“çƒ­é—¨çš„æ³¢æ®µä¿¡æ¯</span><br>- å†…å­˜æ•°æ®åº“ï¼šRedisï¼ŒMemcache<br><br><span class="hljs-comment"># å•†å“äº¤æ˜“ï¼Œå¤–éƒ¨æ”¯ä»˜æ¥å£</span><br>- ç¬¬ä¸‰æ–¹åº”ç”¨<br></code></pre></td></tr></table></figure><h3 id="Nosqlçš„å››å¤§åˆ†ç±»"><a href="#Nosqlçš„å››å¤§åˆ†ç±»" class="headerlink" title="Nosqlçš„å››å¤§åˆ†ç±»"></a>Nosqlçš„å››å¤§åˆ†ç±»</h3><blockquote><p><strong>KVé”®å€¼å¯¹</strong></p></blockquote><ul><li>æ–°æµªï¼š<strong>Redis</strong></li><li>ç¾å›¢ï¼šRedis + Tair</li><li>é˜¿é‡Œã€ç™¾åº¦ï¼šRedis + Memcache</li></ul><blockquote><p><strong>æ–‡æ¡£å‹æ•°æ®åº“ï¼ˆbsonæ•°æ®æ ¼å¼ï¼‰ï¼š</strong></p></blockquote><ul><li><strong>MongoDB</strong>(æŒæ¡)<ul><li>åŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ã€‚C++ç¼–å†™ï¼Œç”¨äºå¤„ç†å¤§é‡æ–‡æ¡£ã€‚</li><li>MongoDBæ˜¯RDBMSå’ŒNoSQLçš„ä¸­é—´äº§å“ã€‚MongoDBæ˜¯éå…³ç³»å‹æ•°æ®åº“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œçš„ï¼ŒNoSQLä¸­æœ€åƒå…³ç³»å‹æ•°æ®åº“çš„æ•°æ®åº“ã€‚</li></ul></li><li>ConthDB</li></ul><blockquote><p><strong>åˆ—å­˜å‚¨æ•°æ®åº“</strong></p></blockquote><ul><li><strong>HBase</strong>(å¤§æ•°æ®å¿…å­¦)</li><li>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</li></ul><blockquote><p><strong>å›¾å…³ç³»æ•°æ®åº“</strong></p></blockquote><p>ç”¨äºå¹¿å‘Šæ¨èï¼Œç¤¾äº¤ç½‘ç»œ</p><ul><li><strong>Neo4j</strong>ã€InfoGrid</li></ul><table><thead><tr><th><strong>åˆ†ç±»</strong></th><th><strong>Examplesä¸¾ä¾‹</strong></th><th><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></th><th><strong>æ•°æ®æ¨¡å‹</strong></th><th><strong>ä¼˜ç‚¹</strong></th><th><strong>ç¼ºç‚¹</strong></th></tr></thead><tbody><tr><td><strong>é”®å€¼å¯¹ï¼ˆkey-valueï¼‰</strong></td><td>Tokyo Cabinet/Tyrant, Redis, Voldemort, Oracle BDB</td><td>å†…å®¹ç¼“å­˜ï¼Œä¸»è¦ç”¨äºå¤„ç†å¤§é‡æ•°æ®çš„é«˜è®¿é—®è´Ÿè½½ï¼Œä¹Ÿç”¨äºä¸€äº›æ—¥å¿—ç³»ç»Ÿç­‰ç­‰ã€‚</td><td>Key æŒ‡å‘ Value çš„é”®å€¼å¯¹ï¼Œé€šå¸¸ç”¨hash tableæ¥å®ç°</td><td>æŸ¥æ‰¾é€Ÿåº¦å¿«</td><td>æ•°æ®æ— ç»“æ„åŒ–ï¼Œé€šå¸¸åªè¢«å½“ä½œå­—ç¬¦ä¸²æˆ–è€…äºŒè¿›åˆ¶æ•°æ®</td></tr><tr><td><strong>åˆ—å­˜å‚¨æ•°æ®åº“</strong></td><td>Cassandra, HBase, Riak</td><td>åˆ†å¸ƒå¼çš„æ–‡ä»¶ç³»ç»Ÿ</td><td>ä»¥åˆ—ç°‡å¼å­˜å‚¨ï¼Œå°†åŒä¸€åˆ—æ•°æ®å­˜åœ¨ä¸€èµ·</td><td>æŸ¥æ‰¾é€Ÿåº¦å¿«ï¼Œå¯æ‰©å±•æ€§å¼ºï¼Œæ›´å®¹æ˜“è¿›è¡Œåˆ†å¸ƒå¼æ‰©å±•</td><td>åŠŸèƒ½ç›¸å¯¹å±€é™</td></tr><tr><td><strong>æ–‡æ¡£å‹æ•°æ®åº“</strong></td><td>CouchDB, MongoDb</td><td>Webåº”ç”¨ï¼ˆä¸Key-Valueç±»ä¼¼ï¼ŒValueæ˜¯ç»“æ„åŒ–çš„ï¼Œä¸åŒçš„æ˜¯æ•°æ®åº“èƒ½å¤Ÿäº†è§£Valueçš„å†…å®¹ï¼‰</td><td>Key-Valueå¯¹åº”çš„é”®å€¼å¯¹ï¼ŒValueä¸ºç»“æ„åŒ–æ•°æ®</td><td>æ•°æ®ç»“æ„è¦æ±‚ä¸ä¸¥æ ¼ï¼Œè¡¨ç»“æ„å¯å˜ï¼Œä¸éœ€è¦åƒå…³ç³»å‹æ•°æ®åº“ä¸€æ ·éœ€è¦é¢„å…ˆå®šä¹‰è¡¨ç»“æ„</td><td>æŸ¥è¯¢æ€§èƒ½ä¸é«˜ï¼Œè€Œä¸”ç¼ºä¹ç»Ÿä¸€çš„æŸ¥è¯¢è¯­æ³•ã€‚</td></tr><tr><td><strong>å›¾å½¢(Graph)æ•°æ®åº“</strong></td><td>Neo4J, InfoGrid, Infinite Graph</td><td>ç¤¾äº¤ç½‘ç»œï¼Œæ¨èç³»ç»Ÿç­‰ã€‚ä¸“æ³¨äºæ„å»ºå…³ç³»å›¾è°±</td><td>å›¾ç»“æ„</td><td>åˆ©ç”¨å›¾ç»“æ„ç›¸å…³ç®—æ³•ã€‚æ¯”å¦‚æœ€çŸ­è·¯å¾„å¯»å€ï¼ŒNåº¦å…³ç³»æŸ¥æ‰¾ç­‰</td><td>å¾ˆå¤šæ—¶å€™éœ€è¦å¯¹æ•´ä¸ªå›¾åšè®¡ç®—æ‰èƒ½å¾—å‡ºéœ€è¦çš„ä¿¡æ¯ï¼Œè€Œä¸”è¿™ç§ç»“æ„ä¸å¤ªå¥½åšåˆ†å¸ƒå¼çš„é›†ç¾¤</td></tr></tbody></table>]]></content>
    
    
    
    <tags>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‹‚ç¥Redis-03 äº”å¤§æ•°æ®ç±»å‹</title>
    <link href="/2021/03/20/2021-3-20-redis03/"/>
    <url>/2021/03/20/2021-3-20-redis03/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹"><a href="#ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹" class="headerlink" title="ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹"></a>ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹</h2><p> Redisæ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰ï¼Œå†…å­˜å­˜å‚¨çš„æ•°æ®ç»“æ„æœåŠ¡å™¨ï¼Œå¯ç”¨ä½œ<strong>æ•°æ®åº“</strong>ï¼Œ<strong>é«˜é€Ÿç¼“å­˜</strong>å’Œ<strong>æ¶ˆæ¯é˜Ÿåˆ—ä»£ç†</strong>ã€‚å®ƒæ”¯æŒ<a href="https://www.redis.net.cn/tutorial/3508.html">å­—ç¬¦ä¸²</a>ã€<a href="https://www.redis.net.cn/tutorial/3509.html">å“ˆå¸Œè¡¨</a>ã€<a href="https://www.redis.net.cn/tutorial/3510.html">åˆ—è¡¨</a>ã€<a href="https://www.redis.net.cn/tutorial/3511.html">é›†åˆ</a>ã€<a href="https://www.redis.net.cn/tutorial/3512.html">æœ‰åºé›†åˆ</a>ï¼Œ<a href="https://www.redis.net.cn/tutorial/3508.html">ä½å›¾</a>ï¼Œ<a href="https://www.redis.net.cn/tutorial/3513.html">hyperloglogs</a>ç­‰æ•°æ®ç±»å‹ã€‚å†…ç½®å¤åˆ¶ã€<a href="https://www.redis.net.cn/tutorial/3516.html">Luaè„šæœ¬</a>ã€LRUæ”¶å›ã€<a href="https://www.redis.net.cn/tutorial/3515.html">äº‹åŠ¡</a>ä»¥åŠä¸åŒçº§åˆ«ç£ç›˜æŒä¹…åŒ–åŠŸèƒ½ï¼ŒåŒæ—¶é€šè¿‡Redis Sentinelæä¾›é«˜å¯ç”¨ï¼Œé€šè¿‡Redis Clusteræä¾›è‡ªåŠ¨<a href="https://www.redis.net.cn/tutorial/3524.html">åˆ†åŒº</a>ã€‚</p><h3 id="Redis-key"><a href="#Redis-key" class="headerlink" title="Redis-key"></a>Redis-key</h3><blockquote><p>åœ¨redisä¸­æ— è®ºä»€ä¹ˆæ•°æ®ç±»å‹ï¼Œåœ¨æ•°æ®åº“ä¸­éƒ½æ˜¯ä»¥key-valueå½¢å¼ä¿å­˜ï¼Œé€šè¿‡è¿›è¡Œå¯¹Redis-keyçš„æ“ä½œï¼Œæ¥å®Œæˆå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ“ä½œã€‚</p></blockquote><p>ä¸‹é¢å­¦ä¹ çš„å‘½ä»¤ï¼š</p><ul><li><code>exists key</code>ï¼šåˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨</li><li><code>del key</code>ï¼šåˆ é™¤é”®å€¼å¯¹</li><li><code>move key db</code>ï¼šå°†é”®å€¼å¯¹ç§»åŠ¨åˆ°æŒ‡å®šæ•°æ®åº“</li><li><code>expire key second</code>ï¼šè®¾ç½®é”®å€¼å¯¹çš„è¿‡æœŸæ—¶é—´</li><li><code>type key</code>ï¼šæŸ¥çœ‹valueçš„æ•°æ®ç±»å‹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs bash">127.0.0.1:6379&gt; keys * <span class="hljs-comment"># æŸ¥çœ‹å½“å‰æ•°æ®åº“æ‰€æœ‰key</span><br>(empty list or <span class="hljs-built_in">set</span>)<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> name qinjiang <span class="hljs-comment"># set key</span><br>OK<br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> age 20<br>OK<br>127.0.0.1:6379&gt; keys *<br>1) <span class="hljs-string">&quot;age&quot;</span><br>2) <span class="hljs-string">&quot;name&quot;</span><br>127.0.0.1:6379&gt; move age 1 <span class="hljs-comment"># å°†é”®å€¼å¯¹ç§»åŠ¨åˆ°æŒ‡å®šæ•°æ®åº“</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; EXISTS age <span class="hljs-comment"># åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨</span><br>(<span class="hljs-built_in">integer</span>) 0 <span class="hljs-comment"># ä¸å­˜åœ¨</span><br>127.0.0.1:6379&gt; EXISTS name<br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># å­˜åœ¨</span><br>127.0.0.1:6379&gt; SELECT 1<br>OK<br>127.0.0.1:6379[1]&gt; keys *<br>1) <span class="hljs-string">&quot;age&quot;</span><br>127.0.0.1:6379[1]&gt; del age <span class="hljs-comment"># åˆ é™¤é”®å€¼å¯¹</span><br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># åˆ é™¤ä¸ªæ•°</span><br><br><br>127.0.0.1:6379&gt; <span class="hljs-built_in">set</span> age 20<br>OK<br>127.0.0.1:6379&gt; EXPIRE age 15 <span class="hljs-comment"># è®¾ç½®é”®å€¼å¯¹çš„è¿‡æœŸæ—¶é—´</span><br><br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># è®¾ç½®æˆåŠŸ å¼€å§‹è®¡æ•°</span><br>127.0.0.1:6379&gt; ttl age <span class="hljs-comment"># æŸ¥çœ‹keyçš„è¿‡æœŸå‰©ä½™æ—¶é—´</span><br>(<span class="hljs-built_in">integer</span>) 13<br>127.0.0.1:6379&gt; ttl age<br>(<span class="hljs-built_in">integer</span>) 11<br>127.0.0.1:6379&gt; ttl age<br>(<span class="hljs-built_in">integer</span>) 9<br>127.0.0.1:6379&gt; ttl age<br>(<span class="hljs-built_in">integer</span>) -2 <span class="hljs-comment"># -2 è¡¨ç¤ºkeyè¿‡æœŸï¼Œ-1è¡¨ç¤ºkeyæœªè®¾ç½®è¿‡æœŸæ—¶é—´</span><br><br>127.0.0.1:6379&gt; get age <span class="hljs-comment"># è¿‡æœŸçš„key ä¼šè¢«è‡ªåŠ¨delete</span><br>(nil)<br>127.0.0.1:6379&gt; keys *<br>1) <span class="hljs-string">&quot;name&quot;</span><br><br>127.0.0.1:6379&gt; <span class="hljs-built_in">type</span> name <span class="hljs-comment"># æŸ¥çœ‹valueçš„æ•°æ®ç±»å‹</span><br>string<br></code></pre></td></tr></table></figure><p>å…³äº<code>TTL</code>å‘½ä»¤</p><p>Redisçš„keyï¼Œé€šè¿‡TTLå‘½ä»¤è¿”å›keyçš„è¿‡æœŸæ—¶é—´ï¼Œä¸€èˆ¬æ¥è¯´æœ‰3ç§ï¼š</p><ol><li>å½“å‰keyæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥ä¼šè¿”å›-1.</li><li>å½“å‰keyæœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè€Œä¸”keyå·²ç»è¿‡æœŸï¼Œæ‰€ä»¥ä¼šè¿”å›-2.</li><li>å½“å‰keyæœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œä¸”keyè¿˜æ²¡æœ‰è¿‡æœŸï¼Œæ•…ä¼šè¿”å›keyçš„æ­£å¸¸å‰©ä½™æ—¶é—´.</li></ol><p>å…³äºé‡å‘½å<code>RENAME</code>å’Œ<code>RENAMENX</code></p><ul><li><code>RENAME key newkey</code>ä¿®æ”¹ key çš„åç§°</li><li><code>RENAMENX key newkey</code>ä»…å½“ newkey ä¸å­˜åœ¨æ—¶ï¼Œå°† key æ”¹åä¸º newkey ã€‚</li></ul><p>æ›´å¤šå‘½ä»¤å­¦ä¹ ï¼š<a href="https://www.redis.net.cn/order/">https://www.redis.net.cn/order/</a></p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-wBVZtGVm-1597890996517)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114228439.png)]</p><h3 id="String-å­—ç¬¦ä¸²"><a href="#String-å­—ç¬¦ä¸²" class="headerlink" title="String(å­—ç¬¦ä¸²)"></a>String(å­—ç¬¦ä¸²)</h3><p>æ™®é€šçš„setã€getç›´æ¥ç•¥è¿‡ã€‚</p><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>APPEND key value</code></td><td>å‘æŒ‡å®šçš„keyçš„valueåè¿½åŠ å­—ç¬¦ä¸²</td><td>127.0.0.1:6379&gt; set msg hello OK 127.0.0.1:6379&gt; append msg â€œ worldâ€ (integer) 11 127.0.0.1:6379&gt; get msg â€œhello worldâ€</td></tr><tr><td><code>DECR/INCR key</code></td><td>å°†æŒ‡å®škeyçš„valueæ•°å€¼è¿›è¡Œ+1/-1(ä»…å¯¹äºæ•°å­—)</td><td>127.0.0.1:6379&gt; set age 20 OK 127.0.0.1:6379&gt; incr age (integer) 21 127.0.0.1:6379&gt; decr age (integer) 20</td></tr><tr><td><code>INCRBY/DECRBY key n</code></td><td>æŒ‰æŒ‡å®šçš„æ­¥é•¿å¯¹æ•°å€¼è¿›è¡ŒåŠ å‡</td><td>127.0.0.1:6379&gt; INCRBY age 5 (integer) 25 127.0.0.1:6379&gt; DECRBY age 10 (integer) 15</td></tr><tr><td><code>INCRBYFLOAT key n</code></td><td>ä¸ºæ•°å€¼åŠ ä¸Šæµ®ç‚¹å‹æ•°å€¼</td><td>127.0.0.1:6379&gt; INCRBYFLOAT age 5.2 â€œ20.2â€</td></tr><tr><td><code>STRLEN key</code></td><td>è·å–keyä¿å­˜å€¼çš„å­—ç¬¦ä¸²é•¿åº¦</td><td>127.0.0.1:6379&gt; get msg â€œhello worldâ€ 127.0.0.1:6379&gt; STRLEN msg (integer) 11</td></tr><tr><td><code>GETRANGE key start end</code></td><td>æŒ‰èµ·æ­¢ä½ç½®è·å–å­—ç¬¦ä¸²ï¼ˆé—­åŒºé—´ï¼Œèµ·æ­¢ä½ç½®éƒ½å–ï¼‰</td><td>127.0.0.1:6379&gt; get msg â€œhello worldâ€ 127.0.0.1:6379&gt; GETRANGE msg 3 9 â€œlo worlâ€</td></tr><tr><td><code>SETRANGE key offset value</code></td><td>ç”¨æŒ‡å®šçš„value æ›¿æ¢keyä¸­ offsetå¼€å§‹çš„å€¼</td><td>127.0.0.1:6379&gt; SETRANGE msg 2 hello (integer) 7 127.0.0.1:6379&gt; get msg â€œtehelloâ€</td></tr><tr><td><code>GETSET key value</code></td><td>å°†ç»™å®š key çš„å€¼è®¾ä¸º value ï¼Œå¹¶è¿”å› key çš„æ—§å€¼(old value)ã€‚</td><td>127.0.0.1:6379&gt; GETSET msg test â€œhello worldâ€</td></tr><tr><td><code>SETNX key value</code></td><td>ä»…å½“keyä¸å­˜åœ¨æ—¶è¿›è¡Œset</td><td>127.0.0.1:6379&gt; SETNX msg test (integer) 0 127.0.0.1:6379&gt; SETNX name sakura (integer) 1</td></tr><tr><td><code>SETEX key seconds value</code></td><td>set é”®å€¼å¯¹å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´</td><td>127.0.0.1:6379&gt; setex name 10 root OK 127.0.0.1:6379&gt; get name (nil)</td></tr><tr><td><code>MSET key1 value1 [key2 value2..]</code></td><td>æ‰¹é‡seté”®å€¼å¯¹</td><td>127.0.0.1:6379&gt; MSET k1 v1 k2 v2 k3 v3 OK</td></tr><tr><td><code>MSETNX key1 value1 [key2 value2..]</code></td><td>æ‰¹é‡è®¾ç½®é”®å€¼å¯¹ï¼Œä»…å½“å‚æ•°ä¸­æ‰€æœ‰çš„keyéƒ½ä¸å­˜åœ¨æ—¶æ‰§è¡Œ</td><td>127.0.0.1:6379&gt; MSETNX k1 v1 k4 v4 (integer) 0</td></tr><tr><td><code>MGET key1 [key2..]</code></td><td>æ‰¹é‡è·å–å¤šä¸ªkeyä¿å­˜çš„å€¼</td><td>127.0.0.1:6379&gt; MGET k1 k2 k3 1) â€œv1â€ 2) â€œv2â€ 3) â€œv3â€</td></tr><tr><td><code>PSETEX key milliseconds value</code></td><td>å’Œ SETEX å‘½ä»¤ç›¸ä¼¼ï¼Œä½†å®ƒä»¥æ¯«ç§’ä¸ºå•ä½è®¾ç½® key çš„ç”Ÿå­˜æ—¶é—´ï¼Œ</td><td></td></tr><tr><td><code>getset key value</code></td><td>å¦‚æœä¸å­˜åœ¨å€¼ï¼Œåˆ™è¿”å›nilï¼Œå¦‚æœå­˜åœ¨å€¼ï¼Œè·å–åŸæ¥çš„å€¼ï¼Œå¹¶è®¾ç½®æ–°çš„å€¼</td><td></td></tr></tbody></table><p>Stringç±»ä¼¼çš„ä½¿ç”¨åœºæ™¯ï¼švalueé™¤äº†æ˜¯å­—ç¬¦ä¸²è¿˜å¯ä»¥æ˜¯æ•°å­—ï¼Œç”¨é€”ä¸¾ä¾‹ï¼š</p><ul><li>è®¡æ•°å™¨</li><li>ç»Ÿè®¡å¤šå•ä½çš„æ•°é‡ï¼šuid:123666ï¼šfollow 0</li><li>ç²‰ä¸æ•°</li><li>å¯¹è±¡å­˜å‚¨ç¼“å­˜</li></ul><h3 id="List-åˆ—è¡¨"><a href="#List-åˆ—è¡¨" class="headerlink" title="List(åˆ—è¡¨)"></a>List(åˆ—è¡¨)</h3><blockquote><p>Redisåˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰</p><p>ä¸€ä¸ªåˆ—è¡¨æœ€å¤šå¯ä»¥åŒ…å« 232 - 1 ä¸ªå…ƒç´  (4294967295, æ¯ä¸ªåˆ—è¡¨è¶…è¿‡40äº¿ä¸ªå…ƒç´ )ã€‚</p></blockquote><p>é¦–å…ˆæˆ‘ä»¬åˆ—è¡¨ï¼Œå¯ä»¥ç»è¿‡è§„åˆ™å®šä¹‰å°†å…¶å˜ä¸ºé˜Ÿåˆ—ã€æ ˆã€åŒç«¯é˜Ÿåˆ—ç­‰</p><p><img src="https://img-blog.csdnimg.cn/20200820104440398.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0RERERlbmdf,size_16,color_FFFFFF,t_70#pic_center" alt="[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-VPvbIltc-1597890996518)(ç‹‚ç¥è¯´ Redis.assets/image-20200813114255459.png)]"></p><p>æ­£å¦‚å›¾Redisä¸­Listæ˜¯å¯ä»¥è¿›è¡ŒåŒç«¯æ“ä½œçš„ï¼Œæ‰€ä»¥å‘½ä»¤ä¹Ÿå°±åˆ†ä¸ºäº†LXXXå’ŒRLLLä¸¤ç±»ï¼Œæœ‰æ—¶å€™Lä¹Ÿè¡¨ç¤ºListä¾‹å¦‚LLEN</p><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>LPUSH/RPUSH key value1[value2..]</code></td><td>ä»å·¦è¾¹/å³è¾¹å‘åˆ—è¡¨ä¸­PUSHå€¼(ä¸€ä¸ªæˆ–è€…å¤šä¸ª)ã€‚</td></tr><tr><td><code>LRANGE key start end</code></td><td>è·å–list èµ·æ­¢å…ƒç´ ==ï¼ˆç´¢å¼•ä»å·¦å¾€å³ é€’å¢ï¼‰==</td></tr><tr><td><code>LPUSHX/RPUSHX key value</code></td><td>å‘å·²å­˜åœ¨çš„åˆ—åä¸­pushå€¼ï¼ˆä¸€ä¸ªæˆ–è€…å¤šä¸ªï¼‰</td></tr><tr><td>`LINSERT key BEFORE</td><td>AFTER pivot value`</td></tr><tr><td><code>LLEN key</code></td><td>æŸ¥çœ‹åˆ—è¡¨é•¿åº¦</td></tr><tr><td><code>LINDEX key index</code></td><td>é€šè¿‡ç´¢å¼•è·å–åˆ—è¡¨å…ƒç´ </td></tr><tr><td><code>LSET key index value</code></td><td>é€šè¿‡ç´¢å¼•ä¸ºå…ƒç´ è®¾å€¼</td></tr><tr><td><code>LPOP/RPOP key</code></td><td>ä»æœ€å·¦è¾¹/æœ€å³è¾¹ç§»é™¤å€¼ å¹¶è¿”å›</td></tr><tr><td><code>RPOPLPUSH source destination</code></td><td>å°†åˆ—è¡¨çš„å°¾éƒ¨(å³)æœ€åä¸€ä¸ªå€¼å¼¹å‡ºï¼Œå¹¶è¿”å›ï¼Œç„¶ååŠ åˆ°å¦ä¸€ä¸ªåˆ—è¡¨çš„å¤´éƒ¨</td></tr><tr><td><code>LTRIM key start end</code></td><td>é€šè¿‡ä¸‹æ ‡æˆªå–æŒ‡å®šèŒƒå›´å†…çš„åˆ—è¡¨</td></tr><tr><td><code>LREM key count value</code></td><td>Listä¸­æ˜¯å…è®¸valueé‡å¤çš„ <code>count &gt; 0</code>ï¼šä»å¤´éƒ¨å¼€å§‹æœç´¢ ç„¶ååˆ é™¤æŒ‡å®šçš„value è‡³å¤šåˆ é™¤countä¸ª <code>count &lt; 0</code>ï¼šä»å°¾éƒ¨å¼€å§‹æœç´¢â€¦ <code>count = 0</code>ï¼šåˆ é™¤åˆ—è¡¨ä¸­æ‰€æœ‰çš„æŒ‡å®švalueã€‚</td></tr><tr><td><code>BLPOP/BRPOP key1[key2] timout</code></td><td>ç§»å‡ºå¹¶è·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå…ƒç´ ï¼Œ å¦‚æœåˆ—è¡¨æ²¡æœ‰å…ƒç´ ä¼šé˜»å¡åˆ—è¡¨ç›´åˆ°ç­‰å¾…è¶…æ—¶æˆ–å‘ç°å¯å¼¹å‡ºå…ƒç´ ä¸ºæ­¢ã€‚</td></tr><tr><td><code>BRPOPLPUSH source destination timeout</code></td><td>å’Œ<code>RPOPLPUSH</code>åŠŸèƒ½ç›¸åŒï¼Œå¦‚æœåˆ—è¡¨æ²¡æœ‰å…ƒç´ ä¼šé˜»å¡åˆ—è¡¨ç›´åˆ°ç­‰å¾…è¶…æ—¶æˆ–å‘ç°å¯å¼¹å‡ºå…ƒç´ ä¸ºæ­¢ã€‚</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><code class="hljs bash">---------------------------LPUSH---RPUSH---LRANGE--------------------------------<br><br>127.0.0.1:6379&gt; LPUSH mylist k1 <span class="hljs-comment"># LPUSH mylist=&gt;&#123;1&#125;</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; LPUSH mylist k2 <span class="hljs-comment"># LPUSH mylist=&gt;&#123;2,1&#125;</span><br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; RPUSH mylist k3 <span class="hljs-comment"># RPUSH mylist=&gt;&#123;2,1,3&#125;</span><br>(<span class="hljs-built_in">integer</span>) 3<br>127.0.0.1:6379&gt; get mylist <span class="hljs-comment"># æ™®é€šçš„getæ˜¯æ— æ³•è·å–listå€¼çš„</span><br>(error) WRONGTYPE Operation against a key holding the wrong kind of value<br>127.0.0.1:6379&gt; LRANGE mylist 0 4 <span class="hljs-comment"># LRANGE è·å–èµ·æ­¢ä½ç½®èŒƒå›´å†…çš„å…ƒç´ </span><br>1) <span class="hljs-string">&quot;k2&quot;</span><br>2) <span class="hljs-string">&quot;k1&quot;</span><br>3) <span class="hljs-string">&quot;k3&quot;</span><br>127.0.0.1:6379&gt; LRANGE mylist 0 2<br>1) <span class="hljs-string">&quot;k2&quot;</span><br>2) <span class="hljs-string">&quot;k1&quot;</span><br>3) <span class="hljs-string">&quot;k3&quot;</span><br>127.0.0.1:6379&gt; LRANGE mylist 0 1<br>1) <span class="hljs-string">&quot;k2&quot;</span><br>2) <span class="hljs-string">&quot;k1&quot;</span><br>127.0.0.1:6379&gt; LRANGE mylist 0 -1 <span class="hljs-comment"># è·å–å…¨éƒ¨å…ƒç´ </span><br>1) <span class="hljs-string">&quot;k2&quot;</span><br>2) <span class="hljs-string">&quot;k1&quot;</span><br>3) <span class="hljs-string">&quot;k3&quot;</span><br><br>---------------------------LPUSHX---RPUSHX-----------------------------------<br><br>127.0.0.1:6379&gt; LPUSHX list v1 <span class="hljs-comment"># listä¸å­˜åœ¨ LPUSHXå¤±è´¥</span><br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; LPUSHX list v1 v2  <br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; LPUSHX mylist k4 k5 <span class="hljs-comment"># å‘mylistä¸­ å·¦è¾¹ PUSH k4 k5</span><br>(<span class="hljs-built_in">integer</span>) 5<br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k5&quot;</span><br>2) <span class="hljs-string">&quot;k4&quot;</span><br>3) <span class="hljs-string">&quot;k2&quot;</span><br>4) <span class="hljs-string">&quot;k1&quot;</span><br>5) <span class="hljs-string">&quot;k3&quot;</span><br><br>---------------------------LINSERT--LLEN--LINDEX--LSET----------------------------<br><br>127.0.0.1:6379&gt; LINSERT mylist after k2 ins_key1 <span class="hljs-comment"># åœ¨k2å…ƒç´ å æ’å…¥ins_key1</span><br>(<span class="hljs-built_in">integer</span>) 6<br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k5&quot;</span><br>2) <span class="hljs-string">&quot;k4&quot;</span><br>3) <span class="hljs-string">&quot;k2&quot;</span><br>4) <span class="hljs-string">&quot;ins_key1&quot;</span><br>5) <span class="hljs-string">&quot;k1&quot;</span><br>6) <span class="hljs-string">&quot;k3&quot;</span><br>127.0.0.1:6379&gt; LLEN mylist <span class="hljs-comment"># æŸ¥çœ‹mylistçš„é•¿åº¦</span><br>(<span class="hljs-built_in">integer</span>) 6<br>127.0.0.1:6379&gt; LINDEX mylist 3 <span class="hljs-comment"># è·å–ä¸‹æ ‡ä¸º3çš„å…ƒç´ </span><br><span class="hljs-string">&quot;ins_key1&quot;</span><br>127.0.0.1:6379&gt; LINDEX mylist 0<br><span class="hljs-string">&quot;k5&quot;</span><br>127.0.0.1:6379&gt; LSET mylist 3 k6 <span class="hljs-comment"># å°†ä¸‹æ ‡3çš„å…ƒç´  setå€¼ä¸ºk6</span><br>OK<br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k5&quot;</span><br>2) <span class="hljs-string">&quot;k4&quot;</span><br>3) <span class="hljs-string">&quot;k2&quot;</span><br>4) <span class="hljs-string">&quot;k6&quot;</span><br>5) <span class="hljs-string">&quot;k1&quot;</span><br>6) <span class="hljs-string">&quot;k3&quot;</span><br><br>---------------------------LPOP--RPOP--------------------------<br><br>127.0.0.1:6379&gt; LPOP mylist <span class="hljs-comment"># å·¦ä¾§(å¤´éƒ¨)å¼¹å‡º</span><br><span class="hljs-string">&quot;k5&quot;</span><br>127.0.0.1:6379&gt; RPOP mylist <span class="hljs-comment"># å³ä¾§(å°¾éƒ¨)å¼¹å‡º</span><br><span class="hljs-string">&quot;k3&quot;</span><br><br>---------------------------RPOPLPUSH--------------------------<br><br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k4&quot;</span><br>2) <span class="hljs-string">&quot;k2&quot;</span><br>3) <span class="hljs-string">&quot;k6&quot;</span><br>4) <span class="hljs-string">&quot;k1&quot;</span><br>127.0.0.1:6379&gt; RPOPLPUSH mylist newlist <span class="hljs-comment"># å°†mylistçš„æœ€åä¸€ä¸ªå€¼(k1)å¼¹å‡ºï¼ŒåŠ å…¥åˆ°newlistçš„å¤´éƒ¨</span><br><span class="hljs-string">&quot;k1&quot;</span><br>127.0.0.1:6379&gt; LRANGE newlist 0 -1<br>1) <span class="hljs-string">&quot;k1&quot;</span><br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k4&quot;</span><br>2) <span class="hljs-string">&quot;k2&quot;</span><br>3) <span class="hljs-string">&quot;k6&quot;</span><br><br>---------------------------LTRIM--------------------------<br><br>127.0.0.1:6379&gt; LTRIM mylist 0 1 <span class="hljs-comment"># æˆªå–mylistä¸­çš„ 0~1éƒ¨åˆ†</span><br>OK<br>127.0.0.1:6379&gt; LRANGE mylist 0 -1<br>1) <span class="hljs-string">&quot;k4&quot;</span><br>2) <span class="hljs-string">&quot;k2&quot;</span><br><br><span class="hljs-comment"># åˆå§‹ mylist: k2,k2,k2,k2,k2,k2,k4,k2,k2,k2,k2</span><br>---------------------------LREM--------------------------<br><br>127.0.0.1:6379&gt; LREM mylist 3 k2 <span class="hljs-comment"># ä»å¤´éƒ¨å¼€å§‹æœç´¢ è‡³å¤šåˆ é™¤3ä¸ª k2</span><br>(<span class="hljs-built_in">integer</span>) 3<br><span class="hljs-comment"># åˆ é™¤åï¼šmylist: k2,k2,k2,k4,k2,k2,k2,k2</span><br><br>127.0.0.1:6379&gt; LREM mylist -2 k2 <span class="hljs-comment">#ä»å°¾éƒ¨å¼€å§‹æœç´¢ è‡³å¤šåˆ é™¤2ä¸ª k2</span><br>(<span class="hljs-built_in">integer</span>) 2<br><span class="hljs-comment"># åˆ é™¤åï¼šmylist: k2,k2,k2,k4,k2,k2</span><br><br><br>---------------------------BLPOP--BRPOP--------------------------<br><br>mylist: k2,k2,k2,k4,k2,k2<br>newlist: k1<br><br>127.0.0.1:6379&gt; BLPOP newlist mylist 30 <span class="hljs-comment"># ä»newlistä¸­å¼¹å‡ºç¬¬ä¸€ä¸ªå€¼ï¼Œmylistä½œä¸ºå€™é€‰</span><br>1) <span class="hljs-string">&quot;newlist&quot;</span> <span class="hljs-comment"># å¼¹å‡º</span><br>2) <span class="hljs-string">&quot;k1&quot;</span><br>127.0.0.1:6379&gt; BLPOP newlist mylist 30<br>1) <span class="hljs-string">&quot;mylist&quot;</span> <span class="hljs-comment"># ç”±äºnewlistç©ºäº† ä»mylistä¸­å¼¹å‡º</span><br>2) <span class="hljs-string">&quot;k2&quot;</span><br>127.0.0.1:6379&gt; BLPOP newlist 30<br>(30.10s) <span class="hljs-comment"># è¶…æ—¶äº†</span><br><br>127.0.0.1:6379&gt; BLPOP newlist 30 <span class="hljs-comment"># æˆ‘ä»¬è¿æ¥å¦ä¸€ä¸ªå®¢æˆ·ç«¯å‘newlistä¸­pushäº†test, é˜»å¡è¢«è§£å†³ã€‚</span><br>1) <span class="hljs-string">&quot;newlist&quot;</span><br>2) <span class="hljs-string">&quot;test&quot;</span><br>(12.54s)<br></code></pre></td></tr></table></figure><blockquote><p>å°ç»“</p></blockquote><ul><li>listå®é™…ä¸Šæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œbefore Node after , left, right éƒ½å¯ä»¥æ’å…¥å€¼</li><li><strong>å¦‚æœkeyä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°çš„é“¾è¡¨</strong></li><li>å¦‚æœkeyå­˜åœ¨ï¼Œæ–°å¢å†…å®¹</li><li>å¦‚æœç§»é™¤äº†æ‰€æœ‰å€¼ï¼Œç©ºé“¾è¡¨ï¼Œä¹Ÿä»£è¡¨ä¸å­˜åœ¨</li><li>åœ¨ä¸¤è¾¹æ’å…¥æˆ–è€…æ”¹åŠ¨å€¼ï¼Œæ•ˆç‡æœ€é«˜ï¼ä¿®æ”¹ä¸­é—´å…ƒç´ ï¼Œæ•ˆç‡ç›¸å¯¹è¾ƒä½</li></ul><p><strong>åº”ç”¨ï¼š</strong></p><p><strong>æ¶ˆæ¯æ’é˜Ÿï¼æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆLpush Rpopï¼‰,æ ˆï¼ˆLpush Lpopï¼‰</strong></p><h3 id="Set-é›†åˆ"><a href="#Set-é›†åˆ" class="headerlink" title="Set(é›†åˆ)"></a>Set(é›†åˆ)</h3><blockquote><p>Redisçš„Setæ˜¯<strong>stringç±»å‹</strong>çš„æ— åºé›†åˆã€‚é›†åˆæˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œè¿™å°±æ„å‘³ç€é›†åˆä¸­ä¸èƒ½å‡ºç°é‡å¤çš„æ•°æ®ã€‚</p><p>Redis ä¸­ é›†åˆæ˜¯é€šè¿‡å“ˆå¸Œè¡¨å®ç°çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚</p><p>é›†åˆä¸­æœ€å¤§çš„æˆå‘˜æ•°ä¸º 232 - 1 (4294967295, æ¯ä¸ªé›†åˆå¯å­˜å‚¨40å¤šäº¿ä¸ªæˆå‘˜)ã€‚</p></blockquote><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>SADD key member1[member2..]</code></td><td>å‘é›†åˆä¸­æ— åºå¢åŠ ä¸€ä¸ª/å¤šä¸ªæˆå‘˜</td></tr><tr><td><code>SCARD key</code></td><td>è·å–é›†åˆçš„æˆå‘˜æ•°</td></tr><tr><td><code>SMEMBERS key</code></td><td>è¿”å›é›†åˆä¸­æ‰€æœ‰çš„æˆå‘˜</td></tr><tr><td><code>SISMEMBER key member</code></td><td>æŸ¥è¯¢memberå…ƒç´ æ˜¯å¦æ˜¯é›†åˆçš„æˆå‘˜,ç»“æœæ˜¯æ— åºçš„</td></tr><tr><td><code>SRANDMEMBER key [count]</code></td><td>éšæœºè¿”å›é›†åˆä¸­countä¸ªæˆå‘˜ï¼Œcountç¼ºçœå€¼ä¸º1</td></tr><tr><td><code>SPOP key [count]</code></td><td>éšæœºç§»é™¤å¹¶è¿”å›é›†åˆä¸­countä¸ªæˆå‘˜ï¼Œcountç¼ºçœå€¼ä¸º1</td></tr><tr><td><code>SMOVE source destination member</code></td><td>å°†sourceé›†åˆçš„æˆå‘˜memberç§»åŠ¨åˆ°destinationé›†åˆ</td></tr><tr><td><code>SREM key member1[member2..]</code></td><td>ç§»é™¤é›†åˆä¸­ä¸€ä¸ª/å¤šä¸ªæˆå‘˜</td></tr><tr><td><code>SDIFF key1[key2..]</code></td><td>è¿”å›æ‰€æœ‰é›†åˆçš„å·®é›† key1- key2 - â€¦</td></tr><tr><td><code>SDIFFSTORE destination key1[key2..]</code></td><td>åœ¨SDIFFçš„åŸºç¡€ä¸Šï¼Œå°†ç»“æœä¿å­˜åˆ°é›†åˆä¸­==(è¦†ç›–)==ã€‚ä¸èƒ½ä¿å­˜åˆ°å…¶ä»–ç±»å‹keyå™¢ï¼</td></tr><tr><td><code>SINTER key1 [key2..]</code></td><td>è¿”å›æ‰€æœ‰é›†åˆçš„äº¤é›†</td></tr><tr><td><code>SINTERSTORE destination key1[key2..]</code></td><td>åœ¨SINTERçš„åŸºç¡€ä¸Šï¼Œå­˜å‚¨ç»“æœåˆ°é›†åˆä¸­ã€‚è¦†ç›–</td></tr><tr><td><code>SUNION key1 [key2..]</code></td><td>è¿”å›æ‰€æœ‰é›†åˆçš„å¹¶é›†</td></tr><tr><td><code>SUNIONSTORE destination key1 [key2..]</code></td><td>åœ¨SUNIONçš„åŸºç¡€ä¸Šï¼Œå­˜å‚¨ç»“æœåˆ°åŠå’Œå¼ ã€‚è¦†ç›–</td></tr><tr><td><code>SSCAN KEY [MATCH pattern] [COUNT count]</code></td><td>åœ¨å¤§é‡æ•°æ®ç¯å¢ƒä¸‹ï¼Œä½¿ç”¨æ­¤å‘½ä»¤éå†é›†åˆä¸­å…ƒç´ ï¼Œæ¯æ¬¡éå†éƒ¨åˆ†</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs bash">---------------SADD--SCARD--SMEMBERS--SISMEMBER--------------------<br><br>127.0.0.1:6379&gt; SADD myset m1 m2 m3 m4 <span class="hljs-comment"># å‘mysetä¸­å¢åŠ æˆå‘˜ m1~m4</span><br>(<span class="hljs-built_in">integer</span>) 4<br>127.0.0.1:6379&gt; SCARD myset <span class="hljs-comment"># è·å–é›†åˆçš„æˆå‘˜æ•°ç›®</span><br>(<span class="hljs-built_in">integer</span>) 4<br>127.0.0.1:6379&gt; smembers myset <span class="hljs-comment"># è·å–é›†åˆä¸­æ‰€æœ‰æˆå‘˜</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br>4) <span class="hljs-string">&quot;m1&quot;</span><br>127.0.0.1:6379&gt; SISMEMBER myset m5 <span class="hljs-comment"># æŸ¥è¯¢m5æ˜¯å¦æ˜¯mysetçš„æˆå‘˜</span><br>(<span class="hljs-built_in">integer</span>) 0 <span class="hljs-comment"># ä¸æ˜¯ï¼Œè¿”å›0</span><br>127.0.0.1:6379&gt; SISMEMBER myset m2<br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># æ˜¯ï¼Œè¿”å›1</span><br>127.0.0.1:6379&gt; SISMEMBER myset m3<br>(<span class="hljs-built_in">integer</span>) 1<br><br>---------------------SRANDMEMBER--SPOP----------------------------------<br><br>127.0.0.1:6379&gt; SRANDMEMBER myset 3 <span class="hljs-comment"># éšæœºè¿”å›3ä¸ªæˆå‘˜</span><br>1) <span class="hljs-string">&quot;m2&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m4&quot;</span><br>127.0.0.1:6379&gt; SRANDMEMBER myset <span class="hljs-comment"># éšæœºè¿”å›1ä¸ªæˆå‘˜</span><br><span class="hljs-string">&quot;m3&quot;</span><br>127.0.0.1:6379&gt; SPOP myset 2 <span class="hljs-comment"># éšæœºç§»é™¤å¹¶è¿”å›2ä¸ªæˆå‘˜</span><br>1) <span class="hljs-string">&quot;m1&quot;</span><br>2) <span class="hljs-string">&quot;m4&quot;</span><br><span class="hljs-comment"># å°†setè¿˜åŸåˆ°&#123;m1,m2,m3,m4&#125;</span><br><br>---------------------SMOVE--SREM----------------------------------------<br><br>127.0.0.1:6379&gt; SMOVE myset newset m3 <span class="hljs-comment"># å°†mysetä¸­m3æˆå‘˜ç§»åŠ¨åˆ°newseté›†åˆ</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; SMEMBERS myset<br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m2&quot;</span><br>3) <span class="hljs-string">&quot;m1&quot;</span><br>127.0.0.1:6379&gt; SMEMBERS newset<br>1) <span class="hljs-string">&quot;m3&quot;</span><br>127.0.0.1:6379&gt; SREM newset m3 <span class="hljs-comment"># ä»newsetä¸­ç§»é™¤m3å…ƒç´ </span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; SMEMBERS newset<br>(empty list or <span class="hljs-built_in">set</span>)<br><br><span class="hljs-comment"># ä¸‹é¢å¼€å§‹æ˜¯å¤šé›†åˆæ“ä½œ,å¤šé›†åˆæ“ä½œä¸­è‹¥åªæœ‰ä¸€ä¸ªå‚æ•°é»˜è®¤å’Œè‡ªèº«è¿›è¡Œè¿ç®—</span><br><span class="hljs-comment"># setx=&gt;&#123;m1,m2,m4,m6&#125;, sety=&gt;&#123;m2,m5,m6&#125;, setz=&gt;&#123;m1,m3,m6&#125;</span><br><br>-----------------------------SDIFF------------------------------------<br><br>127.0.0.1:6379&gt; SDIFF setx sety setz <span class="hljs-comment"># ç­‰ä»·äºsetx-sety-setz</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>127.0.0.1:6379&gt; SDIFF setx sety <span class="hljs-comment"># setx - sety</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m1&quot;</span><br>127.0.0.1:6379&gt; SDIFF sety setx <span class="hljs-comment"># sety - setx</span><br>1) <span class="hljs-string">&quot;m5&quot;</span><br><br><br>-------------------------SINTER---------------------------------------<br><span class="hljs-comment"># å…±åŒå…³æ³¨ï¼ˆäº¤é›†ï¼‰</span><br><br>127.0.0.1:6379&gt; SINTER setx sety setz <span class="hljs-comment"># æ±‚ setxã€setyã€setxçš„äº¤é›†</span><br>1) <span class="hljs-string">&quot;m6&quot;</span><br>127.0.0.1:6379&gt; SINTER setx sety <span class="hljs-comment"># æ±‚setx setyçš„äº¤é›†</span><br>1) <span class="hljs-string">&quot;m2&quot;</span><br>2) <span class="hljs-string">&quot;m6&quot;</span><br><br>-------------------------SUNION---------------------------------------<br><br>127.0.0.1:6379&gt; SUNION setx sety setz <span class="hljs-comment"># setx sety setzçš„å¹¶é›†</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m6&quot;</span><br>3) <span class="hljs-string">&quot;m3&quot;</span><br>4) <span class="hljs-string">&quot;m2&quot;</span><br>5) <span class="hljs-string">&quot;m1&quot;</span><br>6) <span class="hljs-string">&quot;m5&quot;</span><br>127.0.0.1:6379&gt; SUNION setx sety <span class="hljs-comment"># setx sety å¹¶é›†</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m6&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br>4) <span class="hljs-string">&quot;m1&quot;</span><br>5) <span class="hljs-string">&quot;m5&quot;</span><br></code></pre></td></tr></table></figure><h3 id="Hashï¼ˆå“ˆå¸Œï¼‰"><a href="#Hashï¼ˆå“ˆå¸Œï¼‰" class="headerlink" title="Hashï¼ˆå“ˆå¸Œï¼‰"></a>Hashï¼ˆå“ˆå¸Œï¼‰</h3><blockquote><p>Redis hash æ˜¯ä¸€ä¸ªstringç±»å‹çš„fieldå’Œvalueçš„æ˜ å°„è¡¨ï¼Œhashç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚</p><p>Setå°±æ˜¯ä¸€ç§ç®€åŒ–çš„Hash,åªå˜åŠ¨key,è€Œvalueä½¿ç”¨é»˜è®¤å€¼å¡«å……ã€‚å¯ä»¥å°†ä¸€ä¸ªHashè¡¨ä½œä¸ºä¸€ä¸ªå¯¹è±¡è¿›è¡Œå­˜å‚¨ï¼Œè¡¨ä¸­å­˜æ”¾å¯¹è±¡çš„ä¿¡æ¯ã€‚</p></blockquote><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>HSET key field value</code></td><td>å°†å“ˆå¸Œè¡¨ key ä¸­çš„å­—æ®µ field çš„å€¼è®¾ä¸º value ã€‚é‡å¤è®¾ç½®åŒä¸€ä¸ªfieldä¼šè¦†ç›–,è¿”å›0</td></tr><tr><td><code>HMSET key field1 value1 [field2 value2..]</code></td><td>åŒæ—¶å°†å¤šä¸ª field-value (åŸŸ-å€¼)å¯¹è®¾ç½®åˆ°å“ˆå¸Œè¡¨ key ä¸­ã€‚</td></tr><tr><td><code>HSETNX key field value</code></td><td>åªæœ‰åœ¨å­—æ®µ field ä¸å­˜åœ¨æ—¶ï¼Œè®¾ç½®å“ˆå¸Œè¡¨å­—æ®µçš„å€¼ã€‚</td></tr><tr><td><code>HEXISTS key field</code></td><td>æŸ¥çœ‹å“ˆå¸Œè¡¨ key ä¸­ï¼ŒæŒ‡å®šçš„å­—æ®µæ˜¯å¦å­˜åœ¨ã€‚</td></tr><tr><td><code>HGET key field value</code></td><td>è·å–å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­æŒ‡å®šå­—æ®µçš„å€¼</td></tr><tr><td><code>HMGET key field1 [field2..]</code></td><td>è·å–æ‰€æœ‰ç»™å®šå­—æ®µçš„å€¼</td></tr><tr><td><code>HGETALL key</code></td><td>è·å–åœ¨å“ˆå¸Œè¡¨key çš„æ‰€æœ‰å­—æ®µå’Œå€¼</td></tr><tr><td><code>HKEYS key</code></td><td>è·å–å“ˆå¸Œè¡¨keyä¸­æ‰€æœ‰çš„å­—æ®µ</td></tr><tr><td><code>HLEN key</code></td><td>è·å–å“ˆå¸Œè¡¨ä¸­å­—æ®µçš„æ•°é‡</td></tr><tr><td><code>HVALS key</code></td><td>è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰å€¼</td></tr><tr><td><code>HDEL key field1 [field2..]</code></td><td>åˆ é™¤å“ˆå¸Œè¡¨keyä¸­ä¸€ä¸ª/å¤šä¸ªfieldå­—æ®µ</td></tr><tr><td><code>HINCRBY key field n</code></td><td>ä¸ºå“ˆå¸Œè¡¨ key ä¸­çš„æŒ‡å®šå­—æ®µçš„æ•´æ•°å€¼åŠ ä¸Šå¢é‡nï¼Œå¹¶è¿”å›å¢é‡åç»“æœ ä¸€æ ·åªé€‚ç”¨äºæ•´æ•°å‹å­—æ®µ</td></tr><tr><td><code>HINCRBYFLOAT key field n</code></td><td>ä¸ºå“ˆå¸Œè¡¨ key ä¸­çš„æŒ‡å®šå­—æ®µçš„æµ®ç‚¹æ•°å€¼åŠ ä¸Šå¢é‡ nã€‚</td></tr><tr><td><code>HSCAN key cursor [MATCH pattern] [COUNT count]</code></td><td>è¿­ä»£å“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹ã€‚</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs bash">------------------------HSET--HMSET--HSETNX----------------<br>127.0.0.1:6379&gt; HSET studentx name sakura <span class="hljs-comment"># å°†studentxå“ˆå¸Œè¡¨ä½œä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè®¾ç½®nameä¸ºsakura</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; HSET studentx name gyc <span class="hljs-comment"># é‡å¤è®¾ç½®fieldè¿›è¡Œè¦†ç›–ï¼Œå¹¶è¿”å›0</span><br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; HSET studentx age 20 <span class="hljs-comment"># è®¾ç½®studentxçš„ageä¸º20</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; HMSET studentx sex 1 tel 15623667886 <span class="hljs-comment"># è®¾ç½®sexä¸º1ï¼Œtelä¸º15623667886</span><br>OK<br>127.0.0.1:6379&gt; HSETNX studentx name gyc <span class="hljs-comment"># HSETNX è®¾ç½®å·²å­˜åœ¨çš„field</span><br>(<span class="hljs-built_in">integer</span>) 0 <span class="hljs-comment"># å¤±è´¥</span><br>127.0.0.1:6379&gt; HSETNX studentx email 12345@qq.com<br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># æˆåŠŸ</span><br><br>----------------------HEXISTS--------------------------------<br>127.0.0.1:6379&gt; HEXISTS studentx name <span class="hljs-comment"># nameå­—æ®µåœ¨studentxä¸­æ˜¯å¦å­˜åœ¨</span><br>(<span class="hljs-built_in">integer</span>) 1 <span class="hljs-comment"># å­˜åœ¨</span><br>127.0.0.1:6379&gt; HEXISTS studentx addr<br>(<span class="hljs-built_in">integer</span>) 0 <span class="hljs-comment"># ä¸å­˜åœ¨</span><br><br>-------------------HGET--HMGET--HGETALL-----------<br>127.0.0.1:6379&gt; HGET studentx name <span class="hljs-comment"># è·å–studentxä¸­nameå­—æ®µçš„value</span><br><span class="hljs-string">&quot;gyc&quot;</span><br>127.0.0.1:6379&gt; HMGET studentx name age tel <span class="hljs-comment"># è·å–studentxä¸­nameã€ageã€telå­—æ®µçš„value</span><br>1) <span class="hljs-string">&quot;gyc&quot;</span><br>2) <span class="hljs-string">&quot;20&quot;</span><br>3) <span class="hljs-string">&quot;15623667886&quot;</span><br>127.0.0.1:6379&gt; HGETALL studentx <span class="hljs-comment"># è·å–studentxä¸­æ‰€æœ‰çš„fieldåŠå…¶value</span><br> 1) <span class="hljs-string">&quot;name&quot;</span><br> 2) <span class="hljs-string">&quot;gyc&quot;</span><br> 3) <span class="hljs-string">&quot;age&quot;</span><br> 4) <span class="hljs-string">&quot;20&quot;</span><br> 5) <span class="hljs-string">&quot;sex&quot;</span><br> 6) <span class="hljs-string">&quot;1&quot;</span><br> 7) <span class="hljs-string">&quot;tel&quot;</span><br> 8) <span class="hljs-string">&quot;15623667886&quot;</span><br> 9) <span class="hljs-string">&quot;email&quot;</span><br>10) <span class="hljs-string">&quot;12345@qq.com&quot;</span><br><br><br>--------------------HKEYS--HLEN--HVALS--------------<br>127.0.0.1:6379&gt; HKEYS studentx <span class="hljs-comment"># æŸ¥çœ‹studentxä¸­æ‰€æœ‰çš„field</span><br>1) <span class="hljs-string">&quot;name&quot;</span><br>2) <span class="hljs-string">&quot;age&quot;</span><br>3) <span class="hljs-string">&quot;sex&quot;</span><br>4) <span class="hljs-string">&quot;tel&quot;</span><br>5) <span class="hljs-string">&quot;email&quot;</span><br>127.0.0.1:6379&gt; HLEN studentx <span class="hljs-comment"># æŸ¥çœ‹studentxä¸­çš„å­—æ®µæ•°é‡</span><br>(<span class="hljs-built_in">integer</span>) 5<br>127.0.0.1:6379&gt; HVALS studentx <span class="hljs-comment"># æŸ¥çœ‹studentxä¸­æ‰€æœ‰çš„value</span><br>1) <span class="hljs-string">&quot;gyc&quot;</span><br>2) <span class="hljs-string">&quot;20&quot;</span><br>3) <span class="hljs-string">&quot;1&quot;</span><br>4) <span class="hljs-string">&quot;15623667886&quot;</span><br>5) <span class="hljs-string">&quot;12345@qq.com&quot;</span><br><br>-------------------------HDEL--------------------------<br>127.0.0.1:6379&gt; HDEL studentx sex tel <span class="hljs-comment"># åˆ é™¤studentx ä¸­çš„sexã€telå­—æ®µ</span><br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; HKEYS studentx<br>1) <span class="hljs-string">&quot;name&quot;</span><br>2) <span class="hljs-string">&quot;age&quot;</span><br>3) <span class="hljs-string">&quot;email&quot;</span><br><br>-------------HINCRBY--HINCRBYFLOAT------------------------<br>127.0.0.1:6379&gt; HINCRBY studentx age 1 <span class="hljs-comment"># studentxçš„ageå­—æ®µæ•°å€¼+1</span><br>(<span class="hljs-built_in">integer</span>) 21<br>127.0.0.1:6379&gt; HINCRBY studentx name 1 <span class="hljs-comment"># éæ•´æ•°å­—å‹å­—æ®µä¸å¯ç”¨</span><br>(error) ERR <span class="hljs-built_in">hash</span> value is not an <span class="hljs-built_in">integer</span><br>127.0.0.1:6379&gt; HINCRBYFLOAT studentx weight 0.6 <span class="hljs-comment"># weightå­—æ®µå¢åŠ 0.6</span><br><span class="hljs-string">&quot;90.8&quot;</span><br></code></pre></td></tr></table></figure><p> Hashå˜æ›´çš„æ•°æ®user name ageï¼Œå°¤å…¶æ˜¯ç”¨æˆ·ä¿¡æ¯ä¹‹ç±»çš„ï¼Œç»å¸¸å˜åŠ¨çš„ä¿¡æ¯ï¼<strong>Hashæ›´é€‚åˆäºå¯¹è±¡çš„å­˜å‚¨ï¼ŒSringæ›´åŠ é€‚åˆå­—ç¬¦ä¸²å­˜å‚¨ï¼</strong></p><h3 id="Zsetï¼ˆæœ‰åºé›†åˆï¼‰"><a href="#Zsetï¼ˆæœ‰åºé›†åˆï¼‰" class="headerlink" title="Zsetï¼ˆæœ‰åºé›†åˆï¼‰"></a>Zsetï¼ˆæœ‰åºé›†åˆï¼‰</h3><blockquote><p>ä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ï¼ˆscoreï¼‰ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚</p><p>scoreç›¸åŒï¼šæŒ‰å­—å…¸é¡ºåºæ’åº</p><p>æœ‰åºé›†åˆçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚</p></blockquote><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>ZADD key score member1 [score2 member2]</code></td><td>å‘æœ‰åºé›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ï¼Œæˆ–è€…æ›´æ–°å·²å­˜åœ¨æˆå‘˜çš„åˆ†æ•°</td></tr><tr><td><code>ZCARD key</code></td><td>è·å–æœ‰åºé›†åˆçš„æˆå‘˜æ•°</td></tr><tr><td><code>ZCOUNT key min max</code></td><td>è®¡ç®—åœ¨æœ‰åºé›†åˆä¸­æŒ‡å®šåŒºé—´scoreçš„æˆå‘˜æ•°</td></tr><tr><td><code>ZINCRBY key n member</code></td><td>æœ‰åºé›†åˆä¸­å¯¹æŒ‡å®šæˆå‘˜çš„åˆ†æ•°åŠ ä¸Šå¢é‡ n</td></tr><tr><td><code>ZSCORE key member</code></td><td>è¿”å›æœ‰åºé›†ä¸­ï¼Œæˆå‘˜çš„åˆ†æ•°å€¼</td></tr><tr><td><code>ZRANK key member</code></td><td>è¿”å›æœ‰åºé›†åˆä¸­æŒ‡å®šæˆå‘˜çš„ç´¢å¼•</td></tr><tr><td><code>ZRANGE key start end</code></td><td>é€šè¿‡ç´¢å¼•åŒºé—´è¿”å›æœ‰åºé›†åˆæˆæŒ‡å®šåŒºé—´å†…çš„æˆå‘˜</td></tr><tr><td><code>ZRANGEBYLEX key min max</code></td><td>é€šè¿‡å­—å…¸åŒºé—´è¿”å›æœ‰åºé›†åˆçš„æˆå‘˜</td></tr><tr><td><code>ZRANGEBYSCORE key min max</code></td><td>é€šè¿‡åˆ†æ•°è¿”å›æœ‰åºé›†åˆæŒ‡å®šåŒºé—´å†…çš„æˆå‘˜==-inf å’Œ +infåˆ†åˆ«è¡¨ç¤ºæœ€å°æœ€å¤§å€¼ï¼Œåªæ”¯æŒå¼€åŒºé—´()==</td></tr><tr><td><code>ZLEXCOUNT key min max</code></td><td>åœ¨æœ‰åºé›†åˆä¸­è®¡ç®—æŒ‡å®šå­—å…¸åŒºé—´å†…æˆå‘˜æ•°é‡</td></tr><tr><td><code>ZREM key member1 [member2..]</code></td><td>ç§»é™¤æœ‰åºé›†åˆä¸­ä¸€ä¸ª/å¤šä¸ªæˆå‘˜</td></tr><tr><td><code>ZREMRANGEBYLEX key min max</code></td><td>ç§»é™¤æœ‰åºé›†åˆä¸­ç»™å®šçš„å­—å…¸åŒºé—´çš„æ‰€æœ‰æˆå‘˜</td></tr><tr><td><code>ZREMRANGEBYRANK key start stop</code></td><td>ç§»é™¤æœ‰åºé›†åˆä¸­ç»™å®šçš„æ’ååŒºé—´çš„æ‰€æœ‰æˆå‘˜</td></tr><tr><td><code>ZREMRANGEBYSCORE key min max</code></td><td>ç§»é™¤æœ‰åºé›†åˆä¸­ç»™å®šçš„åˆ†æ•°åŒºé—´çš„æ‰€æœ‰æˆå‘˜</td></tr><tr><td><code>ZREVRANGE key start end</code></td><td>è¿”å›æœ‰åºé›†ä¸­æŒ‡å®šåŒºé—´å†…çš„æˆå‘˜ï¼Œé€šè¿‡ç´¢å¼•ï¼Œåˆ†æ•°ä»é«˜åˆ°åº•</td></tr><tr><td><code>ZREVRANGEBYSCORRE key max min</code></td><td>è¿”å›æœ‰åºé›†ä¸­æŒ‡å®šåˆ†æ•°åŒºé—´å†…çš„æˆå‘˜ï¼Œåˆ†æ•°ä»é«˜åˆ°ä½æ’åº</td></tr><tr><td><code>ZREVRANGEBYLEX key max min</code></td><td>è¿”å›æœ‰åºé›†ä¸­æŒ‡å®šå­—å…¸åŒºé—´å†…çš„æˆå‘˜ï¼ŒæŒ‰å­—å…¸é¡ºåºå€’åº</td></tr><tr><td><code>ZREVRANK key member</code></td><td>è¿”å›æœ‰åºé›†åˆä¸­æŒ‡å®šæˆå‘˜çš„æ’åï¼Œæœ‰åºé›†æˆå‘˜æŒ‰åˆ†æ•°å€¼é€’å‡(ä»å¤§åˆ°å°)æ’åº</td></tr><tr><td><code>ZINTERSTORE destination numkeys key1 [key2 ..]</code></td><td>è®¡ç®—ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæœ‰åºé›†çš„äº¤é›†å¹¶å°†ç»“æœé›†å­˜å‚¨åœ¨æ–°çš„æœ‰åºé›†åˆ key ä¸­ï¼Œnumkeysï¼šè¡¨ç¤ºå‚ä¸è¿ç®—çš„é›†åˆæ•°ï¼Œå°†scoreç›¸åŠ ä½œä¸ºç»“æœçš„score</td></tr><tr><td><code>ZUNIONSTORE destination numkeys key1 [key2..]</code></td><td>è®¡ç®—ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæœ‰åºé›†çš„äº¤é›†å¹¶å°†ç»“æœé›†å­˜å‚¨åœ¨æ–°çš„æœ‰åºé›†åˆ key ä¸­</td></tr><tr><td><code>ZSCAN key cursor [MATCH pattern\] [COUNT count]</code></td><td>è¿­ä»£æœ‰åºé›†åˆä¸­çš„å…ƒç´ ï¼ˆåŒ…æ‹¬å…ƒç´ æˆå‘˜å’Œå…ƒç´ åˆ†å€¼ï¼‰</td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><code class="hljs bash">-------------------ZADD--ZCARD--ZCOUNT--------------<br>127.0.0.1:6379&gt; ZADD myzset 1 m1 2 m2 3 m3 <span class="hljs-comment"># å‘æœ‰åºé›†åˆmyzsetä¸­æ·»åŠ æˆå‘˜m1 score=1 ä»¥åŠæˆå‘˜m2 score=2..</span><br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; ZCARD myzset <span class="hljs-comment"># è·å–æœ‰åºé›†åˆçš„æˆå‘˜æ•°</span><br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; ZCOUNT myzset 0 1 <span class="hljs-comment"># è·å–scoreåœ¨ [0,1]åŒºé—´çš„æˆå‘˜æ•°é‡</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; ZCOUNT myzset 0 2<br>(<span class="hljs-built_in">integer</span>) 2<br><br>----------------ZINCRBY--ZSCORE--------------------------<br>127.0.0.1:6379&gt; ZINCRBY myzset 5 m2 <span class="hljs-comment"># å°†æˆå‘˜m2çš„score +5</span><br><span class="hljs-string">&quot;7&quot;</span><br>127.0.0.1:6379&gt; ZSCORE myzset m1 <span class="hljs-comment"># è·å–æˆå‘˜m1çš„score</span><br><span class="hljs-string">&quot;1&quot;</span><br>127.0.0.1:6379&gt; ZSCORE myzset m2<br><span class="hljs-string">&quot;7&quot;</span><br><br>--------------ZRANK--ZRANGE-----------------------------------<br>127.0.0.1:6379&gt; ZRANK myzset m1 <span class="hljs-comment"># è·å–æˆå‘˜m1çš„ç´¢å¼•ï¼Œç´¢å¼•æŒ‰ç…§scoreæ’åºï¼Œscoreç›¸åŒç´¢å¼•å€¼æŒ‰å­—å…¸é¡ºåºé¡ºåºå¢åŠ </span><br>(<span class="hljs-built_in">integer</span>) 0<br>127.0.0.1:6379&gt; ZRANK myzset m2<br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; ZRANGE myzset 0 1 <span class="hljs-comment"># è·å–ç´¢å¼•åœ¨ 0~1çš„æˆå‘˜</span><br>1) <span class="hljs-string">&quot;m1&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>127.0.0.1:6379&gt; ZRANGE myzset 0 -1 <span class="hljs-comment"># è·å–å…¨éƒ¨æˆå‘˜</span><br>1) <span class="hljs-string">&quot;m1&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br><br><span class="hljs-comment">#testset=&gt;&#123;abc,add,amaze,apple,back,java,redis&#125; scoreå‡ä¸º0</span><br>------------------ZRANGEBYLEX---------------------------------<br>127.0.0.1:6379&gt; ZRANGEBYLEX testset - + <span class="hljs-comment"># è¿”å›æ‰€æœ‰æˆå‘˜</span><br>1) <span class="hljs-string">&quot;abc&quot;</span><br>2) <span class="hljs-string">&quot;add&quot;</span><br>3) <span class="hljs-string">&quot;amaze&quot;</span><br>4) <span class="hljs-string">&quot;apple&quot;</span><br>5) <span class="hljs-string">&quot;back&quot;</span><br>6) <span class="hljs-string">&quot;java&quot;</span><br>7) <span class="hljs-string">&quot;redis&quot;</span><br>127.0.0.1:6379&gt; ZRANGEBYLEX testset - + LIMIT 0 3 <span class="hljs-comment"># åˆ†é¡µ æŒ‰ç´¢å¼•æ˜¾ç¤ºæŸ¥è¯¢ç»“æœçš„ 0,1,2æ¡è®°å½•</span><br>1) <span class="hljs-string">&quot;abc&quot;</span><br>2) <span class="hljs-string">&quot;add&quot;</span><br>3) <span class="hljs-string">&quot;amaze&quot;</span><br>127.0.0.1:6379&gt; ZRANGEBYLEX testset - + LIMIT 3 3 <span class="hljs-comment"># æ˜¾ç¤º 3,4,5æ¡è®°å½•</span><br>1) <span class="hljs-string">&quot;apple&quot;</span><br>2) <span class="hljs-string">&quot;back&quot;</span><br>3) <span class="hljs-string">&quot;java&quot;</span><br>127.0.0.1:6379&gt; ZRANGEBYLEX testset (- [apple <span class="hljs-comment"># æ˜¾ç¤º (-,apple] åŒºé—´å†…çš„æˆå‘˜</span><br>1) <span class="hljs-string">&quot;abc&quot;</span><br>2) <span class="hljs-string">&quot;add&quot;</span><br>3) <span class="hljs-string">&quot;amaze&quot;</span><br>4) <span class="hljs-string">&quot;apple&quot;</span><br>127.0.0.1:6379&gt; ZRANGEBYLEX testset [apple [java <span class="hljs-comment"># æ˜¾ç¤º [apple,java]å­—å…¸åŒºé—´çš„æˆå‘˜</span><br>1) <span class="hljs-string">&quot;apple&quot;</span><br>2) <span class="hljs-string">&quot;back&quot;</span><br>3) <span class="hljs-string">&quot;java&quot;</span><br><br>-----------------------ZRANGEBYSCORE---------------------<br>127.0.0.1:6379&gt; ZRANGEBYSCORE myzset 1 10 <span class="hljs-comment"># è¿”å›scoreåœ¨ [1,10]ä¹‹é—´çš„çš„æˆå‘˜</span><br>1) <span class="hljs-string">&quot;m1&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br>127.0.0.1:6379&gt; ZRANGEBYSCORE myzset 1 5<br>1) <span class="hljs-string">&quot;m1&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br><br>--------------------ZLEXCOUNT-----------------------------<br>127.0.0.1:6379&gt; ZLEXCOUNT testset - +<br>(<span class="hljs-built_in">integer</span>) 7<br>127.0.0.1:6379&gt; ZLEXCOUNT testset [apple [java<br>(<span class="hljs-built_in">integer</span>) 3<br><br>------------------ZREM--ZREMRANGEBYLEX--ZREMRANGBYRANK--ZREMRANGEBYSCORE--------------------------------<br>127.0.0.1:6379&gt; ZREM testset abc <span class="hljs-comment"># ç§»é™¤æˆå‘˜abc</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; ZREMRANGEBYLEX testset [apple [java <span class="hljs-comment"># ç§»é™¤å­—å…¸åŒºé—´[apple,java]ä¸­çš„æ‰€æœ‰æˆå‘˜</span><br>(<span class="hljs-built_in">integer</span>) 3<br>127.0.0.1:6379&gt; ZREMRANGEBYRANK testset 0 1 <span class="hljs-comment"># ç§»é™¤æ’å0~1çš„æ‰€æœ‰æˆå‘˜</span><br>(<span class="hljs-built_in">integer</span>) 2<br>127.0.0.1:6379&gt; ZREMRANGEBYSCORE myzset 0 3 <span class="hljs-comment"># ç§»é™¤scoreåœ¨ [0,3]çš„æˆå‘˜</span><br>(<span class="hljs-built_in">integer</span>) 2<br><br><br><span class="hljs-comment"># testset=&gt; &#123;abc,add,apple,amaze,back,java,redis&#125; scoreå‡ä¸º0</span><br><span class="hljs-comment"># myzset=&gt; &#123;(m1,1),(m2,2),(m3,3),(m4,4),(m7,7),(m9,9)&#125;</span><br>----------------ZREVRANGE--ZREVRANGEBYSCORE--ZREVRANGEBYLEX-----------<br>127.0.0.1:6379&gt; ZREVRANGE myzset 0 3 <span class="hljs-comment"># æŒ‰scoreé€’å‡æ’åºï¼Œç„¶åæŒ‰ç´¢å¼•ï¼Œè¿”å›ç»“æœçš„ 0~3</span><br>1) <span class="hljs-string">&quot;m9&quot;</span><br>2) <span class="hljs-string">&quot;m7&quot;</span><br>3) <span class="hljs-string">&quot;m4&quot;</span><br>4) <span class="hljs-string">&quot;m3&quot;</span><br>127.0.0.1:6379&gt; ZREVRANGE myzset 2 4 <span class="hljs-comment"># è¿”å›æ’åºç»“æœçš„ ç´¢å¼•çš„2~4</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br>127.0.0.1:6379&gt; ZREVRANGEBYSCORE myzset 6 2 <span class="hljs-comment"># æŒ‰scoreé€’å‡é¡ºåº è¿”å›é›†åˆä¸­åˆ†æ•°åœ¨[2,6]ä¹‹é—´çš„æˆå‘˜</span><br>1) <span class="hljs-string">&quot;m4&quot;</span><br>2) <span class="hljs-string">&quot;m3&quot;</span><br>3) <span class="hljs-string">&quot;m2&quot;</span><br>127.0.0.1:6379&gt; ZREVRANGEBYLEX testset [java (add <span class="hljs-comment"># æŒ‰å­—å…¸å€’åº è¿”å›é›†åˆä¸­(add,java]å­—å…¸åŒºé—´çš„æˆå‘˜</span><br>1) <span class="hljs-string">&quot;java&quot;</span><br>2) <span class="hljs-string">&quot;back&quot;</span><br>3) <span class="hljs-string">&quot;apple&quot;</span><br>4) <span class="hljs-string">&quot;amaze&quot;</span><br><br>-------------------------ZREVRANK------------------------------<br>127.0.0.1:6379&gt; ZREVRANK myzset m7 <span class="hljs-comment"># æŒ‰scoreé€’å‡é¡ºåºï¼Œè¿”å›æˆå‘˜m7ç´¢å¼•</span><br>(<span class="hljs-built_in">integer</span>) 1<br>127.0.0.1:6379&gt; ZREVRANK myzset m2<br>(<span class="hljs-built_in">integer</span>) 4<br><br><br><span class="hljs-comment"># mathscore=&gt;&#123;(xm,90),(xh,95),(xg,87)&#125; å°æ˜ã€å°çº¢ã€å°åˆšçš„æ•°å­¦æˆç»©</span><br><span class="hljs-comment"># enscore=&gt;&#123;(xm,70),(xh,93),(xg,90)&#125; å°æ˜ã€å°çº¢ã€å°åˆšçš„è‹±è¯­æˆç»©</span><br>-------------------ZINTERSTORE--ZUNIONSTORE-----------------------------------<br>127.0.0.1:6379&gt; ZINTERSTORE sumscore 2 mathscore enscore <span class="hljs-comment"># å°†mathscore enscoreè¿›è¡Œåˆå¹¶ ç»“æœå­˜æ”¾åˆ°sumscore</span><br>(<span class="hljs-built_in">integer</span>) 3<br>127.0.0.1:6379&gt; ZRANGE sumscore 0 -1 withscores <span class="hljs-comment"># åˆå¹¶åçš„scoreæ˜¯ä¹‹å‰é›†åˆä¸­æ‰€æœ‰scoreçš„å’Œ</span><br>1) <span class="hljs-string">&quot;xm&quot;</span><br>2) <span class="hljs-string">&quot;160&quot;</span><br>3) <span class="hljs-string">&quot;xg&quot;</span><br>4) <span class="hljs-string">&quot;177&quot;</span><br>5) <span class="hljs-string">&quot;xh&quot;</span><br>6) <span class="hljs-string">&quot;188&quot;</span><br><br>127.0.0.1:6379&gt; ZUNIONSTORE lowestscore 2 mathscore enscore AGGREGATE MIN <span class="hljs-comment"># å–ä¸¤ä¸ªé›†åˆçš„æˆå‘˜scoreæœ€å°å€¼ä½œä¸ºç»“æœçš„</span><br>(<span class="hljs-built_in">integer</span>) 3<br>127.0.0.1:6379&gt; ZRANGE lowestscore 0 -1 withscores<br>1) <span class="hljs-string">&quot;xm&quot;</span><br>2) <span class="hljs-string">&quot;70&quot;</span><br>3) <span class="hljs-string">&quot;xg&quot;</span><br>4) <span class="hljs-string">&quot;87&quot;</span><br>5) <span class="hljs-string">&quot;xh&quot;</span><br>6) <span class="hljs-string">&quot;93&quot;</span><br></code></pre></td></tr></table></figure><p>åº”ç”¨æ¡ˆä¾‹ï¼š</p><ul><li>setæ’åº å­˜å‚¨ç­çº§æˆç»©è¡¨ å·¥èµ„è¡¨æ’åºï¼</li><li>æ™®é€šæ¶ˆæ¯ï¼Œ1.é‡è¦æ¶ˆæ¯ 2.å¸¦æƒé‡è¿›è¡Œåˆ¤æ–­</li><li>æ’è¡Œæ¦œåº”ç”¨å®ç°ï¼Œå–Top Næµ‹è¯•</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹è¯»åæ„Ÿ</title>
    <link href="/2021/03/01/2021-03-01-hackers&amp;painters/"/>
    <url>/2021/03/01/2021-03-01-hackers&amp;painters/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>è¿™åˆæ˜¯ä¸€æœ¬æ¨ç›¸è§æ™šçš„è‘—ä½œï¼Œä¿ç½—Â·æ ¼é›·å„å§†åœ¨ä¹¦ä¸­è®²è¿°äº†ä¹¦å‘†å­ã€ç¼–ç¨‹ã€è´¢å¯Œä¸‰å—å¤§å†…å®¹ã€‚æ¯ä¸ªéƒ¨åˆ†çš„é˜…è¯»ä¹‹åéƒ½è®©æˆ‘è§‰å¾—å¦‚è·è‡³å®ï¼Œç›´æ¥ä»è¿™ä¸‰ä¸ªæ–¹é¢è®²ä¸€ä¸‹è‡ªå·±çš„å¿ƒå¾—å§ã€‚</p><h4 id="ä¹¦å‘†å­"><a href="#ä¹¦å‘†å­" class="headerlink" title="ä¹¦å‘†å­"></a>ä¹¦å‘†å­</h4><blockquote><p>å“ªæ€•ä½ ä»€ä¹ˆä¹Ÿæ”¹å˜ä¸äº†ï¼Œä½†æ˜¯ä»…ä»…æ˜¯ç†è§£è‡ªå·±çš„å¤„å¢ƒï¼Œä¹Ÿèƒ½ä½¿å¾—ç—›è‹¦å‡è½»ä¸€äº›ã€‚ä¹¦å‘†å­å¹¶ä¸æ˜¯å¤±è´¥è€…ã€‚ä»–ä»¬åªæ˜¯åœ¨ç©ä¸€ä¸ªä¸åŒçš„æ¸¸æˆï¼Œä¸€ä¸ªæ›´æ¥è¿‘äºçœŸå®æƒ…å†µçš„æ¸¸æˆã€‚æˆå¹´äººæ˜ç™½è¿™ä¸€ç‚¹ã€‚æˆåŠŸçš„æˆå¹´äººï¼Œå‡ ä¹éƒ½å£°ç§°è‡ªå·±åœ¨é«˜ä¸­å±äºä¹¦å‘†å­ã€‚</p></blockquote><p>å¼€ç¯‡å…ˆæ˜¯å…³äºä¹¦å‘†å­ä¸ºä½•ä¸å—æ¬¢è¿çš„åˆ†æï¼Œç¬”è€…ä¸ºæˆ‘ä»¬å›ç­”äº†è¿™ä¸ªå›°æ‰°æ•´ä¸ªæ—¶ä»£çš„å…³é”®é—®é¢˜ï¼Œå®é™…ä¸Šæ˜¯å› ä¸ºé’å°‘å¹´åœ¨å¿ƒç†ä¸Šå°šæœªæ‘†è„±å„¿ç«¥çŠ¶æ€ï¼Œå¤§å¤šä¼šæ®‹å¿åœ°å¯¹å¾…ä»–äººã€‚å­©å­ä»¬æ¬ºè´Ÿä¹¦å‘†å­æ˜¯ä¸ºäº†è®©è‡ªå·±å¥½å—ä¸€äº›â€¦è™½ç„¶æˆ‘ç®—ä¸ä¸Šæ˜¯ä»€ä¹ˆä¹¦å‘†å­ï¼Œä½†è‹¥æ˜¯èƒ½å¤Ÿæ—©äº›çŸ¥é“è¿™äº›é“ç†ï¼Œåœ¨ç‹¬å¤„å­¦ä¹ ä¹‹æ—¶ä¹Ÿå¯å¤šä¸Šå‡ åˆ†ä»å®¹ã€‚æ˜¯æ•™è‚²ä½“åˆ¶çš„ç¼ºé™·é€ æˆå¦‚æ­¤ä¸å ªçš„ç°è±¡ï¼Œä½†è‹¥æ˜¯å­¦ç”Ÿæœ¬äººæˆ–æ˜¯å…¶è€å¸ˆå®¶é•¿èƒ½å¤ŸçŸ¥æ‚‰çœŸå®æƒ…å†µï¼Œåšå‡ºè¡ŒåŠ¨ï¼Œä¾¿å¯æ–½ä»¥æ‹¯æ•‘ï¼Œè¿™åŒæ ·ä¸ºæˆ‘åœ¨ä»¥åæ•™å¯¼å­å¥³çš„é“è·¯ä¸Šæä¾›æŒ‡å¯¼ï¼Œè®©ä»–åœ¨é€šå¾€æˆåŠŸçš„æˆå¹´äººçš„é“è·¯ä¸Šå°‘äº›é»‘æš—çš„æ—¶å…‰ã€‚</p><h4 id="ç¼–ç¨‹"><a href="#ç¼–ç¨‹" class="headerlink" title="ç¼–ç¨‹"></a>ç¼–ç¨‹</h4><p>é»‘å®¢ç¯‡è®²è¿°äº†hackæ–‡åŒ–çš„ç”±æ¥ä»¥åŠæˆ‘ä»¬å¦‚ä»Šæ‰€å¤„çš„è¿™ä¸ªäº’è”ç½‘æ—¶ä»£çš„æœ¬è´¨ã€‚æˆ‘ä»å°å°±å‘å¾€ç”µå½±é‡Œèº«ç©¿é»‘ç°å«è¡£çš„ç¥ç§˜é»‘å®¢ï¼Œä»–ä»¬å°±å¥½åƒæ˜¯ç°å®åŸå¸‚ä¸­çš„æ±Ÿæ¹–ä¾ å®¢ï¼Œä»£ç ä¸ºå‰‘ï¼Œè¡Œå¿ƒä¸­å¤§ä¹‰ã€‚å¤šå¹´ä¹‹åæˆ‘å¦‚æ„¿ä»¥å¿è¿›å…¥äº†è®¡ç®—æœºä¸“ä¸šï¼Œçªç„¶å‘ç°è‡ªå·±å¥½ä¼¼åç¦»äº†å„¿æ—¶çš„ä¾ å®¢æ¢¦ï¼Œå¥½åƒåº”è¯¥èµ°ç½‘ç»œå®‰å…¨ï¼Ÿä¸ç„¶ï¼Œç›´åˆ°ä»Šå¤©è¯»äº†æ­¤ä¹¦ï¼Œæˆ‘æ‰æ˜ç™½é»‘å®¢ä¸€è¯æœ€åˆçš„å®šä¹‰ï¼ŒhackæŒ‡å¾ˆå·§å¦™æˆ–ä¾¿æ·çš„è§£å†³æ–¹æ³•ï¼Œä»äº‹hackingçš„hackerï¼Œå…¶è¡Œä¸ºå‡†åˆ™ä¸ºï¼šå¥½ç©ã€é«˜æ™ºå•†ã€æ¢ç´¢ã€‚å¥½åƒæ›´é…·äº†ã€‚ä¿ç½—å…ˆç”Ÿè®¤ä¸ºé»‘å®¢ä¸ç”»å®¶åŒå±ä¸€å®—ï¼Œä»–ä»¬éƒ½æ˜¯åˆ›ä½œè€…ï¼Œè¯•å›¾åˆ›ä½œå‡ºä¼˜ç¾çš„ä½œå“ï¼Œåœ¨åˆ›ä½œçš„è¿‡ç¨‹ä¸­å¯èƒ½å‘ç°ä¸€äº›æ–°æŠ€æœ¯ã€‚æˆ‘æƒ³è¿™æ‰æ˜¯æˆ‘çœŸæ­£æƒ³æˆä¸ºçš„é»‘å®¢ï¼Œè™½ç„¶æˆ‘æœªèƒ½åƒç”µå½±(ç°å®äº¦æœ‰)é‡Œçš„å°‘å¹´å¤©æ‰é‚£æ ·ä»å°è‡ªå­¦ç¼–ç¨‹ï¼Œä½†ä¹Ÿä¾ç„¶è¦åŠªåŠ›åœ¨è¿™æ¡è·¯ä¸Šå‘å‰è¿ˆæ­¥ã€‚</p><blockquote><p>é»‘å®¢å¦‚ä½•æ‰èƒ½åšè‡ªå·±å–œæ¬¢çš„äº‹æƒ…ï¼Ÿæˆ‘è®¤ä¸ºè¿™ä¸ªé—®é¢˜çš„è§£å†³åŠæ³•æ˜¯ä¸€ä¸ªå‡ ä¹æ‰€æœ‰åˆ›ä½œè€…éƒ½çŸ¥é“çš„æ–¹æ³•ï¼šæ‰¾ä¸€ä»½å…»å®¶ç³Šå£çš„â€œç™½å¤©å·¥ä½œâ€ã€‚è¿™ä¸ªè¯æ˜¯ä»éŸ³ä¹å®¶èº«ä¸Šæ¥çš„ï¼Œä»–ä»¬æ™šä¸Šè¡¨æ¼”éŸ³ä¹ï¼Œæ‰€ä»¥ç™½å¤©å¯ä»¥æ‰¾ä¸€ä»½å…¶ä»–å·¥ä½œã€‚æ›´ä¸€èˆ¬åœ°è¯´ï¼Œâ€œç™½å¤©å·¥ä½œâ€çš„æ„æ€æ˜¯ï¼Œä½ æœ‰ä¸€ä»½ä¸ºäº†èµšé’±çš„å·¥ä½œï¼Œè¿˜æœ‰ä¸€ä»½ä¸ºäº†çˆ±å¥½çš„å·¥ä½œã€‚å‡ ä¹æ‰€æœ‰çš„åˆ›ä½œè€…åœ¨èŒä¸šç”Ÿæ¶¯çš„æ—©æœŸéƒ½æœ‰ä¸€ä»½â€œç™½å¤©å·¥ä½œâ€ã€‚ç”»å®¶å’Œä½œå®¶å°¤å…¶æ˜¾è‘—ã€‚</p></blockquote><p>æ—¢ç„¶æŠŠé»‘å®¢æ¯”ä½œç”»å®¶ï¼Œé‚£æ‹¥æœ‰è®¾è®¡è€…çš„å“ä½å°±æˆäº†å¿…è¦ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯å¥½çš„è®¾è®¡å‘¢ï¼Ÿç¬”è€…ç»™å‡ºäº†è®¸å¤šå®šä¹‰:ç®€å•ã€æ°¸ä¸è¿‡æ—¶ã€è§£å†³ä¸»è¦é—®é¢˜ã€å¯å‘æ€§ã€æœ‰è¶£å‘³æ€§ã€è‰°è‹¦ã€çœ‹ä¼¼å®¹æ˜“ã€å¯¹ç§°ã€æ¨¡ä»¿è‡ªç„¶â€¦æŒ‘ç€è®²ä¸€äº›è‡ªå·±çš„ç†è§£å§ï¼Œå°‘å³æ˜¯å¤šçš„é“ç†åœ¨ç¼–ç¨‹ç•Œè‡ªç„¶é€šç”¨ï¼Œä»ç•Œé¢åˆ°ä»£ç ï¼Œç®€æ´ç¾æ„Ÿçš„æ ‡å‡†éƒ½é¢‡ä¸ºé‡è¦ã€‚æ°¸ä¸è¿‡æ—¶è¿™æ ·çš„é«˜æ ‡å‡†è‡ªä¸ç”¨è¯´ï¼Œè§£å†³ä¸»è¦é—®é¢˜ç›¸å½“äº82æ€æƒ³å§ï¼Œå¦‚æœåœ¨8ä¸Šé¢åšçš„ä¸å¤Ÿå¥½ï¼Œå®Œæˆå†å¤šçš„2ä¹Ÿå¤±å»äº†æ„ä¹‰ã€‚è‰°è‹¦å’Œçœ‹ä¼¼å®¹æ˜“ç»“åˆåœ¨ä¸€èµ·ï¼Œæ„Ÿè§‰æ˜¯é›†å¤§æˆçš„ç»“è®ºï¼Œå¤§æ™ºè‹¥æ„šï¼Ÿäººç±»å²ä¸Šè®¸å¤šé‡å¤§çš„å‘ç°ï¼Œåœ¨å½¢å¼ä¸Šå¾€å¾€å¾ˆç®€å•ï¼Œæ¯”å¦‚ä¸€äº›çœ‹ä¼¼ç®€å•çš„æ•°å­¦ç‰©ç†å­¦ç»“è®ºï¼Œç»™ä½ ä¸€ç§æˆ‘å¥½åƒä¹Ÿè¡Œçš„æ„Ÿè§‰ï¼Œå…¶å®åœ¨èƒŒåéœ€è¦å¤§é‡çš„åŠªåŠ›ã€‚è‡ªç„¶æ°¸è¿œæ˜¯äººç±»çš„è€å¸ˆï¼Œå¤å¾€ä»Šæ¥çš„å¾ˆå¤šä¾‹å­ä¸­éƒ½ä½“ç°äº†è¿™ä¸€ç‚¹ï¼Œèˆ¹åªæœ‰é¾™éª¨ã€é£æœºåƒé¸Ÿç±»ç­‰ç­‰ã€‚</p><blockquote><p>å“¥ç™½å°¼ä¸è®¤åŒæ‰˜å‹’å¯†çš„ä½“ç³»ï¼Œä¸€ä¸ªæå…¶é‡è¦çš„åŸå› æ˜¯ï¼Œä»–è§‰å¾—æ‰˜å‹’å¯†æå‡ºçš„åå¿ƒç­‰è·ç‚¹(equant)æ¯«æ— ç¾æ„Ÿã€‚         â€“æ‰˜é©¬æ–¯Â·åº“æ©ã€Šå“¥ç™½å°¼é©å‘½ã€‹</p></blockquote><p>å¦‚ä»Šæˆ‘ä»¬è¿™ä¸ªæ—¶ä»£è¶Šæ¥è¶Šè¢«äº’è”ç½‘æ‰€æŒæ¡ï¼Œä½œä¸ºä»¥åçš„ç¨‹åºå‘˜ï¼Œåº”å½“äº†è§£æ›´å¤šé»‘å®¢å’Œäº’è”ç½‘ä¹‹åçš„ä¸œè¥¿ï¼Œç†è§£è¿™ä¸€é‡å¤§çš„æŠ€æœ¯é©å‘½ï¼Œåœ¨æ—¶ä»£çš„æ´ªæµä¹‹ä¸­æŒæ§è‡ªå·±çš„å‘½è¿ã€‚</p><h4 id="è´¢å¯Œ"><a href="#è´¢å¯Œ" class="headerlink" title="è´¢å¯Œ"></a>è´¢å¯Œ</h4><p>å…³äºè´¢å¯Œï¼Œæˆ‘æœ¬èƒ½çš„å°†å…¶å’Œç°å®äºŒå­—æŒ‚ä¸Šé’©ï¼Œå…»å®¶ç³Šå£æ˜¯æˆ‘ä»¬æ¯ä¸ªäººéƒ½é¿ä¸å¼€çš„è¯é¢˜ã€‚ä¿ç½—å…ˆç”Ÿè¯´è‡´å¯Œçš„æœ€å¥½æ–¹æ³•å°±æ˜¯ä¸ºç¤¾ä¼šåˆ›é€ è´¢å¯Œã€‚åˆ›é€ è´¢å¯Œçš„æœ€å¥½æ–¹æ³•å°±æ˜¯åˆ›ä¸šã€‚è¿™ä¸ªè§‚ç‚¹æ˜¯å› ä¸ºåˆ›ä¸šçš„å°å…¬å¸èƒ½å¤Ÿæ›´å‹¤å¥‹å·¥ä½œã€æ‘†è„±æ‚äº‹å¹²æ‰°ã€‚æ¡ä»¶å—é™çš„æˆ‘æœªèƒ½é€‰æ‹©åˆ›ä¸šï¼Œå…ˆç»•å¼€è¿™ä¸ªè¯é¢˜ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>æˆ‘ä»ç„¶å¸Œæœ›è‡ªå·±èƒ½å¤Ÿæˆä¸ºä¸€ä¸ªä¸é”™çš„é»‘å®¢ï¼Œèƒ½å¤Ÿç”¨è‡ªå·±çš„ä»£ç å»åšæœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œå»å¸®åŠ©æ›´å¤šçš„äººï¼Œä¹¦ä¸­è¿˜æœ‰è®¸è®¸å¤šå¤šæœ‰ç”¨çš„é“ç†ï¼Œå…³äºæˆä¸ºä¸€ä¸ªä¼˜ç§€çš„é»‘å®¢ã€è´«å¯Œå·®è·ã€è®¾è®¡å“ä½ã€ç¼–ç¨‹è¯­è¨€çš„è¿›åŒ–ã€ä¹¦å‘†å­çš„å¤ä»‡ç­‰ç­‰ï¼Œåç»­é—²æ—¶è¡¥å……ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>è¯»ä¹¦</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é¡¹ç›®å¯¼å‡ºåŠé‡æ–°è¿è¡Œ</title>
    <link href="/2021/02/20/2021-02-20-redeploy/"/>
    <url>/2021/02/20/2021-02-20-redeploy/</url>
    
    <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>é™ªä¼´æˆ‘èµ°è¿‡å¤§å­¦ç”Ÿæ¶¯çš„è”æƒ³å°æ–°å·²ç»æ•…éšœé¢‘å‘ï¼Œé‡è£…ç³»ç»Ÿè¿‡åæ€»æ˜¯éœ€è¦é‡æ–°å¸ƒç½®ç¯å¢ƒéƒ¨ç½²é¡¹ç›®ï¼Œæ­£å¥½åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹å¤§è‡´æ­¥éª¤ã€‚</p><h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><p><strong>å¯¼å‡ºé¡¹ç›®</strong></p><p>1.å¯¼å‡ºæ•°æ®åº“sqlæ–‡ä»¶ï¼Œå¯ä½¿ç”¨navicatä¸­æ¯”è¾ƒæ–¹ä¾¿<br>2.é€šè¿‡maven packageæ‰“åŒ…åç«¯é¡¹ç›®<br>3.é€šè¿‡cnpm run buildæ‰“åŒ…å‰ç«¯é¡¹ç›®</p><p><strong>ç¯å¢ƒéƒ¨ç½²</strong></p><p>å¼€å‘æ‰€éœ€è¦çš„åŸºæœ¬ç¯å¢ƒ(å‰ç«¯+åç«¯+æ•°æ®åº“)åœ¨å…¶ä»–çš„blogä¸­æœ‰å®Œæ•´æè¿°ä¸å†èµ˜è¿°ï¼Œå¤§è‡´æ­¥éª¤ä¸º</p><ol><li>å®‰è£…æ•°æ®åº“mysqlï¼Œå¯è§†åŒ–å·¥å…·navicat</li><li>å®‰è£…jdkï¼Œé…ç½®ç¯å¢ƒå˜é‡ï¼Œç¼–è¯‘å™¨IDEA</li><li>å®‰è£…node.jså’Œnpmï¼Œnpmå¯é…ç½®æ·˜å®é•œåƒä¸ºcnpmï¼Œç¼–è¯‘å™¨VSCode</li></ol><p><strong>è¿è¡Œé¡¹ç›®</strong></p><p>åœ¨é…ç½®å¥½çš„æ–°ç¯å¢ƒä¸­è¿è¡Œé¡¹ç›®</p><ol><li>æ–°å»ºåŒådatabaseï¼Œå¯¼å…¥sqlæ–‡ä»¶</li><li>å‰ç«¯ï¼šnpm run serveè¿è¡ŒåŒ…</li><li>åç«¯ï¼šè¿è¡ŒjaråŒ…ã€‚(æœ‰å¿…è¦æ—¶éœ€æå‰æ›´æ”¹æ•°æ®åº“é…ç½®)</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>é¡¹ç›®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯•è®¾é¡¹ç›®ç®€ä»‹-äº‘æ–‡æ¡£ç®¡ç†ç³»ç»Ÿ</title>
    <link href="/2020/06/01/2020-06-01-Gra-project/"/>
    <url>/2020/06/01/2020-06-01-Gra-project/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åˆç¨¿001ï¼Œä¹‹åè¿˜æœ‰åš1-2æ¬¡å®Œå–„ã€‚</p><p>åŸºäºVue+Springboot+Elasticsearch</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><h4 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h4><p>é€šç”¨çš„ç¯å¢ƒé…ç½®ä¸èµ˜è¿°(å‰ç«¯+åç«¯+æ•°æ®åº“)ï¼Œç§»æ­¥å…¶ä»–blogã€‚è¿™é‡Œè®²ä¸€ä¸‹ElasticSearchçš„ç¯å¢ƒé…ç½®ã€‚</p><ol><li>åœ¨å®˜ç½‘ä¸‹è½½ESçš„å®‰è£…åŒ…ï¼Œè§£å‹åå³å¯ä½¿ç”¨ï¼Œè¿›å…¥binç›®å½•ï¼ŒåŒå‡»elastic search.batï¼Œè®¿é—®<a href="http://localhost:9200å¯ä»¥æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸã€‚">http://localhost:9200å¯ä»¥æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸã€‚</a></li><li>ä¸‹è½½headæ’ä»¶ï¼Œç”¨äºå¯¹ESæ•°æ®åº“è¿›è¡Œæ“ä½œï¼Œè¿›å…¥å®‰è£…ç›®å½•ï¼Œåœ¨cmdä¸­è¾“å…¥å‘½ä»¤grunt serverè¿è¡Œheadæ’ä»¶ï¼Œè®¿é—®<a href="http://localhost:9300æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸã€‚">http://localhost:9300æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸã€‚</a></li><li>ä¸‹è½½logstashæ’ä»¶ï¼Œç”¨äºåŒæ­¥MySQLçš„æ•°æ®ï¼Œåœ¨logstashç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªmysqlæ–‡ä»¶å¤¹ï¼Œç„¶åå†åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶mysql.confï¼Œç¼–å†™å¦‚ä¸‹ä»£ç ã€‚</li></ol><figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs puppet"><span class="hljs-keyword">aqinput</span> &#123;<br>  jdbc &#123;<br>    <span class="hljs-attr">jdbc_connection_string</span> =&gt; <span class="hljs-string">&quot;jdbc:mysql://localhost:3306/icloud_note&quot;</span><br>    <span class="hljs-attr">jdbc_user</span> =&gt; <span class="hljs-string">&quot;root&quot;</span><br>    <span class="hljs-attr">jdbc_password</span> =&gt; <span class="hljs-string">&quot;password&quot;</span><br>    <span class="hljs-attr">jdbc_driver_library</span> =&gt; <span class="hljs-string">&quot;D:/Download/logstash-6.4.3/mysql/mysql-connector-java-8.0.12.jar&quot;</span><br>    <span class="hljs-attr">jdbc_driver_class</span> =&gt; <span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span><br>    <span class="hljs-attr">jdbc_paging_enabled</span> =&gt; <span class="hljs-string">&quot;true&quot;</span><br>    <span class="hljs-attr">jdbc_page_size</span> =&gt; <span class="hljs-string">&quot;5000&quot;</span><br>    <span class="hljs-attr">statement</span>=&gt; <span class="hljs-string">&quot;select * from doc&quot;</span><br>    <span class="hljs-attr">schedule</span> =&gt; <span class="hljs-string">&quot;* * * * *&quot;</span><br>    <span class="hljs-attr">type</span> =&gt; <span class="hljs-string">&quot;doc_item&quot;</span><br>  &#125;<br>&#125;<br><span class="hljs-keyword">output</span> &#123;<br>  elasticsearch &#123;<br>    <span class="hljs-comment">#esæœåŠ¡å™¨</span><br>    <span class="hljs-attr">hosts</span> =&gt; <span class="hljs-string">&quot;localhost:9200&quot;</span><br>    <span class="hljs-comment">#ç´¢å¼•åç§°</span><br>    <span class="hljs-attr">index</span> =&gt; <span class="hljs-string">&quot;doc&quot;</span><br>    <span class="hljs-attr">document_type</span> =&gt; <span class="hljs-string">&quot;%&#123;type&#125;&quot;</span><br>    <span class="hljs-comment">#è‡ªå¢id</span><br>    <span class="hljs-attr">document_id</span> =&gt; <span class="hljs-string">&quot;%&#123;id&#125;&quot;</span><br>  &#125;<br>  <span class="hljs-keyword">stdout</span> &#123;<br>    <span class="hljs-attr">codec</span> =&gt; json_lines<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h4><h5 id="ç³»ç»Ÿæ¨¡å—"><a href="#ç³»ç»Ÿæ¨¡å—" class="headerlink" title="ç³»ç»Ÿæ¨¡å—"></a>ç³»ç»Ÿæ¨¡å—</h5><p><strong>æ³¨å†Œç™»å½•</strong><br><img src="/img/2021/Gra-login.png" alt="img"><br><img src="/img/2021/Gra-register.png" alt="img"><br>æµç¨‹ï¼šåœ¨å‰ç«¯æ£€æµ‹è¡¨å•çš„è¾“å…¥æ ¼å¼ï¼Œåœ¨åç«¯æ£€æŸ¥ä¿¡æ¯æ˜¯å¦æ­£ç¡®ï¼Œç”¨æˆ·æ˜¯å¦å·²å­˜åœ¨ç­‰ç­‰ã€‚</p><p>å‰ç«¯ä»£ç :</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">rules: &#123;<br>  username: [<br>    &#123; required: <span class="hljs-literal">true</span>, message: <span class="hljs-string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span>, trigger: <span class="hljs-string">&quot;blur&quot;</span> &#125;,<br>    &#123; min: <span class="hljs-number">3</span>, max: <span class="hljs-number">8</span>, message: <span class="hljs-string">&quot;é•¿åº¦åœ¨ 3 åˆ° 8 ä¸ªå­—ç¬¦&quot;</span>, trigger: <span class="hljs-string">&quot;blur&quot;</span> &#125;,<br>  ],<br>  password:...<br>&#125;<br><br>handleLogin() &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$refs[<span class="hljs-string">&quot;loginForm&quot;</span>] !== <span class="hljs-literal">null</span>)<br><span class="hljs-keyword">this</span>.$refs[<span class="hljs-string">&quot;loginForm&quot;</span>].validate((valid) =&gt; &#123;<br>  <span class="hljs-keyword">if</span> (valid) &#123;<br><span class="hljs-keyword">this</span>.loading = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.radio == <span class="hljs-string">&quot;2&quot;</span>) &#123;<br>  <span class="hljs-keyword">if</span> (<br><span class="hljs-keyword">this</span>.loginForm.username == <span class="hljs-string">&quot;admin&quot;</span> &amp;&amp;<br><span class="hljs-keyword">this</span>.loginForm.password == <span class="hljs-string">&quot;admin&quot;</span><br>  ) &#123;<br><span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">&quot;setUser&quot;</span>, <span class="hljs-string">&quot;admin&quot;</span>);<br><span class="hljs-keyword">this</span>.$router.push(<span class="hljs-string">&quot;/admin&quot;</span>);<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">this</span>.$message(&#123;<br>  type: <span class="hljs-string">&quot;info&quot;</span>,<br>  message: <span class="hljs-string">&quot;æ‚¨ä¸æ˜¯ç®¡ç†å‘˜å–”~&quot;</span>,<br>&#125;);<br>  &#125;<br>&#125; <span class="hljs-keyword">else</span><br>  <span class="hljs-keyword">this</span>.$store<br>.dispatch(<span class="hljs-string">&quot;Login&quot;</span>, <span class="hljs-keyword">this</span>.loginForm)<br>.then((response) =&gt; &#123;<br>  <span class="hljs-keyword">this</span>.loading = <span class="hljs-literal">false</span>;<br>  let code = response.<span class="hljs-keyword">data</span>.code;<br>  <span class="hljs-keyword">if</span> (code == <span class="hljs-number">200</span>) &#123;<br><span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">&quot;setUser&quot;</span>, response.<span class="hljs-keyword">data</span>.<span class="hljs-keyword">data</span>);<br>console.log(<span class="hljs-keyword">this</span>.$store.getters.getUser);<br><span class="hljs-keyword">this</span>.$router.push(&#123;<br>  path: <span class="hljs-string">&quot;/home&quot;</span>,<br>&#125;);<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code == <span class="hljs-number">500</span>) &#123;<br><span class="hljs-keyword">this</span>.$message(&#123;<br>  type: <span class="hljs-string">&quot;warning&quot;</span>,<br>  message: <span class="hljs-string">&quot;ç”¨æˆ·è¢«å†»ç»“!&quot;</span>,<br>&#125;);<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">this</span>.$message(&#123;<br>  type: <span class="hljs-string">&quot;error&quot;</span>,<br>  message: <span class="hljs-string">&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯!&quot;</span>,<br>&#125;);<br>  &#125;<br>&#125;)<br>.<span class="hljs-keyword">catch</span>(() =&gt; &#123;<br>  <span class="hljs-keyword">this</span>.loading = <span class="hljs-literal">false</span>;<br>&#125;);<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">this</span>.$message(&#123;<br>  type: <span class="hljs-string">&quot;error&quot;</span>,<br>  message: <span class="hljs-string">&quot;å‚æ•°éªŒè¯ä¸åˆæ³•!&quot;</span>,<br>&#125;);<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>  &#125;<br>&#125;);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥å£ä»£ç ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">//ç™»å½•æ ¡éªŒ</span><br>@<span class="hljs-constructor">RequestMapping(<span class="hljs-params">value</span> = <span class="hljs-string">&quot;/admin/login&quot;</span>, <span class="hljs-params">method</span> = RequestMethod.POST)</span><br>public CommonResult login(@RequestBody User user) &#123;<br>    User uu = up.get<span class="hljs-constructor">User(<span class="hljs-params">user</span>)</span>;<br>    <span class="hljs-keyword">if</span> (uu!=null&amp;&amp;user.get<span class="hljs-constructor">Password()</span>.equals(uu.get<span class="hljs-constructor">Password()</span>))<br>        return <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">CommonResult</span>.</span></span>success(uu);<br>    <span class="hljs-keyword">else</span><br>        return <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">CommonResult</span>.</span></span>validate<span class="hljs-constructor">Failed()</span>;<br>&#125;<br><span class="hljs-comment">//æ³¨å†Œæ ¡éªŒ</span><br>@<span class="hljs-constructor">RequestMapping(<span class="hljs-params">value</span> = <span class="hljs-string">&quot;/admin/register&quot;</span>,<span class="hljs-params">method</span> = RequestMethod.POST)</span><br>public CommonResult <span class="hljs-constructor">Register(@RequestBody User <span class="hljs-params">user</span>)</span> &#123;<br>    User uu = up.get<span class="hljs-constructor">User(<span class="hljs-params">user</span>)</span>;<br>    <span class="hljs-keyword">if</span> (uu==null)&#123;<br>        up.add<span class="hljs-constructor">User(<span class="hljs-params">user</span>)</span>;<br>        return <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">CommonResult</span>.</span></span>success(user.get<span class="hljs-constructor">Username()</span>);<br>    &#125;<span class="hljs-keyword">else</span> &#123;<br>        return <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">CommonResult</span>.</span></span>failed<span class="hljs-literal">()</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>åå°ç®¡ç†</strong><br><img src="/img/2021/Gra-admin.png" alt="img"><br><img src="/img/2021/Gra-admin2.png" alt="img"><br>æµç¨‹ï¼šåå°ç®¡ç†åŠŸèƒ½ä¸ºç®¡ç†å‘˜æ‰€ç‰¹æœ‰çš„æ“ä½œï¼Œé€‰æ‹©ç®¡ç†å‘˜èº«ä»½è¾“å…¥ç‰¹å®šè´¦å·è¿›å…¥åå°æ“ä½œç•Œé¢è¿›è¡Œç‰¹å®šæ“ä½œã€‚åœ¨ç”¨æˆ·ç®¡ç†åˆ†é¡µé¢æ§åˆ¶ç”¨æˆ·çš„å°ç¦/è§£å†»çŠ¶æ€ä»¥åŠæ‰€æœ‰ç”¨æˆ·å…¬å¼€çš„æ–‡æ¡£ï¼Œ</p><p>å‰ç«¯ä»£ç ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">changeUser(row) &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-keyword">data</span> = &#123;<br>id: row.id,<br>status: row.status<br>  &#125;;<br>  <span class="hljs-keyword">this</span>.$store<br>.dispatch(<span class="hljs-string">&quot;changeUser&quot;</span>, <span class="hljs-keyword">data</span>)<br>.then(res =&gt; &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">data</span>.status == <span class="hljs-number">1</span>) <span class="hljs-keyword">this</span>.$message.success(<span class="hljs-string">&quot;æ¿€æ´»æˆåŠŸ&quot;</span>);<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.$message.success(<span class="hljs-string">&quot;å†»ç»“æˆåŠŸ&quot;</span>);<br>  console.log(res);<br>  <span class="hljs-keyword">this</span>.loading = <span class="hljs-literal">false</span>;<br>&#125;)<br>.<span class="hljs-keyword">catch</span>(&#123;&#125;);<br>&#125;,<br>changeDoc(row) &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-keyword">data</span> = &#123;<br>id: row.id,<br>share: row.share<br>  &#125;;<br>  <span class="hljs-keyword">this</span>.$store<br>.dispatch(<span class="hljs-string">&quot;changeDoc&quot;</span>, <span class="hljs-keyword">data</span>)<br>.then(res =&gt; &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">data</span>.share == <span class="hljs-number">1</span>) <span class="hljs-keyword">this</span>.$message.success(<span class="hljs-string">&quot;æ¢å¤å…¬å¼€çŠ¶æ€ï¼&quot;</span>);<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.$message.success(<span class="hljs-string">&quot;å–æ¶ˆå…¬å¼€çŠ¶æ€ï¼&quot;</span>);<br>  console.log(res);<br>  <span class="hljs-keyword">this</span>.loading = <span class="hljs-literal">false</span>;<br>&#125;)<br>.<span class="hljs-keyword">catch</span>(&#123;&#125;);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥å£ä»£ç ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@RequestMapping</span>(value = <span class="hljs-string">&quot;/admin/changeuser&quot;</span>,method = RequestMethod.POST)<br>public void changeUser(<span class="hljs-variable">@RequestBody</span> Map&lt;String, Integer&gt; param)&#123;<br><span class="hljs-selector-tag">up</span><span class="hljs-selector-class">.changeStatus</span>(param);<br><span class="hljs-selector-tag">return</span> ;<br>&#125;    <br>@<span class="hljs-selector-tag">RequestMapping</span>(value = <span class="hljs-string">&quot;/admin/changedoc&quot;</span>,method = RequestMethod.POST)<br><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">changeUser</span>(<span class="hljs-variable">@RequestBody</span> Map&lt;String, Integer&gt; param)&#123;<br><span class="hljs-selector-tag">dp</span><span class="hljs-selector-class">.changeDoc</span>(param);<br><span class="hljs-selector-tag">return</span> ;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="ç”¨æˆ·æ¨¡å—"><a href="#ç”¨æˆ·æ¨¡å—" class="headerlink" title="ç”¨æˆ·æ¨¡å—"></a>ç”¨æˆ·æ¨¡å—</h5><p><strong>æ–‡æ¡£ç›®å½•</strong><br><img src="/img/2021/Gra-catalog.png" alt="img"><br>æµç¨‹ï¼šåœ¨ç”¨æˆ·ç‚¹å‡»éœ€è¦æŸ¥çœ‹çš„æ–‡æ¡£ç±»åˆ«ï¼Œä¼šå‡ºç°ä¸€ç³»åˆ—ç¬¦åˆè¦æ±‚çš„æ–‡æ¡£åˆ—è¡¨ï¼Œè¿™é‡Œåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼Œç¬¬ä¸€ç§æ˜¯åœ¨ä¸ªäººä¸­å¿ƒå•å‡»æŸä¸ªåˆ†ç±»ï¼Œè·å–è¯¥ç”¨æˆ·åœ¨è¿™ä¸ªåˆ†ç±»æ–‡ä»¶å¤¹ä¸‹çš„ä¸ªäººæ–‡æ¡£ï¼Œç¬¬äºŒç§æ˜¯å¯¹äºç‰¹æ®Šåˆ†ç±»å›æ”¶ç«™ï¼Œè·å–è¯¥ç”¨æˆ·å·²ç»åˆ é™¤çš„æ–‡æ¡£ï¼Œç¬¬ä¸‰ç§æ˜¯åœ¨å…¬å…±ä»“åº“å½“ä¸­ï¼Œè·å–æ‰€æœ‰ç”¨æˆ·ä¸Šä¼ åˆ°å…¬å…±ä»“åº“çš„æ–‡æ¡£ã€‚</p><p>å‰ç«¯ä»£ç ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">showlist()&#123;<br>  <span class="hljs-keyword">var</span> listInfo = &#123;<br>category:<span class="hljs-keyword">this</span>.$store.getters.getCat,<br>author:<span class="hljs-keyword">this</span>.$store.getters.getUser.username,<br>share:<span class="hljs-keyword">this</span>.$store.getters.getType==<span class="hljs-string">&quot;home&quot;</span>?<span class="hljs-number">0</span>:<span class="hljs-number">1</span>,<br>recycle:<span class="hljs-keyword">this</span>.$store.getters.getCat==<span class="hljs-string">&quot;5&quot;</span>?<span class="hljs-number">1</span>:<span class="hljs-number">0</span><br>  &#125;<br>  <span class="hljs-keyword">if</span>(listInfo.author == <span class="hljs-literal">null</span> &amp;&amp; listInfo.share == <span class="hljs-number">0</span>)&#123;<br><span class="hljs-keyword">this</span>.$message(&#123;<br>type: <span class="hljs-string">&#x27;warning&#x27;</span>,<br>message: <span class="hljs-string">&#x27;è¯·å…ˆç™»å½•!&#x27;</span><br>&#125;);<br><span class="hljs-keyword">return</span>;<br>  &#125;<br>  <span class="hljs-keyword">this</span>.$store<br>.dispatch(<span class="hljs-string">&quot;getList&quot;</span>,listInfo)<br>.then(response =&gt; &#123;<br>  console.log(<span class="hljs-string">&quot;list&quot;</span>+response.<span class="hljs-keyword">data</span>)<br>  <span class="hljs-comment">//è®¾ç½®å½“å‰ç¼–è¾‘æ–‡æ¡£ä¸ºlist[0]</span><br>  <span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">&quot;setList&quot;</span>,response.<span class="hljs-keyword">data</span>)<br>  <span class="hljs-keyword">this</span>.docs = response.<span class="hljs-keyword">data</span><br>  <span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">&quot;setDoc&quot;</span>,<span class="hljs-keyword">this</span>.docs[<span class="hljs-number">0</span>])<br>&#125;).<span class="hljs-keyword">catch</span>((error) =&gt; &#123;<br>  console.log(error);<br>&#125;);<br>&#125;,<br>myfav()&#123;<br>  <span class="hljs-keyword">var</span> listInfo = &#123;<br>id:<span class="hljs-keyword">this</span>.$store.getters.getUser.id,<br>  &#125;<br><br>  <span class="hljs-keyword">this</span>.$store<br>.dispatch(<span class="hljs-string">&quot;allFav&quot;</span>,listInfo)<br>.then(response =&gt; &#123;<br><br>  <span class="hljs-comment">//è®¾ç½®å½“å‰ç¼–è¾‘æ–‡æ¡£ä¸ºlist[0]</span><br>  <span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">&quot;setList&quot;</span>,response.<span class="hljs-keyword">data</span>)<br>  <span class="hljs-keyword">this</span>.docs = response.<span class="hljs-keyword">data</span><br>  <span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">&quot;setDoc&quot;</span>,<span class="hljs-keyword">this</span>.docs[<span class="hljs-number">0</span>])<br>&#125;).<span class="hljs-keyword">catch</span>(() =&gt; &#123;<br><br>  console.log(<span class="hljs-string">&quot;error&quot;</span>);<br>&#125;);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥å£ä»£ç ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@<span class="hljs-constructor">RequestMapping(<span class="hljs-params">value</span> = <span class="hljs-string">&quot;/doc/getlist&quot;</span>,<span class="hljs-params">method</span> = RequestMethod.POST)</span><br>public List&lt;Doc&gt; get<span class="hljs-constructor">List(@RequestBody Doc <span class="hljs-params">document</span>)</span> &#123;<br>    List&lt;Doc&gt; dc;<br>    <span class="hljs-comment">//åˆ†å…¬å…±æ–‡æ¡£å’Œä¸ªäººæ–‡æ¡£</span><br>    <span class="hljs-keyword">if</span>(document.get<span class="hljs-constructor">Share()</span>.equals(<span class="hljs-number">1</span>))&#123;<br>        dc = dp.getp<span class="hljs-constructor">List(<span class="hljs-params">document</span>.<span class="hljs-params">getCategory</span>()</span>, document.get<span class="hljs-constructor">Share()</span>);   <span class="hljs-comment">//æŸ¥æ‰¾å…¬å…±æ–‡æ¡£</span><br>    &#125;<span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">//åˆ†æ™®é€šæ–‡æ¡£å’Œå›æ”¶ç«™æ–‡æ¡£</span><br>        <span class="hljs-keyword">if</span>(document.get<span class="hljs-constructor">Recycle()</span>.equals(<span class="hljs-number">1</span>))&#123;<br>            dc = dp.getr<span class="hljs-constructor">List(<span class="hljs-params">document</span>.<span class="hljs-params">getAuthor</span>()</span>);<span class="hljs-comment">//æŸ¥çœ‹å›æ”¶æ–‡æ¡£</span><br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            dc = dp.get<span class="hljs-constructor">List(<span class="hljs-params">document</span>.<span class="hljs-params">getCategory</span>()</span>, document.get<span class="hljs-constructor">Author()</span>);<span class="hljs-comment">//æŸ¥çœ‹æ™®é€šæ–‡æ¡£</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(Doc l :dc)&#123;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(l.get<span class="hljs-constructor">Content()</span>+<span class="hljs-string">&quot; &quot;</span>+l.get<span class="hljs-constructor">Create_time()</span>+<span class="hljs-string">&quot; &quot;</span>+l.get<span class="hljs-constructor">Update_time()</span>);<br>    &#125;<br>    return dc;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>æ–‡æ¡£æ£€ç´¢</strong></p><p>æµç¨‹ï¼šä½œä¸ºè¯¥é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œè¯¥æ£€ç´¢é‡‡ç”¨äº†ElasticSearchæœç´¢å¼•æ“ã€‚è¯¥æ®µå°†è¯¦ç»†æè¿°å¦‚ä½•ä½¿ç”¨ESè¿›è¡Œé«˜æ•ˆçš„å…³é”®è¯æ£€ç´¢ã€‚é¦–å…ˆéœ€è¦ç”¨logstashæ’ä»¶å°†mysqlæ•°æ®åº“ä¸­çš„æ•°æ®åŒæ­¥åˆ°ElasticSearchå½“ä¸­ï¼Œè¿™ä¸€æ­¥çš„é…ç½®åœ¨ç¯å¢ƒæ­å»ºä¸­æœ‰è¯¦ç»†æè¿°ã€‚åœ¨é¡¹ç›®çš„è¿è¡Œè¿‡ç¨‹å½“ä¸­ï¼Œéœ€è¦ä¿æŒESå’Œlogstashä¸ºå¼€å¯çŠ¶æ€ã€‚</p><p>1.åœ¨pom.xmlä¸­æ·»åŠ elasticsearchæ‰€éœ€è¦çš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2.åœ¨application.propertiesä¸­æ·»åŠ elasticsearchçš„é…ç½®</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">data:</span><br>    <span class="hljs-attr">elasticsearch:</span><br>      <span class="hljs-attr">repositories:</span><br>        <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span><br>      <span class="hljs-attr">cluster-nodes:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:9300</span><br>      <span class="hljs-attr">cluster-name:</span> <span class="hljs-string">elasticsearch</span><br>      <span class="hljs-attr">rest:</span><br>        <span class="hljs-attr">uris:</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">:9200</span><br></code></pre></td></tr></table></figure><p>3.åœ¨ç”¨åˆ°çš„å®ä½“ç±»ä¸­æ·»åŠ æ³¨è§£@Documentã€@Idã€@Fieldï¼ˆä»£ç è¿‡å¤šï¼Œä½¿ç”¨æˆªå›¾ï¼‰<br><img src="/img/2021/Gra-annotation.png" alt="img"></p><p>4.æ·»åŠ DocRepositoryç±»ä»¥åŠæŸ¥è¯¢æ¥å£findByTitleOrContentOrAuthorã€‚</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">DocRepository</span> <span class="hljs-keyword"><span class="hljs-keyword">extends</span> <span class="hljs-type">ElasticsearchRepository</span></span>&lt;<span class="hljs-title">Doc</span>,<span class="hljs-title">String</span>&gt; </span>&#123;<br>    Doc findByTitle(<span class="hljs-keyword">String</span> title);<br>    List&lt;Doc&gt; findByTitleOrContentOrAuthor(<span class="hljs-keyword">String</span> s1,<span class="hljs-keyword">String</span> s2,<span class="hljs-keyword">String</span> s3);<br>&#125;<br></code></pre></td></tr></table></figure><p>å…³äºè¯¥æ¥å£çš„åŸç†å¦‚ä¸‹å›¾ï¼Œé€šè¿‡å®ç°è¯¥æ¥å£å®ç°ESæŸ¥è¯¢ã€‚<br><img src="/img/2021/Gra-esinterface.png" alt="img"></p><p>æ¥å£ä»£ç ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@<span class="hljs-constructor">RequestMapping(<span class="hljs-params">value</span> = <span class="hljs-string">&quot;/doc/searchtest&quot;</span>,<span class="hljs-params">method</span> = RequestMethod.POST)</span><br>  public List&lt;Doc&gt; search<span class="hljs-constructor">Test(@RequestBody Map&lt;String, String&gt; <span class="hljs-params">param</span>)</span> &#123;<br>      String keyword = param.get(<span class="hljs-string">&quot;keyword&quot;</span>) ;<br>      String dval,dtype;<br>      <span class="hljs-keyword">if</span>(param.get(<span class="hljs-string">&quot;share&quot;</span>).equals(<span class="hljs-number">1</span>))&#123;<br>          dtype = <span class="hljs-string">&quot;share&quot;</span>;<br>          dval = <span class="hljs-string">&quot;1&quot;</span>;<br>      &#125;<span class="hljs-keyword">else</span>&#123;<br>          dtype = <span class="hljs-string">&quot;author&quot;</span>;<br>          dval = param.get(<span class="hljs-string">&quot;author&quot;</span>);<br>      &#125;<br>      BoolQueryBuilder builder = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">QueryBuilders</span>.</span></span><span class="hljs-built_in">bool</span><span class="hljs-constructor">Query()</span>;<br>      builder.must(<span class="hljs-keyword">new</span> <span class="hljs-constructor">QueryStringQueryBuilder(<span class="hljs-params">param</span>.<span class="hljs-params">get</span>(<span class="hljs-string">&quot;category&quot;</span>)</span>).field(<span class="hljs-string">&quot;category&quot;</span>));<br>      builder.must(<span class="hljs-keyword">new</span> <span class="hljs-constructor">QueryStringQueryBuilder(<span class="hljs-params">dval</span>)</span>.field(dtype));<br>      BoolQueryBuilder <span class="hljs-keyword">and</span> = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">QueryBuilders</span>.</span></span><span class="hljs-built_in">bool</span><span class="hljs-constructor">Query()</span>;<br>      builder.must(<span class="hljs-keyword">and</span>);<br>      BoolQueryBuilder or1 = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">QueryBuilders</span>.</span></span><span class="hljs-built_in">bool</span><span class="hljs-constructor">Query()</span>;<br>      BoolQueryBuilder or2 = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">QueryBuilders</span>.</span></span><span class="hljs-built_in">bool</span><span class="hljs-constructor">Query()</span>;<br>      BoolQueryBuilder or3 = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">QueryBuilders</span>.</span></span><span class="hljs-built_in">bool</span><span class="hljs-constructor">Query()</span>;<br>      <span class="hljs-keyword">and</span>.should(or1);<span class="hljs-keyword">and</span>.should(or2);<span class="hljs-keyword">and</span>.should(or3);<br>      or1.must(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">QueryBuilders</span>.</span></span>wildcard<span class="hljs-constructor">Query(<span class="hljs-string">&quot;title&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>+<span class="hljs-params">keyword</span>+<span class="hljs-string">&quot;*&quot;</span>)</span>);<br>      or2.must(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">QueryBuilders</span>.</span></span>wildcard<span class="hljs-constructor">Query(<span class="hljs-string">&quot;content&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>+<span class="hljs-params">keyword</span>+<span class="hljs-string">&quot;*&quot;</span>)</span>);<br>      or3.must(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">QueryBuilders</span>.</span></span>wildcard<span class="hljs-constructor">Query(<span class="hljs-string">&quot;author.keyword&quot;</span>,<span class="hljs-params">keyword</span>)</span>);<br>      NativeSearchQueryBuilder nativeSearchQueryBuilder = <span class="hljs-keyword">new</span> <span class="hljs-constructor">NativeSearchQueryBuilder()</span><br>              .<span class="hljs-keyword">with</span><span class="hljs-constructor">Query(<span class="hljs-params">builder</span>)</span>;<br>      SearchQuery query = nativeSearchQueryBuilder.build<span class="hljs-literal">()</span>;<br>      Page&lt;Doc&gt; p = docRepository.search(query);<br>      <span class="hljs-built_in">int</span> total = (<span class="hljs-built_in">int</span>) p.get<span class="hljs-constructor">TotalElements()</span>;<br>      List&lt;Doc&gt; content = p.get<span class="hljs-constructor">Content()</span>;<br>      <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;search_result:&quot;</span>+keyword+<span class="hljs-string">&quot;  num:&quot;</span>+total);<br>      <span class="hljs-keyword">for</span>(Doc d: content)&#123;<br>          <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(d.get<span class="hljs-constructor">Title()</span>+<span class="hljs-string">&quot; &quot;</span>+d.get<span class="hljs-constructor">Content()</span>+<span class="hljs-string">&quot; &quot;</span>+d.get<span class="hljs-constructor">Author()</span>+<span class="hljs-string">&quot; &quot;</span>+d.get<span class="hljs-constructor">Create_time()</span>+<span class="hljs-string">&quot; &quot;</span>+d.get<span class="hljs-constructor">Update_time()</span>);<br>      &#125;<br>      return content;<br>  &#125;<br></code></pre></td></tr></table></figure><p>è¾“å…¥ç‰¹å®šå…³é”®è¯ä¹‹åï¼ŒæŸ¥è¯¢çš„ç»“æœåˆ—è¡¨ç•Œé¢å¦‚ä¸‹å›¾<br><img src="/img/2021/Gra-search.png" alt="img"></p><p><strong>å•ä¸ªæ–‡æ¡£</strong></p><p><img src="/img/2021/Gra-content.png" alt="img"><br>æµç¨‹ï¼šç”¨æˆ·åœ¨æƒ³è¦å¯¹æŸä¸ªæ–‡æ¡£è¿›è¡Œç‰¹å®šçš„æ“ä½œæ—¶ï¼Œéœ€è¦å°†å•ä¸ªæ–‡æ¡£çš„å…·ä½“ä¿¡æ¯ï¼Œä¼ å…¥å¯Œæ–‡æœ¬è¡¨åŠå…¶wangEditorä¸­ï¼Œæ–‡æ¡£çš„å¢åˆ æ”¹æ˜¯å…¶æœ€åŸºæœ¬çš„åŠŸèƒ½ã€‚</p><p>å‰ç«¯ä»£ç ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-comment">//æ·»åŠ æ–‡æ¡£</span><br>newDoc()&#123;<br>console.log(<span class="hljs-keyword">this</span>.p_switch)<br><span class="hljs-keyword">var</span> doc = &#123;<br>  content:<span class="hljs-keyword">this</span>.editor.txt.html(),<br>  author:<span class="hljs-keyword">this</span>.$store.getters.getUser.username,<br>  category:<span class="hljs-keyword">this</span>.$store.getters.getCat,<br>  title:<span class="hljs-keyword">this</span>.input_title,<br>  share:<span class="hljs-keyword">this</span>.p_switch?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>,<br>  recycle:<span class="hljs-number">0</span><br>&#125;<br><span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">&quot;setDoc&quot;</span>,doc)<br><span class="hljs-keyword">this</span>.$store.dispatch(<span class="hljs-string">&quot;newDoc&quot;</span>,doc) .then(response =&gt; &#123;<br><span class="hljs-comment">// var list = this.$store.getters.getList.unshift(doc)</span><br><span class="hljs-comment">// this.$store.commit(&quot;setList&quot;,list)</span><br><span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">&quot;setReload&quot;</span>,<span class="hljs-keyword">this</span>.$store.getters.getReload)<br><span class="hljs-keyword">this</span>.$message(&#123;<br>  type: <span class="hljs-string">&#x27;success&#x27;</span>,<br>  message: <span class="hljs-string">&#x27;åˆ›å»ºæˆåŠŸ!&#x27;</span><br>&#125;);<br>console.log(response)<br>&#125;).<span class="hljs-keyword">catch</span>((error) =&gt; &#123;<br>console.log(error)<br>&#125;);<br>&#125;<br><span class="hljs-comment">//åˆ é™¤æ–‡æ¡£</span><br>del()&#123;<br><span class="hljs-keyword">this</span>.$store<br>  .dispatch(<span class="hljs-string">&quot;delDoc&quot;</span>,<span class="hljs-keyword">this</span>.$store.getters.getDoc.id)<br>  .then(response =&gt; &#123;<br><span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">&quot;setReload&quot;</span>,<span class="hljs-keyword">this</span>.$store.getters.getReload)<br><span class="hljs-keyword">this</span>.$message(&#123;<br>type: <span class="hljs-string">&#x27;success&#x27;</span>,<br>message: <span class="hljs-string">&#x27;åˆ é™¤æˆåŠŸ!&#x27;</span><br>  &#125;);<br>console.log(response)<br>  &#125;).<span class="hljs-keyword">catch</span>((error) =&gt; &#123;<br>console.log(error);<br>  &#125;);<br>&#125;<br><span class="hljs-comment">//ä¿å­˜æ–‡æ¡£</span><br>save()&#123;<br><span class="hljs-keyword">var</span> doc = &#123;<br>  id:<span class="hljs-keyword">this</span>.$store.getters.getDoc.id,<br>  content:<span class="hljs-keyword">this</span>.editor.txt.html(),<br>  title:<span class="hljs-keyword">this</span>.input_title,<br>  share:<span class="hljs-keyword">this</span>.p_switch==<span class="hljs-literal">true</span>?<span class="hljs-string">&quot;1&quot;</span>:<span class="hljs-string">&quot;0&quot;</span><br>&#125;<br>console.log(<span class="hljs-string">&quot;ä¿å­˜ï¼š&quot;</span>+doc.type);<br><span class="hljs-keyword">this</span>.$store.dispatch(<span class="hljs-string">&quot;saveDoc&quot;</span>,doc) .then(response =&gt; &#123;<br>  <span class="hljs-keyword">this</span>.$message(&#123;<br>type: <span class="hljs-string">&#x27;success&#x27;</span>,<br>message: <span class="hljs-string">&#x27;ä¿å­˜æˆåŠŸ!&#x27;</span><br>  &#125;);<br>  <span class="hljs-keyword">this</span>.$store.commit(<span class="hljs-string">&quot;setReload&quot;</span>,<span class="hljs-keyword">this</span>.$store.getters.getReload)<br>  console.log(response)<br>&#125;).<span class="hljs-keyword">catch</span>((error) =&gt; &#123;<br>  console.log(error)<br>&#125;);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥å£ä»£ç ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ–°å»ºå•ä¸ªæ–‡æ¡£</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">document</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment"> */</span>   <br><span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">&quot;/doc/newdoc&quot;</span>, method = RequestMethod.POST)<br><span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">newDoc</span>(<span class="hljs-params"><span class="hljs-meta">@RequestBody</span> Doc <span class="hljs-built_in">document</span></span>)</span> &#123;<br>System.out.println(<span class="hljs-built_in">document</span>.getContent());<br>dp.insertSelective(<span class="hljs-built_in">document</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * åˆ é™¤å•ä¸ªæ–‡æ¡£</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">document</span></span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">&quot;/doc/deldoc&quot;</span>, method = RequestMethod.POST)<br><span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-function"><span class="hljs-title">delDoc</span>(<span class="hljs-params"><span class="hljs-meta">@RequestBody</span> Doc <span class="hljs-built_in">document</span></span>)</span> &#123;<br>dp.deleteToRecycle(<span class="hljs-built_in">document</span>.getId());<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ›´æ–°å•ä¸ªæ–‡æ¡£</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">document</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">&quot;/doc/updatedoc&quot;</span>, method = RequestMethod.POST)<br><span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">UpdateDoc</span>(<span class="hljs-params"><span class="hljs-meta">@RequestBody</span> Doc <span class="hljs-built_in">document</span></span>)</span> &#123;<br>dp.updateByPrimaryKeySelective(<span class="hljs-built_in">document</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ”¶è—æ–‡æ¡£</strong><br>æµç¨‹ï¼šç”¨æˆ·å¯ä»¥åœ¨å…¬å¼€æ–‡æ¡£å¤„é€‰æ‹©æ”¶è—éœ€è¦çš„æ–‡æ¡£ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸ªäººä¸­å¿ƒåˆ é™¤å·²æ”¶è—çš„æ–‡æ¡£ã€‚</p><p>å‰ç«¯ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æ”¶è—æ–‡æ¡£  </span><br><span class="hljs-function"><span class="hljs-title">collect</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-keyword">var</span> fav = &#123;&#125;<br>fav.userid = <span class="hljs-built_in">this</span>.$store.getters.getUser.id<br>fav.docid = <span class="hljs-built_in">this</span>.$store.getters.getDoc.id<br><span class="hljs-built_in">this</span>.$store.dispatch(<span class="hljs-string">&quot;addFav&quot;</span>,fav) .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">this</span>.$message(&#123;<br>type: <span class="hljs-string">&#x27;success&#x27;</span>,<br>message: <span class="hljs-string">&#x27;æ”¶è—æˆåŠŸ!&#x27;</span><br>  &#125;);<br>  <span class="hljs-built_in">console</span>.log(response)<br>&#125;).catch(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br><span class="hljs-built_in">this</span>.$message(&#123;<br>type:<span class="hljs-string">&quot;info&quot;</span>,<br>message: <span class="hljs-string">&#x27;å·²æ”¶è—è¿‡äº†~&#x27;</span><br>  &#125;);<br>  <span class="hljs-built_in">console</span>.log(error)<br>&#125;);<br>&#125;<br><span class="hljs-comment">//å–æ¶ˆæ”¶è—</span><br><span class="hljs-function"><span class="hljs-title">delfav</span>(<span class="hljs-params"></span>)</span>&#123;<br><span class="hljs-keyword">var</span> fav = &#123;&#125;<br>fav.userid = <span class="hljs-built_in">this</span>.$store.getters.getUser.id<br>fav.docid = <span class="hljs-built_in">this</span>.$store.getters.getDoc.id<br><span class="hljs-built_in">this</span>.$store.dispatch(<span class="hljs-string">&quot;delFav&quot;</span>,fav) .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>  <span class="hljs-built_in">this</span>.$store.commit(<span class="hljs-string">&quot;setReload&quot;</span>,<span class="hljs-built_in">this</span>.$store.getters.getReload)<br>  <span class="hljs-built_in">this</span>.$message(&#123;<br>type: <span class="hljs-string">&#x27;success&#x27;</span>,<br>message: <span class="hljs-string">&#x27;å·²å–æ¶ˆæ”¶è—&#x27;</span><br>  &#125;);<br>  <span class="hljs-built_in">console</span>.log(response)<br>&#125;).catch(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>  <span class="hljs-built_in">console</span>.log(error)<br>&#125;);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥å£ä»£ç ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ·»åŠ å•ä¸ªæ–‡æ¡£åˆ°ä¸ªäººæ”¶è—</span><br><span class="hljs-comment"> * å› ä¸ºåç«¯åœ¨pojoä¸­åŒ…å«å¦ä¸€ä¸ªpojoï¼Œä¸ºäº†æ–¹ä¾¿åœ¨è¿™é‡Œä¼ å‚ç”¨mapå¤„ç†</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @return</span><br><span class="hljs-comment"> */</span><br><span class="hljs-variable">@RequestMapping</span>(value = <span class="hljs-string">&quot;/fav/addfav&quot;</span>, method = RequestMethod.POST)<br>public void addFav(<span class="hljs-variable">@RequestBody</span> Map&lt;String, Integer&gt; param) &#123;<br>    <span class="hljs-selector-tag">fap</span><span class="hljs-selector-class">.addFav</span>(param);<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * åˆ é™¤å•ä¸ªæ–‡æ¡£ä»ä¸ªäººæ”¶è—</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @return</span><br><span class="hljs-comment"> */</span><br>@<span class="hljs-selector-tag">RequestMapping</span>(value = <span class="hljs-string">&quot;/fav/delfav&quot;</span>, method = RequestMethod.POST)<br><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">delFav</span>(<span class="hljs-variable">@RequestBody</span> Map&lt;String, Integer&gt; param) &#123;<br>    <span class="hljs-selector-tag">fap</span><span class="hljs-selector-class">.delFav</span>(param);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä¸ªäººèµ„æ–™</strong><br><img src="/img/2021/Gra-personal.png" alt="img"><br><img src="/img/2021/Gra-portrait.png" alt="img"><br>æµç¨‹ï¼šåœ¨ç•Œé¢å³ä¸Šè§’ç‚¹å‡»å¤´åƒï¼Œè¿›å…¥ä¸ªäººä¸­å¿ƒå¯ä»¥ä¿®æ”¹æˆ‘çš„èµ„æ–™ï¼Œä¸ªäººä¸­å¿ƒç•Œé¢å¦‚å›¾ï¼ŒåŒæ—¶å¯ä»¥åœ¨åœ¨è¿™é‡ŒæŸ¥çœ‹è¯¥ç”¨æˆ·å·²ç»å…¬å¼€çš„æ–‡æ¡£ã€‚ç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨ä¸ªäººä¸­å¿ƒä¿®æ”¹è‡ªå·±çš„å¤´åƒï¼Œæ“ä½œç•Œé¢å¦‚å›¾æ‰€ç¤ºã€‚</p><p>å‰ç«¯ä»£ç ï¼š</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs gradle">dataÂ ()Â &#123;<br>Â Â Â Â <span class="hljs-keyword">return</span>Â &#123;<br>Â Â Â Â Â Â portrait_url:require(<span class="hljs-string">&#x27;../assets/&#x27;</span>+<span class="hljs-keyword">this</span>.$store.getters.getUser.portrait),<br>Â Â Â Â Â Â hideUpload:Â <span class="hljs-keyword">false</span>,<br>Â Â Â Â Â Â dialogImageUrl:Â <span class="hljs-string">&#x27;&#x27;</span>,<br>Â Â Â Â Â Â dialogVisible:Â <span class="hljs-keyword">false</span>,<span class="hljs-comment">//å›¾ç‰‡é¢„è§ˆå¼¹çª—</span><br>Â Â Â Â Â Â formLabelWidth:Â <span class="hljs-string">&#x27;80px&#x27;</span>,<br>Â Â Â Â Â Â limitNum:Â <span class="hljs-number">1</span>,<br>Â Â Â Â Â Â form:Â &#123;&#125;,<br>Â Â Â Â Â Â dialogVisible2:Â <span class="hljs-keyword">false</span><span class="hljs-comment">//å¼¹çª—</span><br>Â Â Â Â &#125;<br>Â Â &#125;,<br>Â Â methods:Â &#123;<br>Â Â Â Â <span class="hljs-comment">//Â ä¸Šä¼ æ–‡ä»¶ä¹‹å‰çš„é’©å­</span><br>Â Â Â Â handleBeforeUploadÂ (<span class="hljs-keyword">file</span>)Â &#123;<br>Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (!(<span class="hljs-keyword">file</span>.typeÂ ===Â <span class="hljs-string">&#x27;image/png&#x27;</span>Â ||Â <span class="hljs-keyword">file</span>.typeÂ ===Â <span class="hljs-string">&#x27;image/gif&#x27;</span>Â ||Â <span class="hljs-keyword">file</span>.typeÂ ===Â <span class="hljs-string">&#x27;image/jpg&#x27;</span>Â ||Â <span class="hljs-keyword">file</span>.typeÂ ===Â <span class="hljs-string">&#x27;image/jpeg&#x27;</span>))Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">this</span>.$notify.warning(&#123;<br>Â Â Â Â Â Â Â Â Â Â title:Â <span class="hljs-string">&#x27;è­¦å‘Š&#x27;</span>,<br>Â Â Â Â Â Â Â Â Â Â message:Â <span class="hljs-string">&#x27;è¯·ä¸Šä¼ æ ¼å¼ä¸ºimage/png,Â image/gif,Â image/jpg,Â image/jpegçš„å›¾ç‰‡&#x27;</span><br>Â Â Â Â Â Â Â Â &#125;)<br>Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â letÂ <span class="hljs-keyword">size</span>Â =Â <span class="hljs-keyword">file</span>.<span class="hljs-keyword">size</span>Â <span class="hljs-regexp">/Â 1024Â /</span>Â <span class="hljs-number">1024</span>Â /Â <span class="hljs-number">2</span><br>Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (<span class="hljs-keyword">size</span>Â &gt;Â <span class="hljs-number">2</span>)Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">this</span>.$notify.warning(&#123;<br>Â Â Â Â Â Â Â Â Â Â title:Â <span class="hljs-string">&#x27;è­¦å‘Š&#x27;</span>,<br>Â Â Â Â Â Â Â Â Â Â message:Â <span class="hljs-string">&#x27;å›¾ç‰‡å¤§å°å¿…é¡»å°äº2M&#x27;</span><br>Â Â Â Â Â Â Â Â &#125;)<br>Â Â Â Â Â Â &#125;<br>Â Â Â Â Â Â letÂ fdÂ =Â <span class="hljs-keyword">new</span>Â FormData();<span class="hljs-comment">//é€šè¿‡formæ•°æ®æ ¼å¼æ¥ä¼ </span><br>Â Â Â Â Â Â fd.<span class="hljs-keyword">append</span>(<span class="hljs-string">&quot;picFile&quot;</span>,Â <span class="hljs-keyword">file</span>);Â <span class="hljs-comment">//ä¼ æ–‡ä»¶</span><br>Â Â Â Â Â Â fd.<span class="hljs-keyword">append</span>(<span class="hljs-string">&quot;user&quot;</span>,<span class="hljs-keyword">this</span>.$store.getters.getUser.username);<br>Â Â Â Â Â Â console.log(fd.get(<span class="hljs-string">&#x27;picFile&#x27;</span>));<br>Â Â Â Â Â Â letÂ configÂ =Â &#123;<br>Â Â Â Â Â Â Â Â Â Â headers:&#123;<span class="hljs-string">&#x27;Content-Type&#x27;</span>:<span class="hljs-string">&#x27;multipart/form-data&#x27;</span>&#125;<br>Â Â Â Â Â Â &#125;;<br>Â Â Â Â Â Â axios.post(<span class="hljs-string">&quot;http://127.0.0.1:8088/test/up&quot;</span>,fd,config)<br>Â Â Â Â Â Â Â Â .then((res)=&gt;&#123;<br>Â Â Â Â Â Â Â Â Â Â console.log(res);<br>Â Â Â Â Â Â Â Â Â Â varÂ frÂ =Â <span class="hljs-keyword">new</span>Â FileReader();<br>Â Â Â Â Â Â Â Â Â Â fr.onloadÂ =Â functionÂ ()Â &#123;<br>Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById(<span class="hljs-string">&#x27;portrait&#x27;</span>).srcÂ =Â fr.result;<br>Â Â Â Â Â Â Â Â Â Â &#125;;<br>Â Â Â Â Â Â Â Â Â Â fr.readAsDataURL(<span class="hljs-keyword">file</span>);<br>Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">this</span>.$store.getters.getUser.portraitÂ =Â <span class="hljs-keyword">file</span>.name<br>Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">this</span>.reload()<br>Â Â Â Â Â Â Â Â Â Â console.log(Â <span class="hljs-keyword">this</span>.$store.getters.getUser.portrait)<br>Â Â Â Â Â Â Â Â &#125;).<span class="hljs-keyword">catch</span>(functionÂ (error)Â &#123;<br>Â Â Â Â Â Â Â Â Â Â console.log(error);<br>Â Â Â Â Â Â Â Â &#125;)<br>Â Â Â Â &#125;,<br>Â Â Â Â <span class="hljs-comment">//Â æ–‡ä»¶è¶…å‡ºä¸ªæ•°é™åˆ¶æ—¶çš„é’©å­</span><br>Â Â Â Â handleExceedÂ (files,Â fileList)Â &#123;<br>Â Â Â Â Â Â Â Â console.log(files+fileList)<br>Â Â Â Â &#125;,<br>Â Â Â Â <span class="hljs-comment">//Â æ–‡ä»¶åˆ—è¡¨ç§»é™¤æ–‡ä»¶æ—¶çš„é’©å­</span><br>Â Â Â Â handleRemoveÂ (<span class="hljs-keyword">file</span>,Â fileList)Â &#123;<br>Â Â Â Â Â Â <span class="hljs-keyword">this</span>.hideUploadÂ =Â fileList.lengthÂ &gt;=Â <span class="hljs-keyword">this</span>.limitNum;<br>Â Â Â Â &#125;,<br>Â Â Â Â <span class="hljs-comment">//Â ç‚¹å‡»æ–‡ä»¶åˆ—è¡¨ä¸­å·²ä¸Šä¼ çš„æ–‡ä»¶æ—¶çš„é’©å­</span><br>Â Â Â Â handlePictureCardPreviewÂ (<span class="hljs-keyword">file</span>)Â &#123;<br>Â Â Â Â Â Â <span class="hljs-keyword">this</span>.dialogImageUrlÂ =Â <span class="hljs-keyword">file</span>.url;<br>Â Â Â Â Â Â <span class="hljs-keyword">this</span>.dialogVisibleÂ =Â <span class="hljs-keyword">true</span>;<br>Â Â Â Â &#125;,<br>Â Â Â Â uploadFileÂ ()Â &#123;<br>Â Â Â Â Â Â <span class="hljs-keyword">this</span>.$refs.upload.submit()<br>Â Â Â Â &#125;,<br>Â Â Â Â imgChangeÂ (files,Â fileList)Â &#123;<br>Â Â Â Â Â Â <span class="hljs-keyword">this</span>.hideUploadÂ =Â fileList.lengthÂ &gt;=Â <span class="hljs-keyword">this</span>.limitNum;<br>Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (fileList)Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-keyword">this</span>.$refs.uploadElement.clearValidate();<br>Â Â Â Â Â Â &#125;<br>Â Â Â Â &#125;,<br>Â Â Â Â tocancelÂ ()Â &#123;<br>Â Â Â Â Â Â <span class="hljs-keyword">this</span>.dialogVisible2Â =Â <span class="hljs-keyword">false</span><br>Â Â Â Â &#125;<br></code></pre></td></tr></table></figure><p>æ¥å£ä»£ç ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@<span class="hljs-constructor">RequestMapping(<span class="hljs-string">&quot;/test/up&quot;</span>)</span><br>    public JSONObject up(@<span class="hljs-constructor">RequestParam(<span class="hljs-string">&quot;picFile&quot;</span>)</span> MultipartFile picture,@<span class="hljs-constructor">RequestParam(<span class="hljs-string">&quot;user&quot;</span>)</span> String username) &#123;<br>        User user = <span class="hljs-keyword">new</span> <span class="hljs-constructor">User()</span>;<br>        user.set<span class="hljs-constructor">Username(<span class="hljs-params">username</span>)</span>;<br>        <span class="hljs-comment">//è·å–æ–‡ä»¶åœ¨æœåŠ¡å™¨çš„å‚¨å­˜ä½ç½®</span><br>        String path = (<span class="hljs-string">&quot;D:/myvue/vue-spring-login-summed-master/src/assets&quot;</span>);<br>        File filePath = <span class="hljs-keyword">new</span> <span class="hljs-constructor">File(<span class="hljs-params">path</span>)</span>;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼š&quot;</span> + path);<br>        <span class="hljs-keyword">if</span> (!filePath.exists<span class="hljs-literal">()</span><span class="hljs-operator"> &amp;&amp; </span>!filePath.is<span class="hljs-constructor">Directory()</span>) &#123;<br>            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ›å»ºç›®å½•:&quot;</span> + filePath);<br>            filePath.mkdir<span class="hljs-literal">()</span>;<br>        &#125;<br>        <span class="hljs-comment">//è·å–åŸå§‹æ–‡ä»¶åç§°(åŒ…å«æ ¼å¼)</span><br>        String originalFileName = picture.get<span class="hljs-constructor">OriginalFilename()</span>;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;åŸå§‹æ–‡ä»¶åç§°ï¼š&quot;</span> + originalFileName);<br>        <span class="hljs-comment">//è·å–æ–‡ä»¶ç±»å‹ï¼Œä»¥æœ€åä¸€ä¸ª`.`ä¸ºæ ‡è¯†</span><br>        String <span class="hljs-keyword">type</span> = originalFileName.substring(originalFileName.<br>last<span class="hljs-constructor">IndexOf(<span class="hljs-string">&quot;.&quot;</span>)</span> + <span class="hljs-number">1</span>);<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;æ–‡ä»¶ç±»å‹ï¼š&quot;</span> + <span class="hljs-keyword">type</span>);<br>        <span class="hljs-comment">//è·å–æ–‡ä»¶åç§°ï¼ˆä¸åŒ…å«æ ¼å¼ï¼‰</span><br>        String name = originalFileName.substring(<span class="hljs-number">0</span>, originalFileName.last<span class="hljs-constructor">IndexOf(<span class="hljs-string">&quot;.&quot;</span>)</span>);<br>        String fileName = name + <span class="hljs-string">&quot;.&quot;</span> + <span class="hljs-keyword">type</span>;<br>        user.set<span class="hljs-constructor">Portrait(<span class="hljs-params">fileName</span>)</span>;<br>        up.update<span class="hljs-constructor">ByPor(<span class="hljs-params">user</span>)</span>;<br>        <span class="hljs-comment">//åœ¨æŒ‡å®šè·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</span><br>        File targetFile = <span class="hljs-keyword">new</span> <span class="hljs-constructor">File(<span class="hljs-params">path</span>, <span class="hljs-params">fileName</span>)</span>;<br>        <span class="hljs-comment">//å°†æ–‡ä»¶ä¿å­˜åˆ°æœåŠ¡å™¨æŒ‡å®šä½ç½®</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            picture.transfer<span class="hljs-constructor">To(<span class="hljs-params">targetFile</span>)</span>;<br>            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;ä¸Šä¼ æˆåŠŸ&quot;</span>);<br>            <span class="hljs-comment">//å°†æ–‡ä»¶åœ¨æœåŠ¡å™¨çš„å­˜å‚¨è·¯å¾„è¿”å›</span><br>            return null;<br>        &#125; catch (IOException e) &#123;<br>            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;ä¸Šä¼ å¤±è´¥&quot;</span>);<br>            e.print<span class="hljs-constructor">StackTrace()</span>;<br>            return null;<br>        &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>å› æœ¬äººæŠ€æœ¯æ°´å¹³ã€èµ„æºç­‰æ–¹é¢æœ‰é™ï¼Œè¯¥äº‘æ–‡æ¡£ç®¡ç†ç³»ç»Ÿä»æœ‰ä»¥ä¸‹è®¸å¤šä¸è¶³ä¹‹å¤„éœ€è¦è¿›è¡Œå®Œå–„ï¼š</p><ol><li><p>ä½œä¸ºä¸€æ¬¾é€‚åˆæ—¥å¸¸ä½¿ç”¨/åŠå…¬çš„æ–‡æ¡£ç³»ç»Ÿï¼Œå…¶ç•Œé¢UIè®¾è®¡æ–¹é¢ï¼Œç¼ºå¤±ä¸€äº›ç¾æ„Ÿåº¦ï¼Œéœ€è¦å¼ºåŒ–å¯¹å‰ç«¯åŠè®¾è®¡çŸ¥è¯†çš„å­¦ä¹ ï¼Œä½¿ç•Œé¢æ›´åŠ å‹å¥½ï¼Œå¸¦ç»™å®¢æˆ·æ›´åŠ èˆ’é€‚çš„æ—¥å¸¸ä½¿ç”¨ä½“éªŒã€‚</p></li><li><p>å¯¹äºç”¨æˆ·ä¸Šä¼ åˆ°è¯¥ç³»ç»Ÿçš„æ–‡æ¡£åŠä¸ªäººæ•°æ®ï¼Œåœ¨å®‰å…¨åŠ å¯†æ–¹é¢å¹¶æ²¡æœ‰åšåˆ°å¾ˆå¥½çš„ä¿æŠ¤ï¼Œè¿™ä¸€ç‚¹éœ€è¦é‡è§†ï¼Œéœ€è¦ä¿æŠ¤å¥½ä½¿ç”¨è¯¥ç³»ç»Ÿçš„ç”¨æˆ·çš„ä¸ªäººéšç§ï¼Œä½¿æ•°æ®æ›´åŠ å®‰å…¨åŒ–ã€‚</p></li><li><p>åœ¨åŠŸèƒ½æ–¹é¢åšçš„ä¸å¤ªå‘¨å…¨ï¼Œè¾ƒä¸ºå•ä¸€ï¼Œåœ¨åç»­çš„æ—¶é—´é‡Œä¼šæ·»åŠ æ›´å¤šä¸ªæ€§åŒ–çš„åŠŸèƒ½ä¾›ç”¨æˆ·ä½¿ç”¨ï¼Œä»¥åŠå¢åŠ åå°ç®¡ç†å‘˜çš„æ“ä½œæƒé™ï¼Œå¯¹æ•°æ®è¿›è¡Œæ›´åŠ å‘¨å¯†çš„æ§åˆ¶ã€‚</p></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>é¡¹ç›®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vueæ¡†æ¶å…¥é—¨</title>
    <link href="/2020/05/20/2020-05-20-VUE/"/>
    <url>/2020/05/20/2020-05-20-VUE/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å› ä¸ºæ¯•è®¾éœ€è¦å®Œæˆä¸€ä¸ªåŸºäºVue+Springbootå‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ï¼Œé‚æ¥å­¦ä¹ è¿™ä¸ª<strong>å¾ˆç‰›</strong>çš„å‰ç«¯æ¡†æ¶ã€‚è¯¥æ–‡å¹¶éè®²è¿°æ­å»ºå®Œæ•´é¡¹ç›®çš„è¿‡ç¨‹ï¼Œåªæ˜¯ç®€å•æ¦‚æ‹¬ä¸€ä¸‹å…¶åŠŸèƒ½åŠç›®å½•ç»“æ„ä¸‹çš„çŸ¥è¯†ç‚¹ã€‚</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><h4 id="äº†è§£Vue"><a href="#äº†è§£Vue" class="headerlink" title="äº†è§£Vue"></a>äº†è§£Vue</h4><p>å®˜ç½‘åŸè¯è¯´ï¼ŒVueæ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„<strong>æ¸è¿›å¼</strong>æ¡†æ¶ï¼Œä½•ä¸ºæ¸è¿›å¼ï¼Ÿå³ä½ å¯ä»¥åªä½¿ç”¨Vueçš„éƒ¨åˆ†åŠŸèƒ½ï¼Œå…¶å¼ºå¤§çš„æ ¸å¿ƒåŠŸèƒ½æœ‰ï¼š<br>1.åŸºç¡€åŠŸèƒ½ï¼šé¡µé¢æ¸²æŸ“ã€è¡¨å•å¤„ç†ã€ç®¡ç†DOMèŠ‚ç‚¹<br>2.ç»„ä»¶åŒ–å¼€å‘<br>3.çŠ¶æ€é›†ä¸­ç®¡ç†<br>4.å‰ç«¯å·¥ç¨‹åŒ–</p><p><strong>é¡µé¢æ¸²æŸ“</strong>æŒ‡å¯ä»¥ä½¿ç”¨æ¨¡æ¿è¯­æ³•å°†æ•°æ®å†™å…¥DOMç³»ç»Ÿï¼Œæ­£å¦‚ä¸‹é¢çš„ä¸Šæ‰‹æ¡ˆä¾‹é‚£æ ·ã€‚Vueå¼ºå¤§çš„åœ°æ–¹å°±åœ¨äºå…¶åº•å±‚çš„MVVMå“åº”å¼ç¼–ç¨‹æ¨¡å‹ï¼ŒMï¼šmodelï¼ŒVï¼šviewï¼ŒVMï¼šViewModelï¼Œè¯¥æ¨¡å‹å®ç°äº†å¯¹æ•°æ®ä¸é¡µé¢çš„åŒå‘ç»‘å®šã€‚</p><p><strong>ç»„ä»¶åŒ–å¼€å‘</strong>ï¼Œçœ‹åå­—å°±æ˜ç™½äº†ï¼ŒVueæ¡†æ¶å†…éƒ¨æä¾›çš„è®¸å¤šåŠŸèƒ½è¢«åˆ†æˆä¸€ä¸ªä¸ªç»„ä»¶ï¼Œä½¿ç”¨æˆ·ä½¿ç”¨èµ·æ¥æ›´åŠ è½»æ¾å¿«æ·ã€‚</p><p><strong>çŠ¶æ€é›†ä¸­ç®¡ç†</strong>ï¼Œåœ¨åé¢å¯ä»¥å­¦åˆ°çš„Vuexï¼Œæ˜¯é€‚ç”¨äºVueä¸‹çš„çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œå®ƒä¼šåœ¨é¡¹ç›®çš„æ ¹éƒ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªstoreæ–‡ä»¶å¤¹å¹¶åˆ›å»ºä¸€ä¸ªindex.jsï¼Œé€šè¿‡åœ¨App.vueä¸­æŒ‚è½½è¿™ä¸ªå®ä¾‹ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥åœ¨å…¶ä»–vueä¸­å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨$storeæ¥è·å–æ–¹æ³•å’Œæ•°æ®äº†~å› ä¸ºéƒ½é›†ä¸­ç®¡ç†åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œä½¿å¾—ç¼–ç¨‹æ›´åŠ æ–¹ä¾¿äº†ã€‚</p><p><strong>å‰ç«¯å·¥ç¨‹åŒ–</strong>ï¼Œè¿™ä¸ªæ¦‚å¿µæ¯”è¾ƒæŠ½è±¡æš‚æ—¶ä¸å¤ªäº†è§£ï¼Œå¤§è‡´ç†è§£æ˜¯ä¸Šé¢æ‰€è¯´å¯¹å„ç§åŠŸèƒ½è¿›è¡Œæ¨¡å—åŒ–çš„ç®¡ç†ï¼Œåç»­è¿˜ä¼šè®²åˆ°é€šè¿‡webpackæ¥æ„å»ºå‰ç«¯é¡¹ç›®ï¼Œä½¿å¾—å‰ç«¯çš„å¼€å‘æ›´åŠ é«˜æ•ˆå¯ç»´æŠ¤~</p><h4 id="å¿«é€Ÿå°è¯•Vue"><a href="#å¿«é€Ÿå°è¯•Vue" class="headerlink" title="å¿«é€Ÿå°è¯•Vue"></a>å¿«é€Ÿå°è¯•Vue</h4><p>åœ¨èœé¸Ÿæ•™ç¨‹çš„ä¸Šæ‰‹æ¡ˆä¾‹ä¸­ï¼Œåªéœ€è¦å¼•å…¥ä¸€ä¸ªjsæ–‡ä»¶å³å¯å®Œæˆhello worldçš„æ“ä½œã€‚</p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue æµ‹è¯•å®ä¾‹ - èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">message</span> &#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">new Vue(&#123;</span><br><span class="xml">  el: &#x27;#app&#x27;,88</span><br><span class="xml">  data: &#123;</span><br><span class="xml">    message: &#x27;Hello Vue.js!&#x27;</span><br><span class="xml">  &#125;</span><br><span class="xml">&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>ç®€å•æè¿°ä¸€ä¸‹ä¸Šè¿°ä»£ç åšäº†ä»€ä¹ˆï¼Œå¿…è¦çš„ç¬¬ä¸€æ­¥ï¼Œé€šè¿‡new Vueåˆ›å»ºäº†ä¸€ä¸ªVueå®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹ä¸­å¯ä»¥åŒ…æ‹¬çš„å†…å®¹ï¼š<strong>el</strong> å‚æ•°ï¼Œå³å¯¹åº”<strong>dom</strong> å…ƒç´ çš„idï¼Œæ¥ä¸‹æ¥çš„ä»£ç ä»…ä½œç”¨åœ¨è¿™ä¸ªdivå†…éƒ¨ã€‚<strong>data</strong> ç”¨äºå®šä¹‰å±æ€§ï¼Œå³æ•°æ®ã€‚<strong>methods</strong> å®šä¹‰å‡½æ•°ã€‚åœ¨htmlä¸­é€šè¿‡{ {} }è¾“å‡ºå±æ€§å’Œå‡½æ•°çš„è¿”å›å€¼ã€‚</p><h4 id="Vueçš„ç›®å½•ç»“æ„"><a href="#Vueçš„ç›®å½•ç»“æ„" class="headerlink" title="Vueçš„ç›®å½•ç»“æ„"></a>Vueçš„ç›®å½•ç»“æ„</h4><p>è™½ç„¶ä¸Šé¢è¯´äº†Vueå¯ä»¥ä¸€ç‚¹ä¸€ç‚¹å¼•å…¥æˆ‘ä»¬éœ€è¦çš„å†…å®¹ï¼ˆæ¸è¿›å¼ï¼‰ï¼Œæˆ‘ä»¬ä»æœ‰æ›´å®Œæ•´çš„æ–¹æ³•æ¥æ„å»ºå¤§å‹é¡¹ç›®ã€‚å®˜æ–¹æä¾›å¿«é€Ÿæ­å»ºVueé¡¹ç›®çš„è„šæ‰‹æ¶ï¼švue-cliã€‚<br>å®‰è£…å‘½ä»¤</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">npm install -g vue-<span class="hljs-keyword">cli</span><br></code></pre></td></tr></table></figure><p>ä¸‹é¢ç›´æ¥è®²è¿°è¯¥è„šæ‰‹æ¶æ„å»ºåçš„é¡¹ç›®ç»“æ„å§~<br><img src="/img/2021/vue-catalog.png" alt="img"><br>æ•ˆæœå›¾å¦‚ä¸Šï¼Œæ ‡æ³¨å‡ ä¸ªåŸºç¡€éƒ¨åˆ†</p><p><em>å…·ä½“æè¿°</em><br>ä¸€èˆ¬<strong>index.html</strong>å½“ä¸­åªå¼•å…¥ä¸€äº›jsï¼Œcssæ–‡ä»¶ã€‚<br><strong>main.js</strong>ä¸­é…ç½®äº†routerå’Œstore</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">new</span> Vue(&#123;<br>  render: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h(App),<br>  router, <span class="hljs-comment">//ä½¿ç”¨è·¯ç”±é…ç½®</span><br>  store <span class="hljs-comment">//ä½¿ç”¨ Vuex è¿›è¡ŒçŠ¶æ€ç®¡ç†</span><br>&#125;).<span class="hljs-symbol">$mou</span>nt(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ps:åæ¥åˆåœ¨è¿™é‡ŒåŠ å…¥äº†fundebugçš„é…ç½®</p><p><strong>App.vue</strong>ï¼Œè¿™é‡Œæ­£æ˜¯ä¸€å¼€å§‹å¿«é€Ÿå°è¯•çœ‹åˆ°çš„Vueå®ä¾‹äº†~ç»„ä»¶æ±‡èšï¼Œå³æ±‡èšrouterï¼Œdataï¼Œmethodç­‰ç­‰ç»„ä»¶ã€‚ç›®å½•ä¸‹çš„å…¶ä»–vueéƒ½æ˜¯åœ¨è¿™ä¸ªä¸»Vueä¸‹åˆ‡æ¢çš„ï¼Œé‡Œé¢å¯ä»¥å†™ä¸€äº›ç”¨äºæ‰€æœ‰ç»„ä»¶çš„æ–¹æ³•ç­‰ã€‚</p><p><strong>api</strong>ç›®å½•ä¸‹å­˜jsæ–‡ä»¶(function)ï¼Œ<strong>assets</strong>ç›®å½•ä¸‹å­˜é™æ€æ–‡ä»¶ï¼Œ<strong>components</strong>ç›®å½•ä¸‹å­˜åˆ†vueç»„ä»¶ï¼Œ<strong>utils</strong> ç›®å½•ä¸‹å†™äº†axiosï¼Œç”¨äºå‰åç«¯äº¤äº’ã€‚</p><h4 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h4><p>æ—¶é—´ä¸å¤šäº†ï¼Œå…ˆå†™åˆ°è¿™é‡Œä¹‹åå†æ¥è¡¥å……~</p>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯è¿›é˜¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸‰äºšç•™å¿µ</title>
    <link href="/2019/02/01/2019-02-01-sanya/"/>
    <url>/2019/02/01/2019-02-01-sanya/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è™½ç„¶å·²ç»è¿‡å»å¾ˆä¹…å¾ˆä¹…ï¼Œä½†ä»æƒ³å†™ä¸€ç¯‡åšå®¢æ¥ç•™å¿µæˆ‘èµšå¾—ä»£ç ç”Ÿæ¶¯ç¬¬ä¸€æ¡¶é‡‘çš„ä¸‰äºšæ™ºæ…§å†œä¸šé¡¹ç›®ã€‚å¯¼å¸ˆä»‹ç»çš„æœºä¼šï¼Œå¸¦é¢†æˆ‘å®Œæˆçš„ä¹Ÿæ˜¯å‡ ä½ç›¸å½“å‰å®³çš„å‰è¾ˆã€‚</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>ç¼ºå°‘å½“æ—¶å°ä¼™ä¼´çš„éƒ¨åˆ†ä»£ç ä»¥åŠå…¬å¸çš„ç¡¬ä»¶è®¾å¤‡ï¼Œæ‰¾åˆ°è¿™ä»½é™ˆæ—§çš„è€ä»£ç ä¹Ÿå·²æ— æ³•è¿è¡Œï¼Œæ‰€å¹¸è¿˜æœ‰æ‰¾åˆ°å¾€æ—¥çš„æˆªå›¾ã€‚<br><img src="/img/2021/sanya-run.jpg" alt="img"></p><p>å¤§è‡´åŠŸèƒ½ï¼š</p><ol><li>æ”¶é›†ä¼ æ„Ÿå™¨ä¸Šè¡Œçš„æ•°æ®ï¼Œåšè„æ•°æ®å¤„ç†ï¼Œå®æ—¶æ˜¾ç¤ºå½“å‰ç¯å¢ƒæ•°æ®(é£é€Ÿã€é£å‘ã€åœŸå£¤æ¸©æ¹¿åº¦â€¦)</li><li>å¤„ç†æ•°æ®åä»¥æŠ˜çº¿å›¾æ˜¾ç¤ºæœ€è¿‘24hé™é›¨é‡å˜åŒ–</li><li>é€šè¿‡é¥¼å›¾å‘ˆç°åœºé¦†å½“å¤©å„æ—¶æ®µäººæ•°</li></ol><p>ps:ç¬¬ä¸‰ç‚¹ç»“åˆå°ä¼™ä¼´çš„äººè„¸è¯†åˆ«è·å–æ•°æ®~<br><img src="/img/2021/sanya-demo.jpg" alt="img"></p><p>å½“æ—¶ç”¨bootstarap+expresså†™çš„é¡¹ç›®ï¼Œé€‰æ‹©Expressæ˜¯å› ä¸ºå®ƒä¸€æ¬¾Node.js Webåº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶ï¼Œæ›´é€‚ç”¨äºè§£å†³é«˜å¹¶å‘çš„å®æ—¶æ¨é€ã€‚ç°åœ¨æƒ³æ¥è¿˜ä½©æœå½“å¹´ä¸ºäº†åšè¿™ä¸ªé¡¹ç›®ä¸´æ—¶å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€çš„è‡ªå·±ï¼Œåæ¥åˆå­¦äº†echartsè¿™ä¸ªç¥å¥‡çš„å·¥å…·ã€‚<br><img src="/img/2021/sanya-code.png" alt="img"></p><h2 id="ç•™å½±"><a href="#ç•™å½±" class="headerlink" title="ç•™å½±"></a>ç•™å½±</h2><p>æœ¬è¯¥æ˜¯å…¨æ–‡çš„é‡ç‚¹ï¼Œå¯æƒœå½“å¹´è´Ÿè´£æ‘„å½±çš„å¤§ä½¬æ‰‹æŠ–æŠŠç›¸æœºé‡Œçš„ç…§ç‰‡éƒ½åˆ äº†ï¼Œåªå‰©ä¸‹å„è‡ªæ‰‹æœºé‡Œé›¶æ˜Ÿçš„å‡ å¼ ç¢ç¢å¿µ~</p><p>ç¾ä¸½çš„ä¸‰äºšè“å¤©~<br><img src="/img/2021/sanya-bluesky.jpg" alt="img"></p><p>ä¸´æ—¶è°ƒè¯•ä»£ç çš„åœºæ‰€~<br><img src="/img/2021/sanya-work2.jpg" alt="img"><br><img src="/img/2021/sanya-work1.jpg" alt="img"></p><p>åœ¨å¤©æ¶¯æµ·è§’ä»™äººæŒ‡è·¯~<br><img src="/img/2021/sanya-me.jpg" alt="img"></p>]]></content>
    
    
    
    <tags>
      
      <tag>ç”Ÿæ´»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¥å£å’ŒæŠ½è±¡ç±»çš„å¼‚åŒ</title>
    <link href="/2019/01/27/2019-01-27-java_base/"/>
    <url>/2019/01/27/2019-01-27-java_base/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™æ˜¯2019å¹´çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œå¼€å§‹å¤ä¹ æ•´ç†ä¸€ä¸‹JavaSEçš„çŸ¥è¯†ç‚¹ï¼ˆå…¶å®å·®ä¸å¤šæ˜¯é¢„ä¹ äº†ï¼Œå‚ç…§ç½‘ä¸Šå¤§ä½¬çš„åšå®¢æ¬è¿äº†ç¤ºä¾‹ä»£ç QAQï¼‰,å†™çš„æ¯”è¾ƒç®€é™‹è§ç¬‘äº†ã€‚ã€‚</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>é¦–å…ˆåˆ†åˆ«æ¦‚æ‹¬ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ¥å£å’ŒæŠ½è±¡ç±»ã€‚</p><p>æ¥å£ï¼šç®€å•è¯´å°±æ˜¯ä¸€ç³»åˆ—æŠ½è±¡æ–¹æ³•çš„é›†åˆï¼Œå¦‚æœä¸€ä¸ªç±»å®ç°ï¼ˆimplementsï¼‰äº†æŸä¸ªæ¥å£ï¼Œå³ç»§æ‰¿äº†è¿™ä¸ªæ¥å£çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œåˆ™è¯¥ç±»å¿…é¡»å®ç°è¿™äº›æŠ½è±¡æ–¹æ³•ã€‚<br>DEMO</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ¥å£Externalizable</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Externalizable</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Serializable</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">writeExternal</span><span class="hljs-params">(ObjectOutput out)</span> <span class="hljs-keyword">throws</span> IOException</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">readExternal</span><span class="hljs-params">(ObjectInput in)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException</span>;<br>&#125;<br><br><span class="hljs-comment">//å®ç°Externalizableæ¥å£çš„Employeeç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Employee</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Externalizable</span> </span>&#123;<br><br>    <span class="hljs-keyword">int</span> employeeId;<br>    String employeeName;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">readExternal</span><span class="hljs-params">(ObjectInput in)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException </span>&#123;<br>        employeeId = in.readInt();<br>        employeeName = (String) in.readObject();<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeExternal</span><span class="hljs-params">(ObjectOutput out)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br><br>        out.writeInt(employeeId);<br>        out.writeObject(employeeName);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æŠ½è±¡ç±»ï¼šé¦–å…ˆï¼Œä¸æ¥å£ä¸åŒçš„æ˜¯ï¼ŒæŠ½è±¡ç±»ä¸èƒ½ç›´æ¥åˆ›å»ºå®ä¾‹å¯¹è±¡ï¼ŒæŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•åªèƒ½åœ¨å…¶å­ç±»ä¸­å®ç°ï¼ˆå³é€šè¿‡extendsçš„æ–¹å¼è€Œä¸æ˜¯implementsï¼‰ï¼Œå› æ­¤å¯ä»¥æŠŠæŠ½è±¡ç±»çœ‹ä½œæ˜¯æä¾›ç»™ç»§æ‰¿çš„å­ç±»çš„ä¸€ä¸ªæ¨¡æ¿ã€‚æŠ½è±¡ç±»æœ¬èº«æ²¡æœ‰ä»»ä½•ç”¨å¤„ï¼Œå®ƒæ˜¯ä¸ºäº†ç»§æ‰¿è€Œå­˜åœ¨çš„ï¼Œåˆ›å»ºä¸€ä¸ªæŠ½è±¡ç±»è€Œä¸å»ç»§æ‰¿å®ƒç­‰äºæ˜¯åšäº†æ— ç”¨åŠŸã€‚<br>DEMO</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®ç°...æ¥å£çš„æŠ½è±¡ç±»GenericServlet</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenericServlet</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Servlet</span>, <span class="hljs-title">ServletConfig</span>, <span class="hljs-title">Serializable</span> </span>&#123;<br>    <span class="hljs-comment">// abstract method</span><br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">service</span><span class="hljs-params">(ServletRequest req, ServletResponse res)</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-comment">// Its implementation</span><br>    &#125;<br>    <span class="hljs-comment">// other method related to Servlet</span><br>&#125;<br><br><span class="hljs-comment">//ç»§æ‰¿GenericServletæŠ½è±¡ç±»çš„HttpServletå­ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HttpServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">GenericServlet</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">service</span><span class="hljs-params">(ServletRequest req, ServletResponse res)</span> </span>&#123;<br>        <span class="hljs-comment">// implementation</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> </span>&#123;<br>        <span class="hljs-comment">// Implementation</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> </span>&#123;<br>        <span class="hljs-comment">// Implementation</span><br>    &#125;<br><br>    <span class="hljs-comment">// some other methods related to HttpServlet</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä¸¤è€…å¯¹æ¯”</strong></p><table><thead><tr><th>å‚æ•°</th><th>æ¥å£</th><th>æŠ½è±¡ç±»</th></tr></thead><tbody><tr><td>æ„é€ æ–¹æ³•</td><td>ä¸èƒ½æœ‰</td><td>å¯ä»¥æœ‰</td></tr><tr><td>æ–¹æ³•</td><td>åªèƒ½æœ‰æŠ½è±¡æ–¹æ³•</td><td>å¯ä»¥åŒ…å«æ™®é€šæ–¹æ³•</td></tr><tr><td>ç»§æ‰¿</td><td>ä¸€ä¸ªç±»å¯å®ç°å¤šä¸ªæ¥å£</td><td>åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»</td></tr><tr><td>æˆå‘˜å˜é‡</td><td>åªèƒ½æ˜¯public static finalç±»å‹</td><td>å¯ä»¥æ˜¯å„ç§ç±»å‹</td></tr></tbody></table><p>æ¥å£å’ŒæŠ½è±¡ç±»åˆ†åˆ«é€‚ç”¨äºä½•ç§åœºåˆï¼Ÿè¿™é‡Œæ¬è¿ç½‘ä¸ŠæŸå¤§ä½¬åšå®¢é‡Œçš„ä¸€ä¸ªä¾‹å­ã€‚<br>é—¨å’Œè­¦æŠ¥çš„ä¾‹å­ï¼šé—¨éƒ½æœ‰open( )å’Œclose( )ä¸¤ä¸ªåŠ¨ä½œï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥å®šä¹‰é€šè¿‡æŠ½è±¡ç±»å’Œæ¥å£æ¥å®šä¹‰è¿™ä¸ªæŠ½è±¡æ¦‚å¿µï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æŠ½è±¡ç±»</span><br><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Door</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">open</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">()</span></span>;<br>&#125;<br><span class="hljs-comment">//æ¥å£</span><br><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Door</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">open</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç°åœ¨éœ€è¦<strong>éƒ¨åˆ†</strong>é—¨å…·æœ‰æŠ¥è­¦alarm( )çš„åŠŸèƒ½ï¼Œè¯¥å¦‚ä½•å®ç°ï¼Ÿ</p><ol><li>å°†ä¸‰ä¸ªåŠŸèƒ½éƒ½æ”¾åœ¨æŠ½è±¡ç±»ä¸­ï¼Œä½†æ˜¯æœ‰çš„é—¨å¹¶ä¸å…·å¤‡æŠ¥è­¦çš„åŠŸèƒ½ Ã—</li><li>å°†ä¸‰ä¸ªåŠŸèƒ½éƒ½æ”¾åœ¨æ¥å£ä¸­ï¼Œæœ‰äº›ç±»éœ€è¦å®ç°æŠ¥è­¦çš„åŠŸèƒ½ä½†æ˜¯å¹¶ä¸å…·å¤‡openå’Œcloseçš„åŠŸèƒ½ï¼ˆå¦‚ç«ç¾æŠ¥è­¦å™¨ï¼‰Ã—</li><li>ä»1å’Œ2ä¸­å¯ä»¥çœ‹å‡ºï¼Œopenå’Œcloseæ˜¯é—¨çš„å›ºæœ‰å±æ€§ï¼Œè€Œalarmåˆ™æ˜¯ç‰¹æ®Šçš„é™„åŠ å±æ€§ï¼Œå› æ­¤æœ€å¥½çš„è§£å†³åŠæ³•æ˜¯å•ç‹¬å°†æŠ¥è­¦è®¾è®¡ä¸ºä¸€ä¸ªæ¥å£ï¼ŒåŒ…å«alarm()è¡Œä¸º,Doorè®¾è®¡ä¸ºå•ç‹¬çš„ä¸€ä¸ªæŠ½è±¡ç±»ï¼ŒåŒ…å«openå’Œcloseä¸¤ç§è¡Œä¸ºã€‚å†è®¾è®¡ä¸€ä¸ªæŠ¥è­¦é—¨ç»§æ‰¿Doorç±»å’Œå®ç°Alarmæ¥å£ã€‚âˆš  </li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Alram</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">alarm</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Door</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">open</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AlarmDoor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Door</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Alarm</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">oepn</span><span class="hljs-params">()</span> </span>&#123;<br>      <span class="hljs-comment">//....</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">close</span><span class="hljs-params">()</span> </span>&#123;<br>      <span class="hljs-comment">//....</span><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">alarm</span><span class="hljs-params">()</span> </span>&#123;<br>      <span class="hljs-comment">//....</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼š<br><a href="http://www.importnew.com/12399.html">http://www.importnew.com/12399.html</a><br><a href="https://www.cnblogs.com/dolphin0520/p/3811437.html">https://www.cnblogs.com/dolphin0520/p/3811437.html</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>JavaSE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JSç¦ç”¨é€‰æ‹©æ¡†å’ŒClick</title>
    <link href="/2018/12/16/2018-12-16-forbidden/"/>
    <url>/2018/12/16/2018-12-16-forbidden/</url>
    
    <content type="html"><![CDATA[<p>é¡¹ç›®éœ€æ±‚ï¼Œåœ¨å•å‡»æŸå¼€å…³æ—¶ï¼Œç¦ç”¨è¡¨å•çš„éƒ¨åˆ†é€‰æ‹©æ¡†ä»¥åŠå›¾æ ‡çš„clickäº‹ä»¶ã€‚</p><p>HTMLéƒ¨åˆ†ï¼š</p><p>åœ¨éœ€è¦ç¦ç”¨éƒ¨åˆ†çš„è¡¨å•å¤–å¥—ä¸€å±‚fieldsetæ ‡ç­¾</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;#&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">fieldset</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;field1&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>        ...<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">fieldset</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><p>JSéƒ¨åˆ†ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">if</span>(state<span class="hljs-operator"> == </span>trur)&#123;<br>  <span class="hljs-constructor">$(<span class="hljs-string">&quot;#field1&quot;</span>)</span>.attr(<span class="hljs-string">&quot;disabled&quot;</span>, <span class="hljs-string">&quot;disabled&quot;</span>);           <span class="hljs-comment">//ç¦ç”¨è¡¨å•éƒ¨åˆ†</span><br>  <span class="hljs-constructor">$(<span class="hljs-string">&quot;#waterclick1&quot;</span>)</span>.prop(<span class="hljs-string">&quot;onclick&quot;</span>,<span class="hljs-literal">false</span>);             <span class="hljs-comment">//ç¦ç”¨click</span><br>&#125;<span class="hljs-keyword">else</span>&#123;<br>  <span class="hljs-constructor">$(<span class="hljs-string">&quot;#field1&quot;</span>)</span>.remove<span class="hljs-constructor">Attr(<span class="hljs-string">&quot;disabled&quot;</span>)</span>;<br>  <span class="hljs-constructor">$(<span class="hljs-string">&quot;#waterclick1&quot;</span>)</span>.attr(<span class="hljs-string">&quot;onclick&quot;</span>,<span class="hljs-string">&quot;myFun()&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Radioæ ‡ç­¾è‡ªå®šä¹‰å›¾ç‰‡</title>
    <link href="/2018/12/16/2018-12-16-radio/"/>
    <url>/2018/12/16/2018-12-16-radio/</url>
    
    <content type="html"><![CDATA[<p>é¡¹ç›®éœ€æ±‚åšä¸€ç»„Radioå•é€‰æ¡†ï¼ŒåŸç”ŸRadioæ ‡ç­¾çš„åœ†åœˆå¤ªä¸‘é‡‡ç”¨ä¸¤å¼ æ·±æµ…å›¾ç‰‡å–ä»£é€‰ä¸­/æœªé€‰ä¸­çŠ¶æ€ã€‚</p><p>HTMLéƒ¨åˆ†ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&lt;div id=<span class="hljs-string">&quot;myRadio&quot;</span>&gt;<br>    &lt;input type=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-keyword">class</span>=&quot;<span class="hljs-symbol">Radio</span>&quot; <span class="hljs-symbol">name</span>=&quot;<span class="hljs-symbol">radioRoom</span>&quot; <span class="hljs-symbol">id</span>=&quot;<span class="hljs-symbol">radio1</span>&quot; <span class="hljs-symbol">onclick</span>=&quot;<span class="hljs-symbol">mySelect1</span>()&quot; <span class="hljs-symbol">checked</span>=&quot;<span class="hljs-symbol">checked</span>&quot;/&gt;<br>    &lt;<span class="hljs-symbol">label</span> <span class="hljs-symbol">id</span>=&quot;<span class="hljs-symbol">label1</span>&quot; <span class="hljs-symbol">for</span>=&quot;<span class="hljs-symbol">radio1</span>&quot;&gt;&lt;/<span class="hljs-symbol">label</span>&gt;<br>    &lt;<span class="hljs-symbol">input</span> <span class="hljs-symbol">type</span>=&quot;<span class="hljs-symbol">radio</span>&quot; <span class="hljs-symbol">class</span>=&quot;<span class="hljs-symbol">Radio</span>&quot; <span class="hljs-symbol">name</span>=&quot;<span class="hljs-symbol">radioRoom</span>&quot; <span class="hljs-symbol">id</span>=&quot;<span class="hljs-symbol">radio2</span>&quot; <span class="hljs-symbol">onclick</span>=&quot;<span class="hljs-symbol">mySelect2</span>()&quot;/&gt;<br>    &lt;<span class="hljs-symbol">label</span> <span class="hljs-symbol">id</span>=&quot;<span class="hljs-symbol">label2</span>&quot; <span class="hljs-symbol">for</span>=&quot;<span class="hljs-symbol">radio2</span>&quot;&gt;&lt;/<span class="hljs-symbol">label</span>&gt;<br>    &lt;<span class="hljs-symbol">input</span> <span class="hljs-symbol">type</span>=&quot;<span class="hljs-symbol">radio</span>&quot; <span class="hljs-symbol">class</span>=&quot;<span class="hljs-symbol">Radio</span>&quot; <span class="hljs-symbol">name</span>=&quot;<span class="hljs-symbol">radioRoom</span>&quot; <span class="hljs-symbol">id</span>=&quot;<span class="hljs-symbol">radio3</span>&quot; <span class="hljs-symbol">onclick</span>=&quot;<span class="hljs-symbol">mySelect3</span>()&quot;/&gt;<br>    &lt;<span class="hljs-symbol">label</span> <span class="hljs-symbol">id</span>=&quot;<span class="hljs-symbol">label3</span>&quot; <span class="hljs-symbol">for</span>=&quot;<span class="hljs-symbol">radio3</span>&quot;&gt;&lt;/<span class="hljs-symbol">label</span>&gt;<br>    &lt;<span class="hljs-symbol">input</span> <span class="hljs-symbol">type</span>=&quot;<span class="hljs-symbol">radio</span>&quot; <span class="hljs-symbol">class</span>=&quot;<span class="hljs-symbol">Radio</span>&quot; <span class="hljs-symbol">name</span>=&quot;<span class="hljs-symbol">radioRoom</span>&quot; <span class="hljs-symbol">id</span>=&quot;<span class="hljs-symbol">radio4</span>&quot; <span class="hljs-symbol">onclick</span>=&quot;<span class="hljs-symbol">mySelect4</span>()&quot;/&gt;<br>    &lt;<span class="hljs-symbol">label</span> <span class="hljs-symbol">id</span>=&quot;<span class="hljs-symbol">label4</span>&quot; <span class="hljs-symbol">for</span>=&quot;<span class="hljs-symbol">radio4</span>&quot;&gt;&lt;/<span class="hljs-symbol">label</span>&gt;<br>&lt;/<span class="hljs-symbol">div</span>&gt;<br></code></pre></td></tr></table></figure><p>CSSéƒ¨åˆ†ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.Radio</span>&#123;<br>   <span class="hljs-attribute">width</span>:<span class="hljs-number">10px</span>;<br>   <span class="hljs-attribute">height</span>:<span class="hljs-number">10px</span>;<br> &#125;<br><span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&#x27;radio&#x27;</span>]</span> &#123;<br>  <span class="hljs-attribute">display</span>: none;<br>  <span class="hljs-attribute">border</span>:none;<br>&#125;<br><br><span class="hljs-selector-id">#label1</span>&#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">20px</span>;<br>  //<span class="hljs-attribute">z-index</span>:<span class="hljs-number">1</span>;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">img/light_1.jpg</span>)no-repeat;<br>  <span class="hljs-attribute">background-size</span>:<span class="hljs-number">100%</span> ;<br>&#125;<br><span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&#x27;radio&#x27;</span>]</span><span class="hljs-selector-pseudo">:checked</span> + <span class="hljs-selector-id">#label1</span>&#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">z-index</span>:<span class="hljs-number">1</span>;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">img/dark_1.jpg</span>)no-repeat;<br>  <span class="hljs-attribute">background-size</span>:<span class="hljs-number">100%</span> ;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Selectä¸‹æ‹‰æ¡†åˆå§‹åŒ–å†…å®¹</title>
    <link href="/2018/12/16/2018-12-16-select/"/>
    <url>/2018/12/16/2018-12-16-select/</url>
    
    <content type="html"><![CDATA[<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">for</span> (<span class="hljs-built_in">var</span> j = <span class="hljs-number">1</span>; j &lt;= <span class="hljs-number">4</span>; j++) &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-built_in">var</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">23</span>; i++) &#123;<br>      <span class="hljs-built_in">var</span> s = <span class="hljs-string">&quot;&lt;option value=&quot;</span> + i + <span class="hljs-string">&quot;&gt;&quot;</span> + i + <span class="hljs-string">&quot;&lt;/option&gt;&quot;</span>;<br>      <span class="hljs-built_in">var</span> <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;hour&quot;</span> + j.toString();<br>      document.getElementById(<span class="hljs-built_in">str</span>).innerHTML += s;<br>      <span class="hljs-comment">//$(&#x27;#myId&#x27;).append(s);            </span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Switchå¼€å…³ä½¿ç”¨ï¼Œåˆå§‹åŒ–åŠçŠ¶æ€ç›‘å¬</title>
    <link href="/2018/12/16/2018-12-16-bootstrap_switch/"/>
    <url>/2018/12/16/2018-12-16-bootstrap_switch/</url>
    
    <content type="html"><![CDATA[<p>è®°å½•åœ¨é¡¹ç›®ä¸­å¯¹äºBootstrapçš„Switchå¼€å…³çš„ä½¿ç”¨è¿‡ç¨‹ã€‚</p><p>é¦–å…ˆï¼Œå¼•å…¥æ‰€éœ€çš„jsï¼Œcssæ–‡ä»¶</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;link <span class="hljs-attribute">href</span>=<span class="hljs-string">&quot;css/bootstrap.min.css&quot;</span> <span class="hljs-attribute">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span>/&gt;<br>&lt;link <span class="hljs-attribute">href</span>=<span class="hljs-string">&quot;css/bootstrap-switch.min.css&quot;</span> <span class="hljs-attribute">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span>/&gt;<br>&lt;script <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;js/jquery-3.3.1.js&quot;</span>&gt;&lt;/script&gt;<br>&lt;script <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;js/bootstrap-switch.min.js&quot;</span>&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>åœ¨ç•Œé¢ä¸­æ’å…¥æ ‡ç­¾</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;input <span class="hljs-attribute">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;state&quot;</span> <span class="hljs-attribute">id</span>=<span class="hljs-string">&quot;state&quot;</span>&gt;<br></code></pre></td></tr></table></figure><p>åœ¨jsä¸­åˆå§‹åŒ–å¼€å…³ï¼ˆæ ¹æ®æœ¬åœ°æ•°æ®åˆå§‹åŒ–ä¸ºON/OFFï¼‰</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">if</span> (myState<span class="hljs-operator"> == </span><span class="hljs-character">&#x27;1&#x27;</span>) &#123;<br>    <span class="hljs-constructor">$(&#x27;#<span class="hljs-params">state</span>&#x27;)</span>.bootstrap<span class="hljs-constructor">Switch(&#x27;<span class="hljs-params">state</span>&#x27;, <span class="hljs-params">true</span>)</span>;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-constructor">$(&#x27;#<span class="hljs-params">state</span>&#x27;)</span>.bootstrap<span class="hljs-constructor">Switch(&#x27;<span class="hljs-params">state</span>&#x27;, <span class="hljs-params">false</span>)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç›‘å¬å¼€å…³çŠ¶æ€çš„å˜åŒ–å¹¶ä½¿ç”¨AJAXå‘é€æŒ‡ä»¤</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs arcade">$(<span class="hljs-string">&#x27;#state&#x27;</span>).bootstrapSwitch(&#123;<br>    <span class="hljs-comment">//state:myState       </span><br>    onSwitchChange: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event, state</span>) </span>&#123;<br>        <span class="hljs-keyword">if</span> (state == <span class="hljs-literal">true</span>) &#123;<br>            <span class="hljs-comment">//ä¸Šçº¿</span><br>            switchstate = <span class="hljs-string">&#x27;1&#x27;</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">//ä¸‹çº¿</span><br>            switchstate = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        &#125;<br>        $.ajax(&#123;<br>            <span class="hljs-string">&#x27;url&#x27;</span>: <span class="hljs-string">&#x27;/whyrain&#x27;</span>,<br>            <span class="hljs-string">&#x27;method&#x27;</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>            <span class="hljs-string">&#x27;data&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>            <span class="hljs-string">&#x27;dataType&#x27;</span>: <span class="hljs-string">&quot;json&quot;</span>,<br>            <span class="hljs-string">&#x27;contentType&#x27;</span>: <span class="hljs-string">&quot;application/x-www-form-urlencoded&quot;</span>,<br>        &#125;);<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Expressåˆè¯•</title>
    <link href="/2018/11/13/2018-11-13-express/"/>
    <url>/2018/11/13/2018-11-13-express/</url>
    
    <content type="html"><![CDATA[<p>ä¸ºäº†å¤„ç†å¯¹ajaxçš„ä¸åŒHTTPè¯·æ±‚è¿›è¡Œç›¸åº”ï¼Œé‡‡ç”¨äº†EXpressæ¡†æ¶ï¼Œåœ¨RUNOOBä¸­å¯¹Expressåšäº†å¦‚ä¸‹è§£é‡Šï¼šExpress æ˜¯ä¸€ä¸ªç®€æ´è€Œçµæ´»çš„ node.js Webåº”ç”¨æ¡†æ¶,æä¾›äº†ä¸€ç³»åˆ—å¼ºå¤§ç‰¹æ€§å¸®åŠ©ä½ åˆ›å»ºå„ç§Webåº”ç”¨ï¼Œå’Œä¸°å¯Œçš„HTTPå·¥å…·ã€‚</p><p>ä½¿ç”¨ Express å¯ä»¥å¿«é€Ÿåœ°æ­å»ºä¸€ä¸ªå®Œæ•´åŠŸèƒ½çš„ç½‘ç«™ã€‚</p><p>Express æ¡†æ¶æ ¸å¿ƒç‰¹æ€§ï¼š</p><blockquote><p>å¯ä»¥è®¾ç½®ä¸­é—´ä»¶æ¥å“åº” HTTP è¯·æ±‚ã€‚<br>å®šä¹‰äº†è·¯ç”±è¡¨ç”¨äºæ‰§è¡Œä¸åŒçš„ HTTP è¯·æ±‚åŠ¨ä½œã€‚<br>å¯ä»¥é€šè¿‡å‘æ¨¡æ¿ä¼ é€’å‚æ•°æ¥åŠ¨æ€æ¸²æŸ“ HTML é¡µé¢ã€‚  </p></blockquote><p>å®‰è£…ExpressåŠå…¶ä¸­é—´ä»¶</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">$ cnpm <span class="hljs-keyword">install </span>express --save<br>$ cnpm <span class="hljs-keyword">install </span><span class="hljs-keyword">body-parser </span>--save<br>$ cnpm <span class="hljs-keyword">install </span>cookie-parser --save<br>$ cnpm <span class="hljs-keyword">install </span><span class="hljs-keyword">multer </span>--save<br></code></pre></td></tr></table></figure><p>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„Expresså¤§è‡´æ¡†æ¶ã€‚</p><figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs zephir"><span class="hljs-comment">// ç›‘å¬ç½‘é¡µ</span><br><span class="hljs-keyword">let</span> express = <span class="hljs-keyword">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>)<br><span class="hljs-keyword">let</span> app = express()<br><span class="hljs-keyword">let</span> path = <span class="hljs-keyword">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>)<br><span class="hljs-keyword">let</span> bodyParser = <span class="hljs-keyword">require</span>(<span class="hljs-string">&#x27;body-parser&#x27;</span>)<br><br>app.<span class="hljs-keyword">use</span>(bodyParser.json());<br>app.<span class="hljs-keyword">use</span>(bodyParser.urlencoded(&#123; extended: <span class="hljs-keyword">false</span> &#125;));<br>app.<span class="hljs-keyword">use</span>(express.<span class="hljs-keyword">static</span>(path.join(__dirname, <span class="hljs-string">&#x27;public&#x27;</span>)))<br><br><span class="hljs-comment">//è®¾ç½®å…è®¸è·¨åŸŸè®¿é—®è¯¥æœåŠ¡.</span><br>app.all(<span class="hljs-string">&#x27;*&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(req, res, next)</span> </span>&#123;<br>    res.setHeader(<span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="hljs-string">&#x27;*&#x27;</span>);<br>    next();<br>&#125;);<br><br><span class="hljs-comment">// test è·¯ç”±</span><br>app.post(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(req, res)</span> </span>&#123;<br>    console.log(req.body);<br>    res.end(<span class="hljs-string">&quot;The current weather is NICE.&quot;</span>);<br>&#125;);<br><br>app.post(<span class="hljs-string">&quot;/schedule&quot;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(req,res)</span></span>&#123;<br><br>&#125;);<br><br>app.post(<span class="hljs-string">&quot;/whyrain&quot;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(req,res)</span></span>&#123;<br>    console.log(JSON.stringify(req.body));<br>    res.end(back);<br>&#125;);<br><br><span class="hljs-comment">// 404 é¡µé¢</span><br>app.<span class="hljs-keyword">use</span>(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(req, res)</span> </span>&#123;<br>    res.statusCode = <span class="hljs-number">404</span>;<br>    res.end(<span class="hljs-string">&quot;404!&quot;</span>);<br>&#125;);<br><br>app.listen(<span class="hljs-number">63342</span>,()=&gt;&#123;<br>    console.log(<span class="hljs-string">&#x27;listening at port 63342&#x27;</span>);<br>&#125;);<br><br></code></pre></td></tr></table></figure><p>ä¸‹é¢ä»£ç æ˜¯åœ¨expressæ·»åŠ ä¸­é—´ä»¶ï¼Œè®¾ç½®é™æ€èµ„æºè·¯å¾„ä¸ºpublicï¼Œæ‰€æœ‰çš„HTMLã€CSSã€JSç­‰æ–‡ä»¶éƒ½æ”¾åœ¨publicä¸‹å³å¯ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">app<span class="hljs-selector-class">.use</span>(express<span class="hljs-selector-class">.static</span>(path<span class="hljs-selector-class">.join</span>(__dirname, <span class="hljs-string">&#x27;public&#x27;</span>)))<br></code></pre></td></tr></table></figure><p>è§£æJSONæ•°æ®</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">app</span>.<span class="hljs-keyword">use</span>(bodyParser.json());<br><span class="hljs-keyword">app</span>.<span class="hljs-keyword">use</span>(bodyParser.urlencoded(&#123; extended: false &#125;));<br></code></pre></td></tr></table></figure><p>è§£å†³è·¨åŸŸè®¿é—®</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">app.all(<span class="hljs-string">&#x27;*&#x27;</span>, <span class="hljs-keyword">function</span> (req, res, <span class="hljs-keyword">next</span>) &#123;<br>    res.setHeader(<span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="hljs-string">&#x27;*&#x27;</span>);<br>    <span class="hljs-keyword">next</span>();<br>&#125;);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Nodejs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JSæ—¶é—´æ ¼å¼è½¬æ¢</title>
    <link href="/2018/11/13/2018-11-13-json&amp;time/"/>
    <url>/2018/11/13/2018-11-13-json&amp;time/</url>
    
    <content type="html"><![CDATA[<p>å®šä¹‰ä¸€ä¸ªæ—¥æœŸå¯¹è±¡</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> myDate=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();<br></code></pre></td></tr></table></figure><p>è®¾ç½®æƒ³è¦çš„è§„å®šæ—¶é—´</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">var <span class="hljs-keyword">begin</span> = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Date(<span class="hljs-params">new</span> Date()</span>.set<span class="hljs-constructor">Hours(0,0,0,0)</span>);<br><br>var myDate = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Date()</span>;<br>myDate.set<span class="hljs-constructor">Date(<span class="hljs-params">myDate</span>.<span class="hljs-params">getDate</span>()</span>+<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><p>ä¸‹é¢ä»£ç è¡¨ç¤ºå°†jsçš„æ—¶é—´æ ¼å¼è½¬æ¢ä¸ºâ€˜2018-11-11 11ï¼š11ï¼š11â€™çš„æ—¶é—´æ ¼å¼ã€‚</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toDate</span><span class="hljs-params">(date)</span></span>&#123;<br>    Y = <span class="hljs-built_in">date</span>.getFullYear() + <span class="hljs-string">&#x27;-&#x27;</span>;<br>    M = (<span class="hljs-built_in">date</span>.getMonth()+<span class="hljs-number">1</span> &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">&#x27;0&#x27;</span>+(<span class="hljs-built_in">date</span>.getMonth()+<span class="hljs-number">1</span>) : <span class="hljs-built_in">date</span>.getMonth()+<span class="hljs-number">1</span>) + <span class="hljs-string">&#x27;-&#x27;</span>;<br>    D = <span class="hljs-built_in">date</span>.getDate() + <span class="hljs-string">&#x27; &#x27;</span>;<br>    h = (<span class="hljs-built_in">date</span>.getHours() &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">&#x27;0&#x27;</span>+(<span class="hljs-built_in">date</span>.getHours()) : <span class="hljs-built_in">date</span>.getHours()) + <span class="hljs-string">&#x27;:&#x27;</span>;<br>    m = (<span class="hljs-built_in">date</span>.getMinutes() &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">&#x27;0&#x27;</span>+(<span class="hljs-built_in">date</span>.getMinutes()) : <span class="hljs-built_in">date</span>.getMinutes()) + <span class="hljs-string">&#x27;:&#x27;</span>;<br>    s = <span class="hljs-built_in">date</span>.getSeconds() &lt; <span class="hljs-number">10</span> ? <span class="hljs-string">&#x27;0&#x27;</span>+(<span class="hljs-built_in">date</span>.getSeconds()) : <span class="hljs-built_in">date</span>.getSeconds();<br>    <span class="hljs-keyword">return</span> Y+M+D+h+m+s;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨é¡¹ç›®ä¸­é‡åˆ°ä½¿ç”¨ieæµè§ˆå™¨æ—¶ï¼Œæ—¶é—´æ˜¾ç¤ºä¸ºInvalid Date/NaNçš„æƒ…å†µï¼Œåœ¨å…¶ä»–æµè§ˆå™¨ä¸­æ˜¾ç¤ºæ­£å¸¸ï¼ŒåŸå› æ—¶ieä¸æ”¯æŒâ€˜2018-11-11 11ï¼š11ï¼š11â€™çš„æ—¶é—´æ ¼å¼ï¼Œå› æ­¤å°†å…¶è¿›è¡Œè½¬æ¢ã€‚</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-keyword">var</span> <span class="hljs-built_in">date</span> = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(params.name.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-regexp">/-/gm</span>),<span class="hljs-string">&quot;/&quot;</span>));<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>document.readyç”¨æ³•åŠå®šæ—¶å™¨ä½¿ç”¨</title>
    <link href="/2018/11/13/2018-11-13-jsschedule/"/>
    <url>/2018/11/13/2018-11-13-jsschedule/</url>
    
    <content type="html"><![CDATA[<p>å½“ DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ å·²ç»åŠ è½½ï¼Œå¹¶ä¸”é¡µé¢ï¼ˆåŒ…æ‹¬å›¾åƒï¼‰å·²ç»å®Œå…¨å‘ˆç°æ—¶ï¼Œä¼šå‘ç”Ÿ ready äº‹ä»¶ã€‚</p><p>ç”±äºè¯¥äº‹ä»¶åœ¨æ–‡æ¡£å°±ç»ªåå‘ç”Ÿï¼Œå› æ­¤æŠŠæ‰€æœ‰å…¶ä»–çš„ jQuery äº‹ä»¶å’Œå‡½æ•°ç½®äºè¯¥äº‹ä»¶ä¸­æ˜¯éå¸¸å¥½çš„åšæ³•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>  $(<span class="hljs-string">&quot;.btn1&quot;</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    $(<span class="hljs-string">&quot;p&quot;</span>).slideToggle();<br>  &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure><p>ç”¨äºå®šæ—¶åˆ·æ–°æ•°æ®ç­‰åœºæ™¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">setInterval</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>  ...<br>&#125;,<span class="hljs-number">1000</span>);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hadoopåˆ†å¸ƒå¼é›†ç¾¤æ­å»º</title>
    <link href="/2018/10/16/2018-10-16-hadoop/"/>
    <url>/2018/10/16/2018-10-16-hadoop/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¤ç›˜ä¸€ä¸‹æ­å»ºhadoopåˆ†å¸ƒå¼é›†ç¾¤çš„æ­¥éª¤ã€‚<br>ï¼ˆCentOS7+Hadoop2.6.4ï¼‰</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>1.æ–°å»ºä¸‰å°CentOSè™šæ‹Ÿæœºï¼ˆé‡‡ç”¨NATä¸Šç½‘æ¨¡å¼ï¼‰<br>è®¾ç½®é™æ€IP<br>2.å®‰è£…ç ´è§£SecureCRTï¼ˆæŒ‰ä½¿ç”¨è¯´æ˜æ­¥éª¤ï¼‰<br>è¿æ¥ä¸‰å°è™šæ‹Ÿæœº<br>3.ä¿®æ”¹hostnameï¼Œhostsæ–‡ä»¶<br>ifconfigæŸ¥çœ‹ip  </p><blockquote><p>$sudo hostnamectl set-hostname master<br>$sudo vim /etc/hosts<br>192.168.138.128 master<br>192.168.138.129 slave1<br>192.168.138.130 slave2</p></blockquote><blockquote><p>ping matserï¼Œslave1ï¼Œslave2 //æ£€æŸ¥æ˜¯å¦è®¾ç½®æˆåŠŸ</p></blockquote><p>4.è®¾ç½®sshåŒå‘å…å¯†ç™»é™†</p><p>ç”Ÿæˆmasterçš„rsaå¯†é’¥ï¼š</p><blockquote><p>$ssh-keygen -t rsa</p></blockquote><p>é‡‡ç”¨é»˜è®¤å€¼ä¸€ç›´æ•²å›è½¦ï¼Œå†™å…¥æˆæƒæ–‡ä»¶ï¼š</p><blockquote><p>$cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</p></blockquote><p>æ–‡ä»¶æˆæƒï¼š</p><blockquote><p>$chmod 600  ~/.ssh/authorized_keys</p></blockquote><p>è¿›è¡Œæœ¬æœºæµ‹è¯•:</p><blockquote><p>ssh master</p></blockquote><p>å°†authorized_keysä¼ åˆ°slave1:</p><blockquote><p>sudo scp <del>/.ssh/id_rsa.pub hadoop@slave1:</del>/   </p></blockquote><p>ç™»é™†slave1:</p><blockquote><p>$cat ~/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</p></blockquote><p>ä¿®æ”¹authorized_keysæƒé™ï¼š</p><blockquote><p>$chmod 600  ~/.ssh/authorized_keys</p></blockquote><p>é€€å‡ºslave1ï¼š</p><blockquote><p>$exit</p></blockquote><p>è¿›è¡Œå…å¯†sshç™»é™†æµ‹è¯•ï¼š</p><blockquote><p>$ssh slave1</p></blockquote><p>æ³¨æ„åŒå‘ï¼ï¼ï¼åœ¨å¦å¤–ä¸¤å°è™šæ‹Ÿæœºä¸Šè¿›è¡Œç±»ä¼¼çš„æ“ä½œ<br>5.å®‰è£…java</p><p>åˆ é™¤centosè‡ªå¸¦çš„openjdk</p><blockquote><p>rpm -qa | grep java<br>rpm -e â€“nodeps â€¦           //åˆ é™¤javaå¼€å¤´çš„æ–‡ä»¶</p></blockquote><p>å®‰è£…jdk</p><blockquote><p>rz                           //å¯¼å…¥ç›¸å…³æ–‡ä»¶<br>tar -zxvf jdk-7u80-linux-x64.tar.gz    //è§£å‹<br>rm -f jdk-7u80-linux-x64.tar.gz        //åˆ é™¤å‹ç¼©åŒ…<br>vim /etc/profile                       //é…ç½®ç¯å¢ƒå˜é‡<br>i  </p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">HADOOP_HOME</span>=/home/hadoop/apps/hadoop-2.6.4<br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">HADOOP_COMMON_LIB_NATIVE_DIR</span>=<span class="hljs-variable">$HADOOP_HOME</span>/lib/native<br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">PATH</span>=<span class="hljs-variable">$PATH</span>:$HADOOP_HOME/bin:$HADOOP_HOME/sbin<br></code></pre></td></tr></table></figure><p>6.Hadoopå®‰è£…é…ç½®<br>å…³é—­é˜²ç«å¢™ï¼š</p><blockquote><p>$sudo systemctl stop firewalld.service<br>$sudo systemctl disable firewalld.service<br>$sudo vim /usr/sbin/sestatus</p></blockquote><p>å®‰è£…hadoopï¼š</p><blockquote><p>rz<br>$tar -zxvf ~/hadoop-2.6.4.tar.gz -C ~/</p></blockquote><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š<br>6-0.hadoop-env.sh</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment"># The java implementation to use.</span><br><span class="hljs-attribute">export</span> JAVA_HOME=/usr/local/java/jdk<span class="hljs-number">1</span>.<span class="hljs-number">8</span>.<span class="hljs-number">0</span>_<span class="hljs-number">40</span><br></code></pre></td></tr></table></figure><p>6-1.core-site.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><span class="hljs-comment">&lt;!-- æŒ‡å®šHDFSä¸­NameNodeçš„åœ°å€ --&gt;</span><br>ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>fs.default.name<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hdfs://master:9000<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>ã€€ã€€<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-comment">&lt;!-- æŒ‡å®šhadoopè¿è¡Œæ—¶äº§ç”Ÿæ–‡ä»¶çš„å­˜å‚¨ç›®å½• --&gt;</span><br>ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hadoop.tmp.dir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>/home/hadoop/hdpdata<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>ã€€ã€€<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>6-2.hdfs-site.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><span class="hljs-comment">&lt;!-- è®¾ç½®dfså‰¯æœ¬æ•°ï¼Œä¸è®¾ç½®é»˜è®¤æ˜¯3ä¸ª   --&gt;</span><br>ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.replication<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>ã€€ã€€<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-comment">&lt;!-- è®¾ç½®secondnameçš„ç«¯å£   --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>dfs.namenode.secondary.http-address<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>slave1:50090<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>6-3.mapred-env.sh</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">JAVA_HOME</span>=/opt/module/jdk1.8<br></code></pre></td></tr></table></figure><p>6-4.mapred-site.xmlã€€</p><blockquote><p>mv mapred-site.xml.template mapred-site.xml  </p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>mapreduce.framework.name<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>ã€€ã€€ã€€ã€€<span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>yarn<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>ã€€ã€€<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>6-5.yarn-site.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><span class="hljs-comment">&lt;!-- æŒ‡å®šYARNçš„ResourceManagerçš„åœ°å€ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>slave1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-comment">&lt;!-- reducerè·å–æ•°æ®çš„æ–¹å¼ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>mapreduce_shuffle<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>6-6.slaves</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-literal">master</span><br>slave1<br>slave2<br></code></pre></td></tr></table></figure><p>7.Hadoopç¯å¢ƒå˜é‡é…ç½®</p><blockquote><p>sudo /etc/profile</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">HADOOP_HOME</span>=/home/hadoop/hadoop-2.6.4<br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">HADOOP_INSTALL</span>=<span class="hljs-variable">$HADOOP_HOME</span><br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">HADOOP_MAPRED_HOME</span>=<span class="hljs-variable">$HADOOP_HOME</span><br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">HADOOP_COMMON_HOME</span>=<span class="hljs-variable">$HADOOP_HOME</span><br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">HADOOP_HDFS_HOME</span>=<span class="hljs-variable">$HADOOP_HOME</span><br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">YARN_HOME</span>=<span class="hljs-variable">$HADOOP_HOME</span><br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">HADOOP_COMMON_LIB_NATIVE_DIR</span>=<span class="hljs-variable">$HADOOP_HOME</span>/lib/native<br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">PATH</span>=<span class="hljs-variable">$PATH</span>:$HADOOP_HOME/sbin:$HADOOP_HOME/bin<br></code></pre></td></tr></table></figure><p>8.å¯åŠ¨Hadoop<br>æ ¼å¼åŒ–ï¼š</p><blockquote><p>namenodeï¼š$hadoop namenode -format</p></blockquote><p>å¯åŠ¨hadoopï¼š</p><blockquote><p>$start-all.sh</p></blockquote><p>Webæµè§ˆå™¨è¾“å…¥127.0.0.1:50070ï¼ŒæŸ¥çœ‹ç®¡ç†ç•Œé¢  </p><p>9.Hadoopé›†ç¾¤æµ‹è¯•  </p><blockquote><p>$echo â€œi am ihanâ€ &gt;&gt; testCount<br>$hadoop fs -mkdir /testInput<br>$hadoop fs -put testCount /testInput<br>$hadoop jar ~/hadoop-2.6.4/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.6.4.jar   wordcount /testInput /testOutput<br>$hadoop fs -ls /testOutput<br>$hadoop fs -cat /testOutput/part-r-00000</p></blockquote><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>ç»“æŸï¼Œå¿ƒç´¯ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å¤§æ•°æ®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šæµªæ½®ä¹‹å·… ä¸Šã€‹è¯»åæ„Ÿ</title>
    <link href="/2018/09/25/2018-09-25-read01/"/>
    <url>/2018/09/25/2018-09-25-read01/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç¬¬ä¸€ç¯‡è¯»åæ„Ÿï¼Œç£•ç£•ç»Šç»Šäº†å¾ˆä¹…æ‰çœ‹å®Œäº†å´å†›åšå£«çš„ã€Šæµªæ½®ä¹‹å·… ä¸Šã€‹ï¼Œåˆä¹¦ä¹‹é™…å´å¯¹å‰åŠæœ¬ä¹¦çš„å†…å®¹å¿˜äº†å¤§åŠï¼Œå›å¿†è‡ªå·±ä»ä¸Šäº†å¤§å­¦ä»¥æ¥å¾ˆå°‘åƒä»¥å‰ä¸€æ ·é™ä¸‹å¿ƒæ¥é˜…è¯»ï¼Œå¿˜äº†è¯¥å¦‚ä½•å»é˜…è¯»ï¼Œå°±ä»¥æ­¤ç¯‡åšå®¢ä½œä¸ºä¸´ç•Œç‚¹ï¼Œåœ¨å¤§ä¸‰è¿™ä¸€å¹´é‡æ‹¾ä¹¦é¦™ã€‚</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>è¯¥ä¹¦ä¸»è¦è®²è¿°æ•´ä¸ªITè¡Œä¸šçš„å‘å±•å²ï¼Œåˆ†å—ä»‹ç»å„ä¸ªITå·¨å¤´çš„å…´è¡°ã€‚AT&amp;Tã€IBMã€Appleã€Intelã€Microsoftã€Ciscoã€Yahooï¼ã€Googleä»¥åŠFacebookï¼Œéšç€æµªæ½®çš„æ¶ŒåŠ¨ï¼Œè¿™äº›å…¬å¸æœ‰çš„å¦‚ä»Šä¾æ—§è¾‰ç…Œï¼Œæœ‰çš„å´å·²è¡°å¼±ã€‚æˆ‘éš¾ä»¥å°†ç¹æ‚çš„å†å²éƒ½å°åˆ»åœ¨è„‘æµ·ä¸­ï¼Œå´ä¹Ÿæœ‰å¹¸åœ¨ä¹¦ä¸­æœ‰æ‰€è‡ªå·±çš„æ”¶è·åŠæ„Ÿè§¦ï¼Œâ€œå¯¹äºä¸€ä¸ªäººæ¥è®²ï¼Œä¸€ç”Ÿèƒ½å¤Ÿèµ¶ä¸Šè¿™æ ·ä¸€æ¬¡æµªæ½®å°±è¶³å¤Ÿäº†â€ï¼Œåœ¨äºŒæˆ˜åè¿™ä¸ªITè¡Œä¸šè¿…é€Ÿå‘å±•çš„è¿™æ®µæ—¶é—´é‡Œï¼Œéƒ­å£«çº³ã€ä¹”å¸ƒæ–¯ã€æ ¼ç½—å¤«ã€ç›–èŒ¨ã€åŸƒé‡Œæ£®ç­‰äººç¾¤é›„å¹¶èµ·ï¼Œæ€èµ·ä¸€åœºåˆä¸€åœºå·¨æµªï¼Œä»–ä»¬å¸¦ç»™æˆ‘çš„ï¼Œæ˜¯å¯¹æ•´ä¸ªITç•Œçš„æ•¬ç•ï¼Œæ˜¯ä¸€ç§åœ¨èº«ä¸Šç† ç† é—ªå…‰çš„ITç²¾ç¥çš„é¼“èˆï¼Œæ•¢äºåˆ›æ–°ï¼Œæ•¢äºæ‹¼æã€‚</p><p>è€Œä»Šå›æœ›è‡ªå·±ï¼Œåªæ˜¯ä¸€ä¸ªæ™®æ™®é€šé€šçš„äºŒæµå¤§å­¦ç”Ÿï¼Œå¤šä¹ˆçš„ä¸ç”˜ï¼ŒITè¿™ä¸ªè¡Œä¸šæ˜¯å¹³ç­‰çš„ï¼Œå‡­æŠ€æœ¯å®åŠ›è¯´è¯ï¼Œå°±å¦‚åŒé‡‘åº¸å°è¯´é‡Œçš„æ­¦æ—ï¼Œè€Œä»Šæˆ‘ä¹Ÿæ­£èµ¶ä¸Šé£é€Ÿå‘å±•çš„å¤§æ•°æ®æ—¶ä»£ï¼Œå„ç§æ–°å…´å‘æ˜å’ŒæŠ€æœ¯ä¾æ—§å¦‚é›¨åæ˜¥ç¬‹èˆ¬ç”Ÿé•¿ï¼Œä¸€åˆ‡ï¼Œéƒ½è¿˜æœªå¯çŸ¥ï¼Œæˆ‘å°†åœ¨æ¥ä¸‹æ¥çš„ä¸¤å¹´å¤§å­¦ç”Ÿæ´»é‡Œï¼Œå°†è‡ªå·±ä¹Ÿå¡‘é€ æˆä¸ºä¸€ä¸ªåˆæ ¼çš„ITäººï¼Œè‡³å°‘æ˜¯ä¸€ä¸ªä¼˜ç§€çš„CSä¸“ä¸šæœ¬ç§‘æ¯•ä¸šç”Ÿï¼Œå¥½å¥½å­¦ä¹ ç¼–ç¨‹åŸºç¡€å’Œäº†è§£è¿™ä¸ªæ—¶ä»£ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>ä¸‹ä¸€æœ¬é˜…è¯»çš„ä¹¦ç±æ˜¯ã€Šå¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦ã€‹ï¼Œæé«˜é˜…è¯»å’Œå†™ä½œçš„è´¨é‡ã€‚<br>æ¥ä¸‹æ¥å¼€å§‹å¤§æ•°æ®å…¥é—¨å­¦ä¹ ï¼ŒåŒæ—¶å·©å›ºJavaåŸºç¡€ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>é˜…è¯»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨Ubuntuä¸Šä½¿ç”¨IDEAæ­å»ºmavené¡¹ç›®</title>
    <link href="/2018/09/09/2018-09-09-IDEA2jw/"/>
    <url>/2018/09/09/2018-09-09-IDEA2jw/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><h4 id="å®‰è£…-Mysql-åŠè®¾ç½®ç”¨æˆ·åå’Œå¯†ç "><a href="#å®‰è£…-Mysql-åŠè®¾ç½®ç”¨æˆ·åå’Œå¯†ç " class="headerlink" title="å®‰è£… Mysql åŠè®¾ç½®ç”¨æˆ·åå’Œå¯†ç "></a>å®‰è£… Mysql åŠè®¾ç½®ç”¨æˆ·åå’Œå¯†ç </h4><p>æ‰“å¼€å‘½ä»¤è¡Œä¾æ¬¡è¾“å…¥ä»¥ä¸‹ä¸‰æ¡ï¼š</p><blockquote><p>sudo apt-get install mysql-server<br>sudo apt install mysql-client<br>sudo apt install libmysqlclient-dev</p></blockquote><p>è¿™æ ·ç›´æ¥å®‰è£…çš„Mysqlå› ä¸ºç‰ˆæœ¬é—®é¢˜æ²¡æœ‰è®¾ç½®å¯†ç çš„æ­¥éª¤ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹å¼è‡ªè¡Œè®¾ç½®<br>è¾“å…¥ï¼š</p><blockquote><p>sudo vi /etc/mysql/debian.cnf  </p></blockquote><p>æ‰“å¼€Mysqlçš„é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°ç”¨æˆ·åï¼šdebian-sys-maintï¼Œå¯†ç ï¼šaWn**********98ï¼ˆéšæœºç”Ÿæˆï¼‰<br>Escé€€å‡ºï¼Œè¾“å…¥â€œï¼šqï¼â€</p><blockquote><p>mysql -u debian-sys-maint -p<br>Enter password:(è¾“å…¥åˆšæ‰çš„å¯†ç )</p></blockquote><p>æˆåŠŸè¿›å…¥åˆ°æ•°æ®åº“ä¸­ï¼Œæ¥ä¸‹æ¥è®¾ç½®rootç”¨æˆ·å’Œå¯†ç </p><blockquote><p>mysql&gt; update mysql.user set authentication_string=PASSWORD(â€œihanâ€³) where User=â€™rootâ€™;<br>mysql&gt; update mysql.user set plugin=â€mysql_native_passwordâ€;<br>mysql&gt; flush privileges;<br>mysql&gt; quit;</p></blockquote><p>é€€å‡ºåé‡å¯Mysql</p><blockquote><p>sudo /etc/init.d/mysql stop<br>sudo /etc/init.d/mysql start</p></blockquote><p>å°è¯•ç”¨è®¾ç½®å¥½çš„rootè´¦æˆ·ç™»é™†ï½</p><h4 id="å®‰è£…-Redis"><a href="#å®‰è£…-Redis" class="headerlink" title="å®‰è£… Redis"></a>å®‰è£… Redis</h4><p>å®‰è£…RedisæœåŠ¡ç«¯ï¼š</p><blockquote><p>sudo apt-get install redis-server</p></blockquote><p>æ£€æŸ¥RedisæœåŠ¡å™¨ç³»ç»Ÿè¿›ç¨‹</p><blockquote><p>ps -aux|grep redis</p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">redis</span>     <span class="hljs-number">4162</span>  <span class="hljs-number">0</span>.<span class="hljs-number">1</span>  <span class="hljs-number">0</span>.<span class="hljs-number">0</span>  <span class="hljs-number">10676</span>  <span class="hljs-number">1420</span> ?        Ss   <span class="hljs-number">23</span>:<span class="hljs-number">24</span>   <span class="hljs-number">0</span>:<span class="hljs-number">00</span> /usr/bin/redis-server /etc/redis/redis.conf<br><span class="hljs-attribute">conan</span>     <span class="hljs-number">4172</span>  <span class="hljs-number">0</span>.<span class="hljs-number">0</span>  <span class="hljs-number">0</span>.<span class="hljs-number">0</span>  <span class="hljs-number">11064</span>   <span class="hljs-number">924</span> pts/<span class="hljs-number">0</span>    S+   <span class="hljs-number">23</span>:<span class="hljs-number">26</span>   <span class="hljs-number">0</span>:<span class="hljs-number">00</span> grep --color=auto redis<br></code></pre></td></tr></table></figure><p>æ£€æŸ¥RedisæœåŠ¡å™¨çŠ¶æ€</p><blockquote><p>netstat -nlt|grep 6379<br> <figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">tcp</span>        <span class="hljs-number">0</span>      <span class="hljs-number">0</span> <span class="hljs-number">127.0.0.1:6379</span>          <span class="hljs-number">0.0.0.0</span>:*               LISTEN<br></code></pre></td></tr></table></figure></p></blockquote><p>å¦‚æœæŠ¥é”™Command â€˜netstatâ€™ not found<br>å…ˆsudo apt install net-tools</p><h4 id="å®‰è£…-Tomcat-åŠåœ¨IDEAä¸Šè¿›è¡Œé…ç½®"><a href="#å®‰è£…-Tomcat-åŠåœ¨IDEAä¸Šè¿›è¡Œé…ç½®" class="headerlink" title="å®‰è£… Tomcat åŠåœ¨IDEAä¸Šè¿›è¡Œé…ç½®"></a>å®‰è£… Tomcat åŠåœ¨IDEAä¸Šè¿›è¡Œé…ç½®</h4><p>åœ¨å®˜ç½‘ä¸Šä¸‹è½½éœ€è¦çš„tomcatç‰ˆæœ¬</p><blockquote><p><a href="https://tomcat.apache.org/download-80.cgi">https://tomcat.apache.org/download-80.cgi</a></p></blockquote><p>è§£å‹åˆ°æ–°ç›®å½•ä¸‹ï¼š</p><blockquote><p>sudo mkdir /opt/tomcat<br>sudo tar -xzvf apache-tomcat-9.0.4.tar.gz<br>sudo mv apache-tomcat-9.0.4 /opt/tomcat/</p></blockquote><p>ä»¥ç®¡ç†å‘˜æƒé™è¿›åˆ°binç›®å½•ä¸‹ï¼Œç„¶å</p><blockquote><p>sudo vi startup.sh</p></blockquote><p>æ·»åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk">JAVA_HOME=<span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/jdk/</span>jdk1.<span class="hljs-number">8.0</span>_151<br>JRE_HOME=<span class="hljs-variable">$&#123;JAVA_HOME&#125;</span>/jre<br>PATH=<span class="hljs-variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="hljs-variable">$PATH</span><br>CLASSPATH=.:<span class="hljs-variable">$&#123;JAVA_HOME&#125;</span><span class="hljs-regexp">/lib/</span>dt.jar:<span class="hljs-variable">$&#123;JAVA_HOME&#125;</span><span class="hljs-regexp">/lib/</span>tools.jar<br>TOMCAT_HOME=<span class="hljs-regexp">/opt/</span>tomcat/apache-tomcat-<span class="hljs-number">9.0</span>.<span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><blockquote><p>sudo vi shutdown.sh</p></blockquote><p>ç„¶ååœ¨shutdown.shï¼Œå¼€å¯tomcatï¼š</p><blockquote><p>./startup.sh</p></blockquote><p>åœ¨æµè§ˆå™¨ä¸­è§‚å¯Ÿ8080çš„å°é»„æ¯›ï¼Œå…³é—­tomcatï¼š</p><blockquote><p>./shutdown.sh</p></blockquote><h4 id="å®‰è£…-Maven-åŠå¯¼å…¥-Maven-é¡¹ç›®"><a href="#å®‰è£…-Maven-åŠå¯¼å…¥-Maven-é¡¹ç›®" class="headerlink" title="å®‰è£… Maven åŠå¯¼å…¥ Maven é¡¹ç›®"></a>å®‰è£… Maven åŠå¯¼å…¥ Maven é¡¹ç›®</h4><p>æ‰‹åŠ¨ä¸‹è½½MavenåŒ…</p><blockquote><p><a href="http://apache.fayea.com/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz">http://apache.fayea.com/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz</a></p></blockquote><p>è§£å‹åˆ°è·¯å¾„ä¸‹ï¼Œåœ¨å‘½ä»¤åè¾“å…¥sudo gedit ~/.bashrc é…ç½®ç¯å¢ƒå˜é‡<br>åœ¨æœ«å°¾åŠ å…¥è·¯å¾„</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">M2_HOME</span>=/opt/apache-maven-3.3.9<br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">PATH</span>=<span class="hljs-variable">$M2_HOME</span>/bin:$PATH<br></code></pre></td></tr></table></figure><p>é…ç½®å¥½åä¿å­˜å…³é—­ï¼Œç„¶åè¾“å…¥source ~/.bashrc<br>ä¿®æ”¹ $M2_HOME confç›®å½•ä¸‹çš„settings.xmlæ–‡ä»¶ä½¿ç”¨å›½å†…é•œåƒ<br>åœ¨mirrosä¸‹åŠ å…¥å¦‚ä¸‹ä»£ç </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>alimaven<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>aliyun maven<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/repositories/central/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä¸­å¤®ä»“åº“1 --&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>repo1<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://repo1.maven.org/maven2/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä¸­å¤®ä»“åº“2 --&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>repo2<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://repo2.maven.org/maven2/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>nexus-aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Nexus aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public /<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¿å­˜å…³é—­ï¼Œè¾“å…¥mvn help:system<br>ç„¶åä¸‹è½½ç³»ç»ŸjaråŒ…ï¼šmvn archetype:generate -DgroupId=kkkk -DartifactId=test-DarchetypeArtifactId=maven-archetype-webapp -DinteractiveMode=false?</p><p>ä¹‹ååœ¨IDEAä¸­æ–°å»ºmavené¡¹ç›®æ—¶é€‰æ‹©è‡ªå·±çš„mavenæ–‡ä»¶å¤¹å’Œå¯¹åº”çš„settingæ–‡ä»¶å³å¯ã€‚</p><p>å¯¼å…¥Mavené¡¹ç›®ï¼šFile -&gt; New -&gt; Module from Existing Sourcesâ€¦</p>]]></content>
    
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu åˆè¯•åŠ IDEA&amp;Git&amp;Atom ä½¿ç”¨</title>
    <link href="/2018/09/03/2018-09-03-linux/"/>
    <url>/2018/09/03/2018-09-03-linux/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™æ˜¯åœ¨Ubuntuä¸‹ä½¿ç”¨Atomç¼–å†™çš„ç¬¬ä¸€ç¯‡åšæ–‡ï¼Œä¸»è¦è®²è¿°è¿‘æ—¥æ¥å…³äºUbuntuä½¿ç”¨ä¸Šé‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œå…³äºåœ¨Ubuntuä¸‹ä½¿ç”¨IDEAç¼–è¯‘å™¨ï¼Œé…ç½®javaç¯å¢ƒï¼ŒXMindç›¸å…³è½¯ä»¶çš„ä½¿ç”¨ï¼Œä»¥åŠGitçš„æ“ä½œï¼Œå’ŒGithubè¿œç¨‹ä»“åº“è¿›è¡Œä»£ç åŒæ­¥ï¼Œä½¿ç”¨Atomç¼–è¯‘å™¨è¿›è¡Œä»£ç çš„ç¼–å†™æ›´æ”¹ã€‚</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><h4 id="IDEAçš„ä½¿ç”¨åŠé…ç½®jdkå˜é‡"><a href="#IDEAçš„ä½¿ç”¨åŠé…ç½®jdkå˜é‡" class="headerlink" title="IDEAçš„ä½¿ç”¨åŠé…ç½®jdkå˜é‡"></a>IDEAçš„ä½¿ç”¨åŠé…ç½®jdkå˜é‡</h4><p>ç”±äºIDEAç¼–è¯‘å™¨è‰¯å¥½çš„è·¨å¹³å°æ€§ï¼Œåªéœ€è¦å…ˆåœ¨Ubuntuä¸‹é…ç½®jdkç¯å¢ƒå³å¯ï¼Œé¦–å…ˆåœ¨å®˜ç½‘ä¸‹è½½å¯¹åº”linuxç‰ˆæœ¬çš„jdk</p><blockquote><p><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p></blockquote><p>å¯¹å…¶è¿›è¡Œè§£å‹ç¼©ï¼Œç„¶åè®¾ç½®ç¯å¢ƒå˜é‡ï¼š<br>ctrl+alt+Tè¿›å…¥ç»ˆç«¯ï¼Œæ‰“å¼€.bashrc:  sudo gedit ~/.bashrc<br>å°†ä»¥ä¸‹å†…å®¹æ‹·è´åˆ°æ–‡æ¡£æœ«å°¾ï¼Œæ›´æ”¹æˆè‡ªå·±çš„è·¯å¾„</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># The PATH of jdk1.8.0_144</span><br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">JAVA_HOME</span>=/opt/jdk1.8.0_181<br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">JRE_HOME</span>=<span class="hljs-variable">$&#123;JAVA_HOME&#125;</span>/jre<br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">CLASSPATH</span>=.:$&#123;JAVA_HOME&#125;/lib:<span class="hljs-variable">$&#123;JRE_HOME&#125;</span>/lib<br><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">PATH</span>=<span class="hljs-variable">$&#123;JAVA_HOME&#125;</span>/bin:$PATH<br></code></pre></td></tr></table></figure><p>ä¿å­˜æ–‡æœ¬ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥: source ~/.bashrc ç”Ÿæ•ˆ<br>æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸ: java -version<br>è‹¥é…ç½®æˆåŠŸï¼Œæ‰“å°ä»¥ä¸‹å†…å®¹</p><blockquote><p>java version â€œ1.8.0_181â€<br>Java(TM) SE Runtime Environment (build 1.8.0_181-b13)<br>Java HotSpot(TM) 64-Bit Server VM (build 25.181-b13, mixed mode)</p></blockquote><p>ç„¶ååœ¨å®˜ç½‘ä¸‹è½½IDEAç¼–è¯‘å™¨ï¼Œé€‰æ‹©without jdkç‰ˆæœ¬</p><blockquote><p><a href="https://www.jetbrains.com/idea/download/#section=linux">https://www.jetbrains.com/idea/download/#section=linux</a></p></blockquote><p>åœ¨ä¸‹è½½ç›®å½•è¿›å…¥ç»ˆç«¯ï¼Œè§£å‹åˆ°opt:</p><blockquote><p>sudo tar -zxvf ideaIC-2018.2.2.tar.gz -C /opt</p></blockquote><p>è¿›å…¥IDEAç›®å½•çš„binæ–‡ä»¶å¤¹ä¸‹:</p><blockquote><p>cd /opt/ideaIC-2018.2.2.tar.gz/bin</p></blockquote><p>æœ€åè¾“å…¥:</p><blockquote><p>./idea.sh  </p></blockquote><p>å‚»ç“œå¼æ“ä½œè‡³å®‰è£…å®Œæˆã€‚</p><h4 id="XMind8çš„ä½¿ç”¨"><a href="#XMind8çš„ä½¿ç”¨" class="headerlink" title="XMind8çš„ä½¿ç”¨"></a>XMind8çš„ä½¿ç”¨</h4><p>æ­¥éª¤å¾ˆç®€å•ï¼Œå…ˆåœ¨å®˜ç½‘ä¸‹è½½XMind8</p><blockquote><p><a href="http://www.xmind.net/download/linux/">http://www.xmind.net/download/linux/</a></p></blockquote><p>ä¸‹è½½å®Œæˆåè§£å‹ï¼Œè¿›å…¥è§£å‹åç›®å½•ï¼Œç»ˆç«¯è¾“å…¥</p><blockquote><p>sudo ./setup</p></blockquote><p>ç„¶åè¿›å…¥xmind_amd64ï¼ˆ64ä½ç³»ç»Ÿï¼‰æˆ–è€…xmind_i386(32ä½ç³»ç»Ÿ)ï¼ŒåŒå‡»XMindæ–‡ä»¶å³å¯ä½¿ç”¨ï¼Œå› ä¸ºXMind8 for Ubuntuä½¿ç”¨javaå¼€å‘ï¼Œæ— éœ€å®‰è£…ï¼Œä¸ºäº†ä½¿ç”¨çš„æ–¹ä¾¿ï¼Œä¸‹é¢ç”Ÿæˆå…¶å¿«æ·æ–¹å¼ï¼Œè¿›å…¥å­˜æ”¾å¿«æ·æ–¹å¼çš„ç›®å½•å¹¶åˆ›å»ºå›¾æ ‡</p><blockquote><p>cd /usr/share/applications<br>sudo gedit XMind.desktop</p></blockquote><p>åœ¨æ–‡æ¡£ä¸­è¾“å…¥:</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[Desktop Entry]</span><br><span class="hljs-attr">Encoding</span>=UTF-<span class="hljs-number">8</span><br><span class="hljs-attr">Name</span>=eclipse  <br><span class="hljs-attr">Comment</span>=Eclipse IDE  <br><span class="hljs-attr">Exec</span>=/home/ä¸‹è½½/xmind-<span class="hljs-number">8</span>-update8-linux/XMind_amd64/XMind<br><span class="hljs-attr">Icon</span>=/home/ä¸‹è½½/xmind-<span class="hljs-number">8</span>-update8-linux/XMind_amd64/XMind.png<br><span class="hljs-attr">Terminal</span>=<span class="hljs-literal">false</span>  <br><span class="hljs-attr">StartupNotify</span>=<span class="hljs-literal">true</span>  <br><span class="hljs-attr">Type</span>=Application  <br><span class="hljs-attr">Categories</span>=Application<span class="hljs-comment">;Development;</span><br></code></pre></td></tr></table></figure><p>å¤§åŠŸå‘Šæˆã€‚</p><h4 id="Git-amp-Atomçš„ä½¿ç”¨"><a href="#Git-amp-Atomçš„ä½¿ç”¨" class="headerlink" title="Git&amp;Atomçš„ä½¿ç”¨"></a>Git&amp;Atomçš„ä½¿ç”¨</h4><p>ä½¿ç”¨ç»ˆç«¯å®‰è£…Gitå¹¶è¿›è¡Œé…ç½®:</p><blockquote><p>sudo apt-get install git<br>git â€“version<br>git config â€“global user.name â€œXXXâ€<br>git config â€“global user.email â€œ<a href="mailto:&#88;&#x58;&#x58;&#x40;&#113;&#x71;&#x2e;&#x63;&#x6f;&#109;">&#88;&#x58;&#x58;&#x40;&#113;&#x71;&#x2e;&#x63;&#x6f;&#109;</a>â€œ</p></blockquote><p>æœ¬åœ°åˆ›å»ºSSH Keyã€‚åœ¨ç»ˆç«¯è¾“å…¥ï¼ˆç”¨è‡ªå·±çš„æ³¨å†Œé‚®ç®±!ï¼‰:</p><blockquote><p>ssh-keygen -t rsa -C â€œ<a href="mailto:&#121;&#111;&#x75;&#114;&#101;&#x6d;&#x61;&#x69;&#108;&#64;&#x65;&#120;&#97;&#x6d;&#112;&#x6c;&#x65;&#x2e;&#99;&#x6f;&#x6d;">&#121;&#111;&#x75;&#114;&#101;&#x6d;&#x61;&#x69;&#108;&#64;&#x65;&#120;&#97;&#x6d;&#112;&#x6c;&#x65;&#x2e;&#99;&#x6f;&#x6d;</a>â€œ</p></blockquote><p>åœ¨ä¸»ç›®å½•ä¸‹æ‰¾åˆ°.sshç›®å½•ï¼Œæœ‰id_rsaå’Œid_rsa.pubä¸¤ä¸ªæ–‡ä»¶ï¼Œæ˜¯SSH Keyçš„å¯†é’¥å¯¹,ç„¶åè¿æ¥githubä¸Šçš„è¿œç¨‹ä»“åº“:ç™»é™†githubï¼Œåœ¨â€settingâ€ä¸­æ‰¾åˆ°â€SSH Keysâ€é¡µé¢ï¼ŒNew Key è¾“å…¥id_rsa.pubä¸­å†…å®¹ï¼Œtitleéšæ„<br><img src="/img/ssh.png" alt="img"></p><p>åœ¨è‡ªå®šä¹‰ç›®å½•ä¸‹å»ºç«‹æœ¬åœ°ä»“åº“:</p><blockquote><p>mkdir ihan-blog<br>cd ihan-blog<br>git init</p></blockquote><p>å…‹éš†githubä¸Šçš„ä»“åº“</p><blockquote><p>git clone <a href="mailto:&#103;&#x69;&#x74;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#x2e;&#99;&#111;&#109;">&#103;&#x69;&#x74;&#64;&#103;&#105;&#116;&#104;&#117;&#98;&#x2e;&#99;&#111;&#109;</a>:YourCat/YourCat.github.io.git</p></blockquote><p>ç¬¬ä¸€æ¬¡cloneä¼šæ”¶åˆ°è­¦å‘Šï¼Œç¡®è®¤GitHubçš„Keyçš„æŒ‡çº¹ä¿¡æ¯æ˜¯å¦çœŸçš„æ¥è‡ªGitHubçš„æœåŠ¡å™¨,è¾“å…¥yeså³å¯</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">The authenticity <span class="hljs-keyword">of</span> host <span class="hljs-comment">&#x27;github.com (xx.xx.xx.xx)&#x27; can&#x27;t be established.</span><br>RSA <span class="hljs-keyword">key</span> fingerprint <span class="hljs-built_in">is</span> xx.xx.xx.xx.xx.<br>Are you sure you want <span class="hljs-keyword">to</span> <span class="hljs-keyword">continue</span> connecting (yes/no)?<br></code></pre></td></tr></table></figure><p>è¿›å…¥cloneçš„é¡¹ç›®ç›®å½•ä¸‹:</p><blockquote><p>cd YourCat.github.io</p></blockquote><p>çµæ´»ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®ŒæˆåŒæ­¥æ“ä½œ</p><blockquote><p>git add example.markdown             //æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº<br>git commit -m â€œdescriptionâ€          //æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº<br>git commit -a                        //æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–åˆ°ä»“åº“åŒº<br>git remote add origin <a href="mailto:&#103;&#105;&#116;&#64;&#103;&#x69;&#116;&#x68;&#117;&#98;&#46;&#99;&#111;&#x6d;">&#103;&#105;&#116;&#64;&#103;&#x69;&#116;&#x68;&#117;&#98;&#46;&#99;&#111;&#x6d;</a>:YourCat/YourCat.github.io.git    //å…³è”è¿œç¨‹ä»“åº“<br>git pull origin master               //åˆå¹¶è¿œç¨‹åˆ†æ”¯ä¸æœ¬åœ°åˆ†æ”¯<br>git push origin master               //æäº¤åˆ°è¿œç¨‹ä»“åº“è¿›è¡ŒåŒæ­¥</p></blockquote><p>ç¬¬ä¸€æ¬¡æ¨é€åŠ ä¸Š-uå‚æ•°</p><blockquote><p>git push -u origin master</p></blockquote><p>æœ€åï¼Œç¥­å‡ºè¿™å¼ å›¾ï¼Œæ„¿æ—©æ—¥ç†Ÿæ‚‰gitå‘½ä»¤ï¼<br><img src="/img/git.png" alt="img"></p>]]></content>
    
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1104 Sum of Number Segmentsï¼ˆ20ï¼‰ -PATç”²çº§</title>
    <link href="/2018/08/12/2018-08-12-PAT-1104/"/>
    <url>/2018/08/12/2018-08-12-PAT-1104/</url>
    
    <content type="html"><![CDATA[<p>Given a sequence of positive numbers, a segment is defined to be a consecutive subsequence. For example, given the sequence { 0.1, 0.2, 0.3, 0.4 }, we have 10 segments: (0.1) (0.1, 0.2) (0.1, 0.2, 0.3) (0.1, 0.2, 0.3, 0.4) (0.2) (0.2, 0.3) (0.2, 0.3, 0.4) (0.3) (0.3, 0.4) and (0.4). </p><p>Now given a sequence, you are supposed to find the sum of all the numbers in all the segments. For the previous example, the sum of all the 10 segments is 0.1 + 0.3 + 0.6 + 1.0 + 0.2 + 0.5 + 0.9 + 0.3 + 0.7 + 0.4 = 5.0.</p><p><strong>Input Specification:</strong><br>Each input file contains one test case. For each case, the first line gives a positive integer N, the size of the sequence which is no more than 10<br>â€‹5 . The next line contains N positive numbers in the sequence, each no more than 1.0, separated by a space.</p><p><strong>Output Specification:</strong><br>For each test case, print in one line the sum of all the numbers in all the segments, accurate up to 2 decimal places.  </p><p><strong>Sample Input:</strong><br>4<br>0.1 0.2 0.3 0.4<br><strong>Sample Output:</strong><br>5.00</p><p>é¢˜ç›®å¤§æ„ï¼šæ±‚å…ƒç´ èƒ½ç»„æˆçš„é›†åˆçš„æ€»å’Œ<br>åˆ†æï¼šæ•°å­¦é¢˜ï¼Œå…¬å¼æ³•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">double</span> a[<span class="hljs-number">100001</span>];<br>    <span class="hljs-keyword">double</span> sum = <span class="hljs-number">0.0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        cin &gt;&gt; a[i];<br>        sum = sum + a[i] * i * (n - i + <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.2f&quot;</span>, sum);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1101 Quick Sortï¼ˆ25ï¼‰ -PATç”²çº§</title>
    <link href="/2018/08/12/2018-08-12-PAT-1101/"/>
    <url>/2018/08/12/2018-08-12-PAT-1101/</url>
    
    <content type="html"><![CDATA[<p>There is a classical process named partition in the famous quick sort algorithm. In this process we typically choose one element as the pivot. Then the elements less than the pivot are moved to its left and those larger than the pivot to its right. Given N distinct positive integers after a run of partition, could you tell how many elements could be the selected pivot for this partition?</p><p>For example, given N=5 and the numbers 1, 3, 2, 4, and 5. We have:  </p><p>1 could be the pivot since there is no element to its left and all the elements to its right are larger than it;<br>3 must not be the pivot since although all the elements to its left are smaller, the number 2 to its right is less than it as well;<br>2 must not be the pivot since although all the elements to its right are larger, the number 3 to its left is larger than it as well;<br>and for the similar reason, 4 and 5 could also be the pivot.<br>Hence in total there are 3 pivot candidates.  </p><p><strong>Input Specification:</strong><br>Each input file contains one test case. For each case, the first line gives a positive integer N (â‰¤10^5 ). Then the next line contains N distinct positive integers no larger than 10^9. The numbers in a line are separated by spaces.  </p><p><strong>Output Specification:</strong><br>For each test case, output in the first line the number of pivot candidates. Then in the next line print these candidates in increasing order. There must be exactly 1 space between two adjacent numbers, and no extra space at the end of each line.</p><p><strong>Sample Input:</strong><br>5<br>1 3 2 4 5<br><strong>Sample Output:</strong><br>3<br>1 4 5  </p><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šå¿«æ’åˆ’åˆ†åçš„åºåˆ—ï¼Œé—®å¤šå°‘ä¸ªæ•°å¯ä»¥ä½œä¸ºä¸»å…ƒ<br>åˆ†æï¼›éµå¾ªæ’åºåä½ç½®ä¸å˜ä¸”æ¯”å·¦è¾¹å¤§å³æ»¡è¶³æ¡ä»¶</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">int</span> a[<span class="hljs-number">100000</span>], b[<span class="hljs-number">100000</span>];<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        b[i] = a[i];<br>    &#125;<br>    <span class="hljs-built_in">sort</span>(a, a + n);<br>    <span class="hljs-keyword">int</span> v[<span class="hljs-number">100000</span>], max = <span class="hljs-number">0</span>, cnt = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">if</span>(a[i] == b[i] &amp;&amp; b[i] &gt; max)<br>            v[cnt++] = b[i];<br>        <span class="hljs-keyword">if</span> (b[i] &gt; max)<br>            max = b[i];<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, cnt);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt; i++) &#123;<br>        <span class="hljs-keyword">if</span> (i != <span class="hljs-number">0</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, v[i]);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1100 Mars Numbersï¼ˆ20ï¼‰ -PATç”²çº§</title>
    <link href="/2018/08/08/2018-08-08-PAT-1100/"/>
    <url>/2018/08/08/2018-08-08-PAT-1100/</url>
    
    <content type="html"><![CDATA[<p>People on Mars count their numbers with base 13:  </p><p>Zero on Earth is called â€œtretâ€ on Mars.<br>The numbers 1 to 12 on Earch is called â€œjan, feb, mar, apr, may, jun, jly, aug, sep, oct, nov, decâ€ on Mars, respectively.<br>For the next higher digit, Mars people name the 12 numbers as â€œtam, hel, maa, huh, tou, kes, hei, elo, syy, lok, mer, jouâ€, respectively.<br>For examples, the number 29 on Earth is called â€œhel marâ€ on Mars; and â€œelo novâ€ on Mars corresponds to 115 on Earth. In order to help communication between people from these two planets, you are supposed to write a program for mutual translation between Earth and Mars number systems.</p><p><strong>Input Specification:</strong><br>Each input file contains one test case. For each case, the first line contains a positive integer N (&lt;100). Then N lines follow, each contains a number in [0, 169), given either in the form of an Earth number, or that of Mars.</p><p><strong>Output Specification:</strong><br>For each number, print in a line the corresponding number in the other language.</p><p><strong>Sample Input:</strong><br>4<br>29<br>5<br>elo nov<br>tam<br><strong>Sample Output:</strong><br>hel mar<br>may<br>115<br>13  </p><p>é¢˜ç›®å¤§æ„ï¼šæŒ‰13è¿›åˆ¶è§„åˆ™è½¬æ¢ç«æ˜Ÿæ–‡<br>åˆ†æï¼šæ°´é¢˜ï¼Œé€»è¾‘</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string a[] = &#123;<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;jan&quot;</span>,<span class="hljs-string">&quot;feb&quot;</span>,<span class="hljs-string">&quot;mar&quot;</span>,<span class="hljs-string">&quot;apr&quot;</span>,<span class="hljs-string">&quot;may&quot;</span>,<span class="hljs-string">&quot;jun&quot;</span>,<span class="hljs-string">&quot;jly&quot;</span>,<span class="hljs-string">&quot;aug&quot;</span>,<span class="hljs-string">&quot;sep&quot;</span>,<span class="hljs-string">&quot;oct&quot;</span>,<span class="hljs-string">&quot;nov&quot;</span>,<span class="hljs-string">&quot;dec&quot;</span>&#125;;<br>    string b[] = &#123;<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;tam&quot;</span>,<span class="hljs-string">&quot;hel&quot;</span>,<span class="hljs-string">&quot;maa&quot;</span>,<span class="hljs-string">&quot;huh&quot;</span>,<span class="hljs-string">&quot;tou&quot;</span>,<span class="hljs-string">&quot;kes&quot;</span>,<span class="hljs-string">&quot;hei&quot;</span>,<span class="hljs-string">&quot;elo&quot;</span>,<span class="hljs-string">&quot;syy&quot;</span>,<span class="hljs-string">&quot;lok&quot;</span>,<span class="hljs-string">&quot;mer&quot;</span>,<span class="hljs-string">&quot;jou&quot;</span>&#125;;<br>    <span class="hljs-keyword">int</span> N;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;N);<br>    <span class="hljs-built_in">getchar</span>();<br>    <span class="hljs-keyword">while</span>(N--)&#123;<br>        string tmp;<br>        <span class="hljs-built_in">getline</span>(cin, tmp);<br>        <span class="hljs-keyword">if</span>(tmp[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;0&#x27;</span>) cout &lt;&lt; <span class="hljs-string">&quot;tret&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmp[<span class="hljs-number">0</span>] &gt; <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; tmp[<span class="hljs-number">0</span>] &lt;= <span class="hljs-string">&#x27;9&#x27;</span>)&#123;<br><br>            <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tmp.<span class="hljs-built_in">length</span>(); i++)&#123;<br>                num = num * <span class="hljs-number">10</span> + (tmp[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>            &#125;<br>            <span class="hljs-keyword">if</span>(num &gt;= <span class="hljs-number">13</span>)&#123;<br>                cout &lt;&lt; b[num/<span class="hljs-number">13</span>] ;<br>                <span class="hljs-keyword">if</span>(num % <span class="hljs-number">13</span>) cout &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>            &#125;<br>            cout&lt;&lt; a[num%<span class="hljs-number">13</span>] &lt;&lt;endl;<br><br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-keyword">if</span>(tmp == <span class="hljs-string">&quot;tret&quot;</span>) cout &lt;&lt; <span class="hljs-number">0</span> &lt;&lt;endl;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmp.<span class="hljs-built_in">length</span>() == <span class="hljs-number">3</span>)&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">12</span>; i++)&#123;<br>                    <span class="hljs-keyword">if</span>(a[i] == tmp)<br>                        cout &lt;&lt; i &lt;&lt; endl;<br>                    <span class="hljs-keyword">if</span>(b[i] == tmp)<br>                        cout &lt;&lt; i * <span class="hljs-number">13</span> &lt;&lt; endl;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                string bb = tmp.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>);<br>                string aa = tmp.<span class="hljs-built_in">substr</span>(<span class="hljs-number">4</span>,<span class="hljs-number">3</span>);<br>                <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">12</span>; i++)<br>                    <span class="hljs-keyword">if</span>(b[i] == bb)<br>                        num +=  <span class="hljs-number">13</span> * i;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">12</span>; i++)<br>                    <span class="hljs-keyword">if</span>(a[i] == aa)<br>                        num += i;<br>                cout &lt;&lt; num &lt;&lt; endl;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1097 Deduplication on a Linked List (25) -PATç”²çº§</title>
    <link href="/2018/08/08/2018-08-08-PAT-1097/"/>
    <url>/2018/08/08/2018-08-08-PAT-1097/</url>
    
    <content type="html"><![CDATA[<p>Given a singly linked list L with integer keys, you are supposed to remove the nodes with duplicated absolute values of the keys. That is, for each value K, only the first node of which the value or absolute value of its key equals K will be kept. At the mean time, all the removed nodes must be kept in a separate list. For example, given L being 21â†’-15â†’-15â†’-7â†’15, you must output 21â†’-15â†’-7, and the removed list -15â†’15.</p><p><strong>Input Specification:</strong>  </p><p>Each input file contains one test case. For each case, the first line contains the address of the first node, and a positive N (&lt;= 10^5^) which is the total number of nodes. The address of a node is a 5-digit nonnegative integer, and NULL is represented by -1.</p><p>Then N lines follow, each describes a node in the format:  </p><p>Address Key Next  </p><p>where Address is the position of the node, Key is an integer of which absolute value is no more than 10^4^, and Next is the position of the next node.</p><p><strong>Output Specification:</strong>   </p><p>For each case, output the resulting linked list first, then the removed list. Each node occupies a line, and is printed in the same format as in the input.</p><p><strong>Sample Input:</strong>  </p><p>00100 5<br>99999 -7 87654<br>23854 -15 00000<br>87654 15 -1<br>00000 -15 99999<br>00100 21 23854<br><strong>Sample Output:</strong>  </p><p>00100 21 23854<br>23854 -15 99999<br>99999 -7 -1<br>00000 -15 87654<br>87654 15 -1   </p><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œå»é™¤ç»å¯¹å€¼ç›¸åŒçš„æ•°ï¼Œç„¶åè¾“å‡ºé“¾è¡¨å’Œå»æ‰çš„é“¾è¡¨<br>åˆ†æï¼šç”¨ä¸€ä¸ªç»“æ„ä½“å­˜å‚¨ä¸€ä¸ªæ•°çš„åœ°å€ï¼Œå€¼å’Œä¸‹ä¸€ä¸ªæ•°çš„åœ°å€ï¼Œæš´åŠ›ã€‚  </p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> addr;<br>    <span class="hljs-keyword">int</span> value;<br>    <span class="hljs-keyword">int</span> next;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> first, n;<br>    <span class="hljs-function">vector&lt;node&gt; <span class="hljs-title">data</span><span class="hljs-params">(<span class="hljs-number">100000</span>)</span></span>;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;first, &amp;n);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>        node tmp;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;tmp.addr, &amp;tmp.value, &amp;tmp.next);<br>        data[tmp.addr] = tmp;<br>    &#125;<br>    <span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">count</span><span class="hljs-params">(<span class="hljs-number">10000</span>,<span class="hljs-number">0</span>)</span></span>;<br>    vector&lt;node&gt; ans, rem;<br>    <span class="hljs-keyword">int</span> k = first;<br>    <span class="hljs-keyword">while</span>(k != <span class="hljs-number">-1</span>)&#123;<br>        <span class="hljs-keyword">if</span>(count[<span class="hljs-built_in">abs</span>(data[k].value)] == <span class="hljs-number">0</span>)<br>            ans.<span class="hljs-built_in">push_back</span>(data[k]);<br>        <span class="hljs-keyword">else</span><br>            rem.<span class="hljs-built_in">push_back</span>(data[k]);<br>        count[<span class="hljs-built_in">abs</span>(data[k].value)] = <span class="hljs-number">1</span>;<br>        k = data[k].next;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ans.<span class="hljs-built_in">size</span>(); i++)&#123;<br>        <span class="hljs-keyword">if</span>(i &lt; ans.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d %05d\n&quot;</span>,ans[i].addr,ans[i].value,ans[i+<span class="hljs-number">1</span>].addr);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d -1\n&quot;</span>,ans[i].addr,ans[i].value);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; rem.<span class="hljs-built_in">size</span>(); i++)&#123;<br>        <span class="hljs-keyword">if</span>(i &lt; rem.<span class="hljs-built_in">size</span>() <span class="hljs-number">-1</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d %05d\n&quot;</span>,rem[i].addr,rem[i].value,rem[i+<span class="hljs-number">1</span>].addr);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d -1\n&quot;</span>,rem[i].addr,rem[i].value);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1094 The Largest Generation (25) -PATç”²çº§</title>
    <link href="/2018/08/05/2018-08-05-PAT-1094/"/>
    <url>/2018/08/05/2018-08-05-PAT-1094/</url>
    
    <content type="html"><![CDATA[<p>A family hierarchy is usually presented by a pedigree tree where all the nodes on the same level belong to the same generation. Your task is to find the generation with the largest population.</p><p><strong>Input Specification:</strong>   </p><p>Each input file contains one test case. Each case starts with two positive integers N (&amp;lt100) which is the total number of family members in the tree (and hence assume that all the members are numbered from 01 to N), and M (&amp;ltN) which is the number of family members who have children. Then M lines follow, each contains the information of a family member in the following format:</p><p>ID K ID[1] ID[2] â€¦ ID[K]</p><p>where ID is a two-digit number representing a family member, K (&amp;gt0) is the number of his/her children, followed by a sequence of two-digit IDâ€™s of his/her children. For the sake of simplicity, let us fix the root ID to be 01. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong>  </p><p>For each test case, print in one line the largest population number and the level of the corresponding generation. It is assumed that such a generation is unique, and the root level is defined to be 1.</p><p><strong>Sample Input:</strong>  </p><p>23 13<br>21 1 23<br>01 4 03 02 04 05<br>03 3 06 07 08<br>06 2 12 13<br>13 1 21<br>08 2 15 16<br>02 2 09 10<br>11 2 19 20<br>17 1 22<br>05 1 11<br>07 1 14<br>09 1 17<br>10 1 18<br><strong>Sample Output:</strong>  </p><p>9 4</p><p>é¢˜ç›®å¤§æ„ï¼šä¸€æ£µæ ‘æœ‰Nä¸ªç»“ç‚¹ï¼Œç»™å®šéå¶å­ç»“ç‚¹çš„å­©å­ç»“ç‚¹ç¼–å·ï¼Œé—®ç»“ç‚¹æ•°æœ€å¤šçš„å±‚çš„æ•°ç›®å’Œå±‚å·<br>åˆ†æï¼šdfséå†ï¼Œç”¨ä¸€ä¸ªvæ•°ç»„å­˜å‚¨ç»“ç‚¹çš„å­©å­ï¼Œaæ•°ç»„å­˜å‚¨å½“å‰å±‚ç»“ç‚¹æ•°ï¼Œæœ€åæŒ‰å±‚éå†ä¸€éæ‰¾max</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>vector&lt;<span class="hljs-keyword">int</span>&gt; v[<span class="hljs-number">100</span>];      <span class="hljs-comment">//å­˜å½“å‰ç»“ç‚¹çš„å­©å­</span><br><span class="hljs-keyword">int</span> a[<span class="hljs-number">100</span>];              <span class="hljs-comment">//å½“å‰å±‚çš„ç»“ç‚¹æ•°</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, <span class="hljs-keyword">int</span> level)</span></span>&#123;<br>    a[level]++;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; v[index].<span class="hljs-built_in">size</span>(); i++)<br>        <span class="hljs-built_in">dfs</span>(v[index][i], level+<span class="hljs-number">1</span>);          <span class="hljs-comment">//dfséå†æ ‘</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n, m, x, k, t;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)&#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;x, &amp;k);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; k; j++)&#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>            v[x].<span class="hljs-built_in">push_back</span>(t);<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">0</span>, maxl = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">100</span>; i++)&#123;<br>        <span class="hljs-keyword">if</span>(a[i] &gt; maxn)&#123;          <span class="hljs-comment">//æ‰¾ç»“ç‚¹æœ€å¤šçš„å±‚</span><br>            maxn = a[i];<br>            maxl = i;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, maxn, maxl);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1096 Consecutive Factors (20) -PATç”²çº§</title>
    <link href="/2018/08/01/2018-08-01-PAT-1096/"/>
    <url>/2018/08/01/2018-08-01-PAT-1096/</url>
    
    <content type="html"><![CDATA[<p>Among all the factors of a positive integer N, there may exist several consecutive numbers. For example, 630 can be factored as 3<em>5</em>6*7, where 5, 6, and 7 are the three consecutive numbers. Now given any positive N, you are supposed to find the maximum number of consecutive factors, and list the smallest sequence of the consecutive factors.</p><p><strong>Input Specification:</strong>  </p><p>Each input file contains one test case, which gives the integer N (1&lt;N&lt;2^31^).</p><p><strong>Output Specification:</strong>  </p><p>For each test case, print in the first line the maximum number of consecutive factors. Then in the second line, print the smallest sequence of the consecutive factors in the format â€œfactor[1]*factor[2]*â€¦*factor[k]â€, where the factors are listed in increasing order, and 1 is NOT included.</p><p><strong>Sample Input:</strong>   </p><p>630<br><strong>Sample Output:</strong>   </p><p>3<br>5<em>6</em>7</p><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•°ï¼Œè¾“å‡ºå…¶æœ€é•¿çš„è¿ç»­å› å­<br>åˆ†æï¼šæš´åŠ›</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> len = <span class="hljs-number">12</span>; len &gt; <span class="hljs-number">0</span>; len--)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> s = <span class="hljs-number">2</span>;s &lt;= <span class="hljs-built_in">sqrt</span>(n); s++)&#123;<br>            ll ans = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = s;i - s &lt;= len - <span class="hljs-number">1</span>;i++)<br>                ans *= i;<br>            <span class="hljs-keyword">if</span>(n%ans == <span class="hljs-number">0</span>)&#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n%d&quot;</span>, len, s);<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = s + <span class="hljs-number">1</span>;i - s &lt;= len <span class="hljs-number">-1</span>; i++)&#123;<br>                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;*%d&quot;</span>, i);<br>                &#125;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;1\n%d&quot;</span>, n);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1090 Highest Price in Supply Chain (25) -PATç”²çº§</title>
    <link href="/2018/08/01/2018-08-01-PAT-1090/"/>
    <url>/2018/08/01/2018-08-01-PAT-1090/</url>
    
    <content type="html"><![CDATA[<p>A supply chain is a network of retailersï¼ˆé›¶å”®å•†ï¼‰, distributorsï¼ˆç»é”€å•†ï¼‰, and suppliersï¼ˆä¾›åº”å•†ï¼‰â€“ everyone involved in moving a product from supplier to customer.</p><p>Starting from one root supplier, everyone on the chain buys products from oneâ€™s supplier in a price P and sell or distribute them in a price that is r% higher than P. It is assumed that each member in the supply chain has exactly one supplier except the root supplier, and there is no supply cycle.</p><p>Now given a supply chain, you are supposed to tell the highest price we can expect from some retailers.</p><p><strong>Input Specification:</strong>  </p><p>Each input file contains one test case. For each case, The first line contains three positive numbers: N (&lt;=10^5^), the total number of the members in the supply chain (and hence they are numbered from 0 to N-1); P, the price given by the root supplier; and r, the percentage rate of price increment for each distributor or retailer. Then the next line contains N numbers, each number S<del>i</del> is the index of the supplier for the i-th member. S<del>root</del> for the root supplier is defined to be -1. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong>  </p><p>For each test case, print in one line the highest price we can expect from some retailers, accurate up to 2 decimal places, and the number of retailers that sell at the highest price. There must be one space between the two numbers. It is guaranteed that the price will not exceed 10^10^.</p><p><strong>Sample Input:</strong>  </p><p>9 1.80 1.00<br>1 5 4 4 -1 4 5 3 6<br><strong>Sample Output:</strong>  </p><p>1.85 2  </p><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€æ£µæ ‘ï¼Œæ ‘æ ¹å¤„ä»·æ ¼pï¼Œæ¯å¾€ä¸‹ä¸€å±‚åŠ r%ï¼Œé—®æ‰€æœ‰å¶å­çš„æœ€é«˜ä»·æ ¼å’Œè¯¥å±‚å¶å­æ•°<br>åˆ†æï¼›ç”¨v[i] [j]å­˜å‚¨ï¼Œç»“ç‚¹içš„å­©å­ç»“ç‚¹ä¸‹æ ‡å­˜åœ¨v[i]ä¸­ï¼Œdfsä¿å­˜ä¸‹æ ‡å’Œæ‰€åœ¨å±‚æ•°ï¼Œå¶å­ç»“ç‚¹æ—¶æ›´æ–°maxdepthå’Œmaxnum</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">int</span> n, maxdepth = <span class="hljs-number">0</span>, maxnum = <span class="hljs-number">0</span>, temp, root;<br>vector&lt;<span class="hljs-keyword">int</span>&gt; v[<span class="hljs-number">100010</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, <span class="hljs-keyword">int</span> depth)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span>(v[index].<span class="hljs-built_in">size</span>() == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">if</span>(maxdepth == depth)<br>            maxnum++;<br>        <span class="hljs-keyword">if</span>(maxdepth &lt; depth) &#123;<br>            maxdepth = depth;<br>            maxnum = <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; v[index].<span class="hljs-built_in">size</span>(); i++)<br>        <span class="hljs-built_in">dfs</span>(v[index][i], depth + <span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">double</span> p, r;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %lf %lf&quot;</span>, &amp;n, &amp;p, &amp;r);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;temp);<br>        <span class="hljs-keyword">if</span>(temp == <span class="hljs-number">-1</span>)<br>            root = i;<br>        <span class="hljs-keyword">else</span><br>            v[temp].<span class="hljs-built_in">push_back</span>(i);<br>    &#125;<br>    <span class="hljs-built_in">dfs</span>(root, <span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.2f %d&quot;</span>, p * <span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span> + r/<span class="hljs-number">100</span>, maxdepth), maxnum);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mybatis æ‰¹é‡æ›´æ–°</title>
    <link href="/2018/07/22/2018-07-22-mybatis/"/>
    <url>/2018/07/22/2018-07-22-mybatis/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>åœ¨å®é™…ä¸šåŠ¡ä¸­é‡åˆ°éœ€è¦ä¸€æ¬¡æ›´æ–°å¤šæ¡æ•°æ®æ—¶ï¼Œéœ€è¦é‡‡ç”¨æ‰¹é‡æ›´æ–°(updateBatch)çš„æ–¹æ³•ï¼Œä¸‹é¢ä»‹ç»ä¸¤ç§ä¸åŒçš„æ–¹å¼ã€‚</p><p>1.é€æ¡æ›´æ–°</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs lasso">updateBatch(<span class="hljs-built_in">List</span>&lt;MyData&gt; datas)&#123;<br>    for(MyData <span class="hljs-built_in">data</span> : datas)&#123;<br>        try&#123;<br>            myDataDao.update(<span class="hljs-built_in">data</span>);<span class="hljs-comment">//æ›´æ–°ä¸€æ¡æ•°æ®ï¼Œmybatisä¸­å¦‚ä¸‹é¢çš„xmlæ–‡ä»¶çš„update</span><br>        &#125;<br>        catch(Exception e)&#123;<br>            <span class="hljs-params">...</span><span class="hljs-comment">//å¦‚æœæ›´æ–°å¤±è´¥å¯ä»¥åšä¸€äº›å…¶ä»–çš„æ“ä½œï¼Œæ¯”å¦‚è¯´æ‰“å°å‡ºé”™æ—¥å¿—ç­‰</span><br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//mybatisä¸­updateæ“ä½œçš„å®ç°</span><br>&lt;update&gt;<br>    update mydata<br>    <span class="hljs-built_in">set</span>   <span class="hljs-params">...</span><br>    <span class="hljs-keyword">where</span> <span class="hljs-params">...</span><br>&lt;/update&gt;<br></code></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼æ•ˆç‡æä½ï¼Œæ¯æ¬¡éƒ½ä¼šè¿æ¥æ•°æ®åº“ï¼Œæ›´æ–°ï¼Œé‡Šæ”¾èµ„æºï¼Œä¸€èˆ¬ä¸é‡‡ç”¨ã€‚</p><p>2.sqlæ‰¹é‡æ›´æ–°</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;<span class="hljs-keyword">update</span> id=&quot;updateBatch&quot; parameterType=&quot;java.util.List&quot;&gt;<br>  <span class="hljs-keyword">update</span> goods<br>  <span class="hljs-keyword">set</span> num = num-<br>  &lt;<span class="hljs-keyword">foreach</span> collection=&quot;list&quot; item=&quot;item&quot; <span class="hljs-keyword">index</span>=&quot;index&quot;<br>        separator=&quot; &quot; <span class="hljs-keyword">open</span>=&quot;case ID&quot; <span class="hljs-keyword">close</span>=&quot;end&quot;&gt;<br>        <span class="hljs-keyword">when</span> #&#123;item.id&#125; <span class="hljs-keyword">then</span> #&#123;item.upnum&#125;<br>    &lt;/<span class="hljs-keyword">foreach</span>&gt;<br>    <span class="hljs-keyword">where</span> id <span class="hljs-keyword">in</span><br>    &lt;<span class="hljs-keyword">foreach</span> collection=&quot;list&quot; <span class="hljs-keyword">index</span>=&quot;index&quot; item=&quot;item&quot;<br>        separator=&quot;,&quot; <span class="hljs-keyword">open</span>=&quot;(&quot; <span class="hljs-keyword">close</span>=&quot;)&quot;&gt;<br>        #&#123;item.id,jdbcType=<span class="hljs-type">BIGINT</span>&#125;<br>    &lt;/<span class="hljs-keyword">foreach</span>&gt;<br>&lt;/<span class="hljs-keyword">update</span>&gt;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­whenâ€¦thenâ€¦æ˜¯sqlä¸­çš„â€switchâ€ è¯­æ³•ã€‚è¿™é‡Œå€ŸåŠ©mybatisçš„<foreach>è¯­æ³•æ¥æ‹¼å‡‘æˆäº†æ‰¹é‡æ›´æ–°çš„sqlï¼Œä¸Šé¢çš„æ„æ€å°±æ˜¯æ‰¹é‡æ›´æ–°idåœ¨updateBatchå‚æ•°æ‰€ä¼ é€’Listä¸­çš„æ•°æ®çš„statuså­—æ®µã€‚è¿˜å¯ä»¥ä½¿ç”¨<trim>å®ç°åŒæ ·çš„åŠŸèƒ½,ä»£ç å¦‚ä¸‹:</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xquery"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateBatch&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;java.util.List&quot;</span>&gt;</span></span><br><span class="xml">        update mydata_table</span><br><span class="xml">        </span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">trim</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">&quot;set&quot;</span> <span class="hljs-attr">suffixOverrides</span>=<span class="hljs-string">&quot;,&quot;</span>&gt;</span></span><br><span class="xml">            </span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">trim</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">&quot;status =case&quot;</span> <span class="hljs-attr">suffix</span>=<span class="hljs-string">&quot;end,&quot;</span>&gt;</span></span><br><span class="xml">                </span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;list&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;item&quot;</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span></span><br><span class="xml">                     when id=#</span><span class="xquery">&#123;<span class="hljs-type">item</span><span class="hljs-built_in">.id</span>&#125;</span><span class="xml"> then #</span><span class="xquery">&#123;<span class="hljs-type">item</span>.status&#125;</span><br><span class="xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">trim</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">trim</span>&gt;</span></span><br><span class="xml">        where id in</span><br><span class="xml">        </span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;list&quot;</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;index&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;item&quot;</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">&quot;,&quot;</span> <span class="hljs-attr">open</span>=<span class="hljs-string">&quot;(&quot;</span> <span class="hljs-attr">close</span>=<span class="hljs-string">&quot;)&quot;</span>&gt;</span></span><br><span class="xml">            #</span><span class="xquery">&#123;<span class="hljs-type">item</span><span class="hljs-built_in">.id</span>,jdbcType=BIGINT&#125;</span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span></span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>SSM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ali Link Develop å…¥é—¨å­¦ä¹ </title>
    <link href="/2018/07/07/2018-07-07-ali/"/>
    <url>/2018/07/07/2018-07-07-ali/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p><strong>Link Develop</strong></p><p>ä½•ä¸ºLink Developï¼Ÿå®˜æ–¹æ–‡æ¡£ä¸­è¿™æ ·ä»‹ç»ï¼šLink Developæ˜¯é˜¿é‡Œäº‘é’ˆå¯¹ç‰©è”ç½‘é¢†åŸŸæä¾›çš„ç«¯åˆ°ç«¯ä¸€ç«™å¼å¼€å‘å¹³å°ï¼Œå¯è¦†ç›–å„ä¸ªç‰©è”ç½‘è¡Œä¸šåº”ç”¨åœºæ™¯ï¼Œä¸»è¦è§£å†³ç‰©è”ç½‘å¼€å‘é¢†åŸŸå¼€å‘é“¾è·¯é•¿ã€æŠ€æœ¯æ ˆå¤æ‚ã€ååŒæˆæœ¬é«˜ã€æ–¹æ¡ˆç§»æ¤å›°éš¾çš„é—®é¢˜ï¼Œæä¾›äº†ä»ç¡¬ä»¶è®¾å¤‡ã€æ¨¡ç»„ã€æ•°æ®ã€æœåŠ¡APIã€Webåº”ç”¨å¼€å‘åˆ°ç§»åŠ¨APPå¼€å‘å…¨é“¾è·¯çš„å¼€å‘æµç¨‹ã€æ¡†æ¶ï¼å¼•æ“å’Œè°ƒè¯•å·¥å…·ï¼Œå¹¶å¯å°†æˆç†Ÿçš„å¼€å‘äº§å‡ºç‰©å¯¹æ¥é˜¿é‡Œäº‘äº‘å¸‚åœºè¿›è¡Œå”®å–ï¼Œä¸ºå¼€å‘è€…å®ç°å•†ä¸šæ”¶ç›Šã€‚<br>ç®€è¨€ä¹‹ï¼Œå®ƒæ˜¯é˜¿é‡Œä¸“é—¨ä¸ºç‰©è”ç½‘å¼€å‘æ¨å‡ºçš„ä¸€é¡¹æŠ€æœ¯ï¼Œä¸€ä¸ªå¯ä»¥ä¾›å¤§å®¶ä½¿ç”¨çš„å¼€å‘å¹³å°ã€‚</p><p>Link Develop æ¶æ„å›¾ï¼š</p><p><img src="/img/LinkDevelop.jpg" alt="img"></p><p>ä¸‹é¢ç®€å•å¤ç›˜ä¸€ä¸‹è®¾å¤‡ç«¯å¼€å‘å’Œå‰ç«¯åº”ç”¨å¼€å‘ä¸¤ä¸ªå…¥é—¨æ¡ˆä¾‹ã€‚</p><h4 id="è®¾å¤‡ç«¯å¼€å‘"><a href="#è®¾å¤‡ç«¯å¼€å‘" class="headerlink" title="è®¾å¤‡ç«¯å¼€å‘"></a>è®¾å¤‡ç«¯å¼€å‘</h4><p>é¦–å…ˆï¼Œéœ€è¦ åˆ›å»ºäº§å“å’Œæµ‹è¯•è®¾å¤‡  </p><p><strong>åˆ›å»ºRGBæ™ºèƒ½ç¯äº§å“</strong><br>ä»é¡¹ç›®æ§åˆ¶å°å·¦ä¾§çš„è®¾å¤‡èœå•é¡¹é‡Œæ‰¾åˆ°â€œäº§å“å¼€å‘â€ï¼Œç‚¹å‡»è¿›å…¥å¹¶ç‚¹å‡»â€œç«‹å³åˆ›å»ºäº§å“â€ã€‚<br><img src="/img/LD1.png" alt="img"><br>æŒ‰ä¸‹å›¾å¡«å†™è¡¨å•ï¼Œæ‰€å±åˆ†ç±»é€‰æ‹©â€œæ™ºèƒ½ç”Ÿæ´»/ç”µå·¥ç…§æ˜/ç¯â€ï¼ŒèŠ‚ç‚¹ç±»å‹é€‰æ‹©â€œè®¾å¤‡â€ï¼Œé€šè®¯ç½‘ç»œé€‰æ‹©â€œWi-Fiâ€ï¼Œæ•°æ®æ ¼å¼é€‰æ‹©â€œAlinkâ€ï¼Œç„¶åç‚¹â€œæäº¤â€åç‚¹å‡»â€œè¿›å…¥å¼€å‘â€æŒ‰é’®ã€‚<br><img src="/img/LD2.png" alt="img"><br>åˆ›å»ºå¥½äº§å“åï¼Œæˆ‘ä»¬å‘ç°äº§å“ç•Œé¢ä¸Šå·²ç»æœ‰äº†æ•…éšœå’Œä¸»ç¯å¼€å…³è¿™ä¸¤ä¸ªè®¾å¤‡çš„æ ‡å‡†åŠŸèƒ½å®šä¹‰ã€‚äº§å“åŠŸèƒ½å®šä¹‰ä½¿ç”¨çš„æ˜¯ ICA è”ç›Ÿ å®šä¹‰çš„æ ‡å‡†äº§å“åŠŸèƒ½è§„èŒƒï¼Œç”¨æ¥æè¿°è®¾å¤‡èƒ½åšä»€ä¹ˆæœ‰ä»€ä¹ˆèƒ½åŠ›ã€‚æˆ‘ä»¬å¼€å‘çš„äº§å“åŸå‹æ˜¯ RGB å°ç¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦æ·»åŠ ä¸€ä¸ª RGB è°ƒè‰²çš„åŠŸèƒ½å®šä¹‰ã€‚<br><img src="/img/LD3.png" alt="img"><br>ç‚¹å‡»æ ‡å‡†åŠŸèƒ½ä¸€æ å³ä¾§çš„â€œæ–°å¢â€æŒ‰é’®ã€‚åœ¨å¼¹å‡ºçš„â€œæ–°å¢å¯é€‰åŠŸèƒ½â€å¯¹è¯æ¡†å·¦ä¾§åˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ° RGB è°ƒè‰²åŠŸèƒ½å¹¶å•å‡»è¿›è¡Œé€‰æ‹©ï¼Œç„¶åç‚¹å‡»â€œç¡®å®šâ€ã€‚<br><img src="/img/LD4.png" alt="img"><br>åœ¨æ ‡å‡†åŠŸèƒ½å®šä¹‰é‡Œå°±æœ‰äº† RGBè°ƒè‰²çš„åŠŸèƒ½å±æ€§ã€‚<br><img src="/img/LD5.png" alt="img"><br>æœ‰äº†å¼€å…³å’Œ RGB è°ƒè‰²çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬çš„ RGB å…¨å½©ç¯äº§å“å°±å®šä¹‰å¥½äº†ï¼Œè¿™å°ç¯æœ‰ä»€ä¹ˆåŠŸèƒ½è·Ÿèƒ½åšä»€ä¹ˆå·²ç»æè¿°æ¸…æ¥šäº†ã€‚</p><p>äº§å“åŠŸèƒ½å®šä¹‰å¥½äº†ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”³è¯·æµ‹è¯•è®¾å¤‡çš„æ¿€æ´»å‡­è¯ï¼Œè®¾å¤‡çš„æ¿€æ´»å‡­è¯å°±åƒè®¾å¤‡è¿æ¥åˆ°äº‘ç«¯çš„ id å’Œå¯†ç ï¼Œè®¾å¤‡æœ‰äº† id å’Œå¯†ç ï¼Œæ‰èƒ½é€šè¿‡äº‘ç«¯çš„èº«ä»½é‰´æƒè¿æ¥åˆ°äº‘ç«¯ã€‚</p><p><strong>åˆ›å»ºæµ‹è¯•è®¾å¤‡</strong><br>æˆ‘ä»¬ä»â€œåŠŸèƒ½å®šä¹‰â€çš„ Tab åˆ‡æ¢åˆ°â€œè®¾å¤‡å¼€å‘â€çš„ Tabã€‚</p><p>ç‚¹å‡»â€œè®¾å¤‡åˆ—è¡¨â€ä¸€æ å³ä¾§çš„â€œæ–°å¢æµ‹è¯•è®¾å¤‡â€æŒ‰é’®ã€‚<br><img src="/img/LD6.png" alt="img"><br>åœ¨å¼¹å‡ºçš„â€œæ–°å¢æµ‹è¯•è®¾å¤‡â€å¯¹è¯æ¡†ä¸­ç›´æ¥ç‚¹å‡»â€œç¡®å®šâ€ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæµ‹è¯•è®¾å¤‡çš„æ¿€æ´»å‡­è¯ã€‚æ¿€æ´»å‡­è¯æ˜¯åŒ…æ‹¬ ProductKeyã€DeviceName å’Œ DeviceSecretï¼ˆæ³¨æ„æ˜¯ DeviceSercetï¼‰ çš„ä¸€ä¸ªä¸‰å…ƒç»„ï¼Œç”¨æ¥è¿›è¡Œè®¾å¤‡ä¸äº‘ç«¯çš„è¿æ¥å’Œæ¿€æ´»ï¼Œå…¶ä¸­ DeviceSecret æ˜¯æœ€é‡è¦å­—æ®µï¼Œä¹Ÿå°±æ˜¯è®¾å¤‡çš„å¯†ç ï¼Œéœ€è¦å¦¥å–„ä¿å­˜ã€‚<br><img src="/img/LD7.png" alt="img"><br>è¿™æ—¶å€™çœ‹çœ‹è®¾å¤‡åˆ—è¡¨å½“ä¸­å·²ç»æœ‰äº†ä¸€ä¸ªæœªæ¿€æ´»çš„è®¾å¤‡ï¼š<br><img src="/img/LD8.png" alt="img"><br>ä¸‹ä¸€æ­¥æˆ‘ä»¬è¦ä½¿ç”¨åˆ›å»ºçš„è®¾å¤‡æ¿€æ´»å‡­è¯å°†è®¾å¤‡è¿æ¥åˆ°äº‘ç«¯è¿›è¡Œæ¿€æ´»ã€‚</p><p>æ–¹æ¡ˆå››ï¼šåŸºäº Web Device è™šæ‹Ÿè®¾å¤‡</p><blockquote><p>Web Device æ˜¯ç”¨æ¥åœ¨æµè§ˆå™¨ä¸­è¿›è¡Œè®¾å¤‡å¿«é€Ÿæ¨¡æ‹Ÿçš„å·¥å…·ï¼Œæ­¤æ–¹æ¡ˆçš„ä¼˜åŠ¿æ˜¯ä¸éœ€è¦ä¾èµ–å…¶ä»–ç¡¬ä»¶å’Œç¼–ç¨‹å·¥å…·ï¼Œåªè¦ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ä¸€ä¸ª URLï¼Œå°±&gt;èƒ½å®ç°è®¾å¤‡è¿æ¥ã€æ•°æ®ä¸Šä¸‹è¡Œé€šä¿¡æ¨¡æ‹Ÿã€‚å¼€å§‹å‰è¯·ç¡®ä¿å®Œæˆäº†äº§å“å’Œæµ‹è¯•è®¾å¤‡åˆ›å»ºã€‚</p></blockquote><p>åœ¨è®¾å¤‡åˆ—è¡¨ä¸­æ‰“å¼€åœ¨çº¿æ¨¡æ‹Ÿé“¾æ¥ï¼š<br><img src="/img/LD9.png" alt="img"><br><strong>è®¾å¤‡ä¸Šçº¿</strong><br>ç‚¹å‡»â€œè®¾å¤‡æ¨¡æ‹Ÿâ€æ–°çª—å£å³ä¸Šè§’çš„â€œä¸Šçº¿â€æŒ‰é’®ï¼Œå°†è®¾å¤‡ä¸Šçº¿ï¼š<br><img src="/img/LD10.png" alt="img"><br>å¯ä»¥çœ‹åˆ°è®¾å¤‡å·²ä¸Šçº¿ï¼š<br><img src="/img/LD11.png" alt="img"><br><strong>äº‘ç«¯ä¸‹å‘æ¶ˆæ¯åˆ°è®¾å¤‡</strong><br>ç‚¹å‡»æ¨¡æ‹Ÿè®¾å¤‡ç•Œé¢å³ä¸Šè§’çš„â€œåœ¨çº¿è°ƒè¯•â€æŒ‰é’®ï¼Œæ‰“å¼€åœ¨çº¿è°ƒè¯•é¡µé¢ï¼š<br><img src="/img/LD12.png" alt="img"><br>åœ¨é¡µé¢ä¸‹æ–¹çš„è°ƒè¯•åŠŸèƒ½é‡Œé€‰æ‹©â€œRGBè°ƒè‰²ï¼ˆRGBColorï¼‰â€ï¼Œæ–¹æ³•é€‰ä¸ºâ€œè®¾ç½®â€ã€‚  </p><p>å°†ä¸‹æ–¹ JSON ç¼–è¾‘å™¨çš„å†…å®¹æ›¿æ¢æˆï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<span class="hljs-attr">&quot;RGBColor&quot;</span>:&#123;<span class="hljs-attr">&quot;Red&quot;</span>:<span class="hljs-number">255</span>,<span class="hljs-attr">&quot;Blue&quot;</span>:<span class="hljs-number">255</span>,<span class="hljs-attr">&quot;Green&quot;</span>:<span class="hljs-number">0</span>&#125;&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åç‚¹å‡»â€œå‘é€æŒ‡ä»¤â€æŒ‰é’®ï¼Œåˆ‡æ¢åˆ°è®¾å¤‡æ¨¡æ‹Ÿç•Œé¢ä¸Šï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ¨¡æ‹Ÿè®¾å¤‡æ”¶åˆ°äº†äº‘ç«¯æ¶ˆæ¯ï¼š<br><img src="/img/LD13.png" alt="img"><br><strong>è®¾å¤‡ä¸ŠæŠ¥æ¶ˆæ¯åˆ°äº‘ç«¯</strong><br>å°†æ¨¡æ‹Ÿè®¾å¤‡çš„ RGBColor å±æ€§å€¼æ”¹æˆï¼ˆ255,255,0ï¼‰ï¼Œç‚¹å‡»â€œä¸ŠæŠ¥â€ï¼Œåœ¨å³ä¾§å¯ä»¥çœ‹åˆ°è®¾å¤‡ä¸ŠæŠ¥å±æ€§æˆåŠŸçš„æ¶ˆæ¯ï¼š<br><img src="/img/LD14.png" alt="img"><br>äº‘ç«¯ä¹Ÿæ”¶åˆ°äº†è®¾å¤‡ä¸ŠæŠ¥çš„æ•°æ®ï¼š<br><img src="/img/LD15.png" alt="img"><br>è‡ªæ­¤ï¼Œæˆ‘ä»¬åŸºäº Web Device æ¨¡æ‹Ÿçš„ RGB å°ç¯è®¾å¤‡ç«¯å°±å®Œæˆäº†ã€‚åœ¨ IoT åº”ç”¨ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©è¿™ä¸ªè™šæ‹Ÿçš„è®¾å¤‡æ¥å®Œæˆåº”ç”¨ç«¯å’Œè®¾å¤‡ç«¯çš„è”è°ƒï¼Œç”¨å®ƒæ¥æ¨¡æ‹Ÿ IoT è®¾å¤‡çš„å„ç§è¡Œä¸ºï¼Œæ¯”å¦‚è¿ç»­ä¸ŠæŠ¥ã€å®šæ—¶ä¸ŠæŠ¥ç­‰åŠŸèƒ½ã€‚æ›´å¤šå…³äº Web Device è®¾å¤‡æ¨¡æ‹Ÿå·¥å…·çš„å†…å®¹è¯·å‚è€ƒå®ƒçš„è¯¦ç»†ä½¿ç”¨æ–‡æ¡£ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥è¿›å…¥ Web åº”ç”¨çš„å¼€å‘ï¼ŒLink Developæä¾›äº†Webå‰ç«¯åº”ç”¨å’Œç¬¬ä¸‰æ–¹åº”ç”¨å¼€å‘èƒ½åŠ›ï¼Œå‰å¾€æŸ¥çœ‹ã€‚</p><h4 id="å‰ç«¯åº”ç”¨å¼€å‘"><a href="#å‰ç«¯åº”ç”¨å¼€å‘" class="headerlink" title="å‰ç«¯åº”ç”¨å¼€å‘"></a>å‰ç«¯åº”ç”¨å¼€å‘</h4><p><strong>è½¯ä»¶å®‰è£…</strong><br>å®‰è£… Node.js LTS ç‰ˆæœ¬ï¼ˆ&gt;=8.9)ï¼š<code>https://nodejs.org/zh-cn/</code><br>å®‰è£… Ruff SDKï¼š<code>https://ruff.io/zh-cn/docs/download.html</code><br>å®‰è£… Web åº”ç”¨å¼€å‘å·¥å…· Bone Cliï¼š<code>https://bone.aliyun.com/bone-web/bonewebsdk.html?name=zm1rpl</code><br>æ–‡æœ¬ç¼–è¾‘å™¨ï¼š<code>VSCode / Sublime / Vim...</code></p><p>ç‰ˆæœ¬æ£€æŸ¥ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">node</span> <span class="hljs-title">-v</span><br>bnpm -v<br>rap -V<br>bone -v<br></code></pre></td></tr></table></figure><p>è¯·ç¡®è®¤é«˜äºæˆ–è€…ç­‰äºä»¥ä¸‹ç‰ˆæœ¬ï¼š<br><img src="/img/LD16.png" alt="img"><br><strong>åˆ›å»ºåº”ç”¨</strong><br>ä»é¡¹ç›®æ§åˆ¶å°å·¦ä¾§èœå•è¿›å…¥â€œåº”ç”¨-Web åº”ç”¨â€ï¼Œç‚¹å‡»å³ä¸Šè§’çš„â€œæ–°å¢åº”ç”¨â€æŒ‰é’®ã€‚<br><img src="/img/LD17.png" alt="img"><br>å¦‚å›¾æ‰€ç¤ºå¡«å†™è¡¨å•ï¼Œæ–°å»ºä¸€ä¸ªæ‰˜ç®¡åº”ç”¨ï¼Œç‚¹å‡»æäº¤è¿›å…¥ä¸‹ä¸€æ­¥ã€‚<br><img src="/img/LD18.png" alt="img"><br>åœ¨åº”ç”¨â€œåˆ›å»ºæˆåŠŸâ€çš„é¡µé¢ä¸Šç‚¹å‡»â€œè¿›å…¥å¼€å‘â€æŒ‰é’®ã€‚<br>æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ª AppKey ï¼Œä¸€ä¸ª AppSecret å’Œä¸€ä¸ªç”¨æ¥è®¿é—®åº”ç”¨çš„ä¸‰çº§åŸŸåã€‚æœ‰äº† AppKey å’Œ AppSecretï¼Œå°±èƒ½è¿›è¡Œåº”ç”¨å¼€å‘äº†ã€‚<br><img src="/img/LD19.png" alt="img"><br><strong>Web åº”ç”¨ç¼–ç </strong><br>æ–°å»ºç›®å½•ï¼Œè¿›è¡Œé¡¹ç›®åˆå§‹åŒ–ï¼š</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">mkdir</span> linkdevelop-webapp-rgblight<br><span class="hljs-built_in">cd</span> linkdevelop-webapp-rgblight<br>bone init<br></code></pre></td></tr></table></figure><p><img src="/img/LD20.png" alt="img"><br>å®‰è£… @bone/iot-gateway å’Œ react-color é¢œè‰²é€‰æ‹©ç»„ä»¶ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">bnpm <span class="hljs-selector-tag">i</span> --save <span class="hljs-keyword">@bone</span>/iot-gateway react-color<br></code></pre></td></tr></table></figure><p><img src="/img/LD21.png" alt="img"><br>ä¿®æ”¹ app/pages/home/index.js ä»£ç ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> React, &#123; Component &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; Button, Switch, Form, Grid, Input, Dialog &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@bone/bone-web-ui&#x27;</span>;<br><span class="hljs-keyword">import</span> IotGateway <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@bone/iot-gateway&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; HuePicker &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-color&#x27;</span>;<br><br><span class="hljs-keyword">const</span> Row = Grid.Row;<br><span class="hljs-keyword">const</span> Col = Grid.Col;<br><span class="hljs-keyword">const</span> FormItem = Form.Item;<br><span class="hljs-keyword">const</span> formItemLayout = &#123;<br>  labelCol: &#123;<br>    fixedSpan: <span class="hljs-number">12</span><br>  &#125;,<br>  wrapperCol: &#123;<br>    span: <span class="hljs-number">12</span><br>  &#125;<br>&#125;;<br><span class="hljs-keyword">const</span> insetLayout = &#123;<br>  labelCol: &#123; <span class="hljs-attr">fixedSpan</span>: <span class="hljs-number">4</span> &#125;<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">props</span>)</span> &#123;<br>    <span class="hljs-built_in">super</span>(props);<br>    <span class="hljs-built_in">this</span>.state = &#123;<br>      <span class="hljs-keyword">switch</span>: <span class="hljs-literal">false</span>,<br>      color: <span class="hljs-string">&#x27;&#x27;</span>,<br>      <span class="hljs-comment">// åˆ·æ–°é¡µé¢ä¸ç”¨é‡å¤è¾“å…¥</span><br>      productKey: <span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&#x27;productKey&#x27;</span>) || <span class="hljs-string">&#x27;&#x27;</span>,<br>      deviceName: <span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&#x27;deviceName&#x27;</span>) || <span class="hljs-string">&#x27;&#x27;</span><br>    &#125;;<br>    <span class="hljs-comment">// è·å–åˆå§‹æ•°æ®</span><br>    <span class="hljs-built_in">this</span>.getProps(<span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> &#123;<br>      <span class="hljs-built_in">this</span>.setState(&#123;<br>        <span class="hljs-keyword">switch</span>: props.LightSwitch === <span class="hljs-number">1</span>,<br>        color: rgbToHex(<br>          props.RGBColor.Red,<br>          props.RGBColor.Green,<br>          props.RGBColor.Blue<br>        )<br>      &#125;);<br>    &#125;);<br>  &#125;<br>  <span class="hljs-function"><span class="hljs-title">getProps</span>(<span class="hljs-params">cb</span>)</span> &#123;<br>    IotGateway.post(&#123;<br>      url: <span class="hljs-string">&#x27;https://api.link.aliyun.com/thing/device/status/query&#x27;</span>,<br>      apiVer: <span class="hljs-string">&#x27;1.0.1&#x27;</span>,<br>      params: &#123;<br>        ProductKey: <span class="hljs-built_in">this</span>.state.productKey,<br>        DeviceName: <span class="hljs-built_in">this</span>.state.deviceName<br>      &#125;<br>    &#125;).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>      <span class="hljs-keyword">if</span> (res.code !== <span class="hljs-number">200</span>) &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(res.localizedMsg || res.message);<br>      &#125;<br>      <span class="hljs-keyword">let</span> props = &#123;&#125;;<br>      res.data.forEach(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>        props[item.attribute] = item.value;<br>      &#125;);<br>      <span class="hljs-keyword">if</span> (cb) &#123;<br>        cb(props);<br>      &#125;<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;get props successfully:&#x27;</span>, props);<br>    &#125;);<br>  &#125;<br>  <span class="hljs-function"><span class="hljs-title">setProps</span>(<span class="hljs-params">props</span>)</span> &#123;<br>    IotGateway.post(&#123;<br>      url: <span class="hljs-string">&#x27;https://api.link.aliyun.com/thing/device/properties/set&#x27;</span>,<br>      apiVer: <span class="hljs-string">&#x27;1.0.1&#x27;</span>,<br>      params: &#123;<br>        ThingId: &#123;<br>          productKey: <span class="hljs-built_in">this</span>.state.productKey,<br>          deviceName: <span class="hljs-built_in">this</span>.state.deviceName<br>        &#125;,<br>        Items: props<br>      &#125;<br>    &#125;).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>      <span class="hljs-keyword">if</span> (res.code !== <span class="hljs-number">200</span>) &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(res.localizedMsg || res.message);<br>      &#125;<br>      <span class="hljs-built_in">console</span>.log(res);<br>    &#125;);<br>  &#125;<br>  <span class="hljs-function"><span class="hljs-title">showValidationText</span>(<span class="hljs-params"></span>)</span> &#123;<br>    Dialog.alert(&#123;<br>      title: <span class="hljs-string">&#x27;æç¤º&#x27;</span>,<br>      content: <span class="hljs-string">&#x27;è¯·è¾“å…¥è®¾å¤‡çš„ productKey å’Œ deviceName æ‰èƒ½æ§åˆ¶è®¾å¤‡å“¦&#x27;</span><br>    &#125;);<br>  &#125;<br>  onChange = <span class="hljs-function"><span class="hljs-params">checked</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">this</span>.state.productKey || !<span class="hljs-built_in">this</span>.state.deviceName) &#123;<br>      <span class="hljs-built_in">this</span>.showValidationText();<br>      <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-built_in">this</span>.setState(&#123;<br>      <span class="hljs-keyword">switch</span>: checked<br>    &#125;);<br>    <span class="hljs-built_in">this</span>.setProps(&#123;<br>      LightSwitch: checked ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span><br>    &#125;);<br>  &#125;;<br>  onInput = <span class="hljs-function">(<span class="hljs-params">field, value</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">this</span>.state[field] = value;<br>    <span class="hljs-built_in">localStorage</span>.setItem(field, value);<br>    <span class="hljs-built_in">this</span>.setState(&#123;<br>      [field]: value<br>    &#125;);<br>  &#125;;<br>  onColorChange = <span class="hljs-function"><span class="hljs-params">color</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">this</span>.state.productKey || !<span class="hljs-built_in">this</span>.state.deviceName) &#123;<br>      <span class="hljs-built_in">this</span>.showValidationText();<br>      <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-built_in">this</span>.setState(&#123;<br>      color: color.hex<br>    &#125;);<br>    <span class="hljs-built_in">this</span>.setProps(&#123;<br>      RGBColor: hexToRgb(color.hex)<br>    &#125;);<br>  &#125;;<br>  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-keyword">return</span> (<br>      &lt;div style=&#123;&#123; <span class="hljs-attr">padding</span>: <span class="hljs-string">&#x27;30px 0 0 30px&#x27;</span> &#125;&#125;&gt;<br>        &lt;Form style=&#123;&#123; <span class="hljs-attr">margin</span>: <span class="hljs-string">&#x27;0 0 0 30px&#x27;</span> &#125;&#125; &#123;...formItemLayout&#125;&gt;<br>          &lt;FormItem label=<span class="hljs-string">&quot;è®¾å¤‡ id&quot;</span>&gt;<br>            &lt;Row&gt;<br>              &lt;Col&gt;<br>                &lt;FormItem<br>                  label=<span class="hljs-string">&quot;productKey&quot;</span><br>                  required=&#123;<span class="hljs-literal">false</span>&#125;<br>                  labelAlign=<span class="hljs-string">&quot;inset&quot;</span><br>                  &#123;...insetLayout&#125;<br>                &gt;<br>                  &lt;Input<br>                    placeholder=<span class="hljs-string">&quot;è¯·è¾“å…¥&quot;</span><br>                    value=&#123;<span class="hljs-built_in">this</span>.state.productKey&#125;<br>                    onChange=&#123;<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-built_in">this</span>.onInput(<span class="hljs-string">&#x27;productKey&#x27;</span>, value)&#125;<br>                  /&gt;<br>                &lt;/FormItem&gt;<br>              &lt;/Col&gt;<br>              &lt;Col&gt;<br>                &lt;FormItem<br>                  label=<span class="hljs-string">&quot;deviceName&quot;</span><br>                  required=&#123;<span class="hljs-literal">false</span>&#125;<br>                  labelAlign=<span class="hljs-string">&quot;inset&quot;</span><br>                  &#123;...insetLayout&#125;<br>                &gt;<br>                  &lt;Input<br>                    placeholder=<span class="hljs-string">&quot;è¯·è¾“å…¥&quot;</span><br>                    value=&#123;<span class="hljs-built_in">this</span>.state.deviceName&#125;<br>                    onChange=&#123;<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> <span class="hljs-built_in">this</span>.onInput(<span class="hljs-string">&#x27;deviceName&#x27;</span>, value)&#125;<br>                  /&gt;<br>                &lt;/FormItem&gt;<br>              &lt;/Col&gt;<br>            &lt;/Row&gt;<br>          &lt;/FormItem&gt;<br>          &lt;FormItem label=<span class="hljs-string">&quot;å¼€å…³&quot;</span>&gt;<br>            &lt;Switch onChange=&#123;<span class="hljs-built_in">this</span>.onChange&#125; checked=&#123;<span class="hljs-built_in">this</span>.state.switch&#125; /&gt;<br>          &lt;/FormItem&gt;<br>          &lt;FormItem label=<span class="hljs-string">&quot;è°ƒè‰²&quot;</span>&gt;<br>            &lt;div style=&#123;&#123; <span class="hljs-attr">padding</span>: <span class="hljs-string">&#x27;7px 0 0 10px&#x27;</span> &#125;&#125;&gt;<br>              &lt;HuePicker<br>                onChangeComplete=&#123;<span class="hljs-built_in">this</span>.onColorChange&#125;<br>                color=&#123;<span class="hljs-built_in">this</span>.state.color&#125;<br>              /&gt;<br>            &lt;/div&gt;<br>          &lt;/FormItem&gt;<br>        &lt;/Form&gt;<br>      &lt;/div&gt;<br>    );<br>  &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rgbToHex</span>(<span class="hljs-params">r, g, b</span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;#&#x27;</span> + ((<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">24</span>) + (r &lt;&lt; <span class="hljs-number">16</span>) + (g &lt;&lt; <span class="hljs-number">8</span>) + b).toString(<span class="hljs-number">16</span>).slice(<span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hexToRgb</span>(<span class="hljs-params">hex</span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> result = <span class="hljs-regexp">/^#?([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)([a-f\d]&#123;2&#125;)$/i</span>.exec(hex);<br>  <span class="hljs-keyword">return</span> result<br>    ? &#123;<br>        Red: <span class="hljs-built_in">parseInt</span>(result[<span class="hljs-number">1</span>], <span class="hljs-number">16</span>),<br>        Green: <span class="hljs-built_in">parseInt</span>(result[<span class="hljs-number">2</span>], <span class="hljs-number">16</span>),<br>        Blue: <span class="hljs-built_in">parseInt</span>(result[<span class="hljs-number">3</span>], <span class="hljs-number">16</span>)<br>      &#125;<br>    : <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¿è¡Œè°ƒè¯•</strong><br>å¯åŠ¨é¡¹ç›®</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">bone <span class="hljs-literal">start</span><br></code></pre></td></tr></table></figure><p><img src="/img/LD22.png" alt="img"><br>ä½¿ç”¨ Chrome æµè§ˆå™¨è®¿é—®ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8000</span>/<br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™é¡µé¢ä¼šæç¤ºè¾“å…¥åº”ç”¨çš„ appKey å’Œ appSecretï¼Œä»å¹³å°ä¸Šå¤åˆ¶è¿‡æ¥å¡«å¥½ï¼Œç‚¹å‡»â€œç¡®è®¤â€æŒ‰é’®ã€‚<br><img src="/img/LD23.png" alt="img"><br>æˆ‘ä»¬è¦åœ¨ Web åº”ç”¨ä¸Šæ§åˆ¶ä¸€å°è®¾å¤‡ï¼Œå¾—çŸ¥é“å®ƒçš„å”¯ä¸€æ ‡è¯†ï¼ˆè®¾å¤‡idï¼‰ï¼Œäº‘ç«¯æ‰èƒ½æ‰¾åˆ°å¯¹åº”çš„è®¾å¤‡è¿›è¡Œæ“ä½œã€‚</p><p>è®¾å¤‡çš„å”¯ä¸€æ ‡è¯†å°±æ˜¯åˆšæ‰åˆ›å»ºçš„æµ‹è¯•è®¾å¤‡æ¿€æ´»å‡­è¯ä¸­çš„ productKey å’Œ deviceName ä¸¤ä¸ªå­—æ®µã€‚æœ‰äº†è¿™ä¸¤ä¸ªå­—æ®µï¼Œäº‘ç«¯å°±å¯ä»¥æ‰¾åˆ°æˆ‘ä»¬çš„åˆšæ‰å¼€å‘çš„é‚£å°è®¾å¤‡ã€‚</p><p>å°†æµ‹è¯•è®¾å¤‡æ¿€æ´»å‡­è¯ä¸­çš„ productKey + deviceName å¡«å…¥ Web ç•Œé¢è¾“å…¥æ¡†ä¸­ï¼š<br><img src="/img/LD24.png" alt="img"><br>æ¥ç€æˆ‘ä»¬åˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼ŒæŸ¥çœ‹ä¸€ä¸‹ Chrome æµè§ˆå™¨æ§åˆ¶å°ï¼ˆæŒ‰ F12 æˆ–è€… Ctrl+Shift+iï¼‰ï¼Œå‘ç°è®¾å¤‡çš„å±æ€§å·²ç»èƒ½æ­£å¸¸è·å–äº†ã€‚<br><img src="/img/LD25.png" alt="img"><br>ç‚¹å‡»â€œè®¾ç½®å±æ€§â€æŒ‰é’®ï¼Œå¾…é¡µé¢åˆ·æ–°åï¼Œè§‚å¯Ÿæµ‹è¯•è®¾å¤‡çš„æ—¥å¿—æ¥æ”¶æƒ…å†µï¼Œè¿™é‡Œä»¥ Web Device æ¨¡æ‹Ÿè®¾å¤‡ä¸ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ° Web Device æ¨¡æ‹Ÿè®¾å¤‡æˆåŠŸæ¥æ”¶åˆ°åˆ°äº‘ç«¯è®¾ç½®å±æ€§çš„æ¶ˆæ¯ï¼š<br><img src="/img/LD26.png" alt="img"><br>å°†æ¨¡æ‹Ÿè®¾å¤‡çš„ RGBColor å±æ€§å€¼æ”¹æˆï¼ˆ255,255,0ï¼‰ï¼Œç‚¹å‡»â€œä¸ŠæŠ¥â€ï¼Œåœ¨å³ä¾§å¯ä»¥çœ‹åˆ°è®¾å¤‡ä¸ŠæŠ¥å±æ€§æˆåŠŸçš„æ¶ˆæ¯ï¼š<br><img src="/img/LD27.png" alt="img"><br>è¿™æ—¶å€™æˆ‘ä»¬å†åˆ·æ–°åº”ç”¨é¡µé¢ï¼Œå‘ç°é¡µé¢ä¹ŸåŠ è½½åˆ°äº†æœ€æ–°ä¸ŠæŠ¥çš„å±æ€§å€¼ã€‚</p><p>è‡³æ­¤ï¼ŒRGB å…¨å½©æ™ºèƒ½ç¯çš„ Web åº”ç”¨ä¹Ÿå®Œæ¯•ï¼</p><p><strong>åº”ç”¨å‘å¸ƒ</strong><br>ç”±äºè¯¥åŠŸèƒ½å–„æœªå®Œå…¨å®ç°ï¼Œå°†åœ¨ä¹‹åè¡¥å‡º</p><p>ä¸Šé¢å†…å®¹å¤§éƒ½ä¸ºæ¬è¿å®˜æ–¹æ–‡æ¡£ï¼Œä¸‹é¢æ˜¯ä¸€å¼ ä¸ªäººæ€»ç»“çš„ç®€å•æµç¨‹å›¾</p><p><img src="/img/LD28.png" alt="img"></p>]]></content>
    
    
    
    <tags>
      
      <tag>é˜¿é‡Œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Bootstrapçš„æ¨¡æ€æ¡†æ¡ˆä¾‹</title>
    <link href="/2018/06/05/2018-06-05-modal/"/>
    <url>/2018/06/05/2018-06-05-modal/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>Bootstrapçš„æ¨¡æ€æ¡†å®ç°æ³¨å†Œç™»å½•æ¡ˆä¾‹</p><p>1.å³ä¸Šè§’</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">c:choose</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">c:when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;user!=null &#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:inline-block;color:white;&quot;</span>&gt;</span>æ¬¢è¿ä½ ï¼Œ$</span><span class="hljs-template-variable">&#123;user.username&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;User/LogOut&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;æ³¨é”€&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;my-icon icon-tuichu&quot;</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">c:when</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">c:otherwise</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color:white;&quot;</span><span class="hljs-attr">data-toggle</span>=<span class="hljs-string">&quot;modal&quot;</span> <span class="hljs-attr">data-target</span>=<span class="hljs-string">&quot;#register&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>æ³¨å†Œ/<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color:white;&quot;</span><span class="hljs-attr">data-toggle</span>=<span class="hljs-string">&quot;modal&quot;</span> <span class="hljs-attr">data-target</span>=<span class="hljs-string">&quot;#login&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">c:otherwise</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">c:choose</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>2.æ³¨å†Œçª—å£</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;register&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal fade&quot;</span> <span class="hljs-attr">tabindex</span>=<span class="hljs-string">&quot;-1&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-dialog&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width:450px&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-content&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-body&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;close&quot;</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">&quot;modal&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-symbol">&amp;times;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-title&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center&quot;</span>&gt;</span>æ³¨å†Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-body&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;frm&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">onsubmit</span>=<span class="hljs-string">&quot;hhd()&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>ç”¨æˆ·å<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;lousername&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;6-15ä½å­—æ¯æˆ–æ•°å­—&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>æ€§åˆ«<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;radio-inline&quot;</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;optionsRadiosinline&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç”·&quot;</span> <span class="hljs-attr">checked</span>&gt;</span> ç”·<br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;radio-inline&quot;</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;optionsRadiosinline&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;å¥³&quot;</span>&gt;</span> å¥³<br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>èŒå·¥å·<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è‡³å°‘6ä½å­—æ¯æˆ–æ•°å­—&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>å¯†ç <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;lopassword&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è‡³å°‘6ä½å­—æ¯æˆ–æ•°å­—&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>å†æ¬¡è¾“å…¥å¯†ç <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è‡³å°‘6ä½å­—æ¯æˆ–æ•°å­—&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span>é€‰æ‹©åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;education&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>å¤§ä¸“<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>æœ¬ç§‘<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>ç¡•å£«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>åšå£«<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>åšå£«å<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>QQ<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;qq&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>æ‰‹æœºå·<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;phone&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ä¾‹å¦‚:150XXXXX&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-right&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">&quot;modal&quot;</span>&gt;</span>å–æ¶ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">data-toggle</span>=<span class="hljs-string">&quot;modal&quot;</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">&quot;modal&quot;</span> <span class="hljs-attr">data-target</span>=<span class="hljs-string">&quot;#login&quot;</span>&gt;</span>å·²æœ‰è´¦å·ï¼Ÿç‚¹æˆ‘ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ³¨å†ŒæˆåŠŸ</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;success&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;modal fade&quot;</span> tabindex=<span class="hljs-string">&quot;-1&quot;</span>&gt;<br>    &lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;modal-dialog&quot;</span> style=<span class="hljs-string">&quot;width:450px&quot;</span>&gt;<br>        &lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;modal-content&quot;</span>&gt;<br>            &lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;modal-body&quot;</span>&gt;<br>                &lt;button <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;close&quot;</span> data-dismiss=<span class="hljs-string">&quot;modal&quot;</span>&gt;<br>                    &lt;span&gt;&amp;<span class="hljs-keyword">times</span>;&lt;/span&gt;<br>                &lt;/button&gt;<br>            &lt;/<span class="hljs-keyword">div</span>&gt;<br>            &lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;modal-title&quot;</span>&gt;<br>                &lt;h1 <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;text-center&quot;</span>&gt;æ³¨å†ŒæˆåŠŸ&lt;br&gt;<span class="hljs-number">3</span>ç§’åè·³è½¬åˆ°ç™»å½•ç•Œé¢&lt;/h1&gt;<br>            &lt;/<span class="hljs-keyword">div</span>&gt;<br>        &lt;/<span class="hljs-keyword">div</span>&gt;<br>    &lt;/<span class="hljs-keyword">div</span>&gt;<br>&lt;/<span class="hljs-keyword">div</span>&gt;<br></code></pre></td></tr></table></figure><p>ç™»å½•çª—å£</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;login&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal fade&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-dialog&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width:450px&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-content&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-body&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;close&quot;</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">&quot;modal&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-symbol">&amp;times;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-title&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-center&quot;</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-body&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span> <span class="hljs-attr">onsubmit</span>=<span class="hljs-string">&quot;return login();&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>ç”¨æˆ·å<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-group&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>å¯†ç <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-right&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">&quot;modal&quot;</span>&gt;</span>å–æ¶ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">data-toggle</span>=<span class="hljs-string">&quot;modal&quot;</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">&quot;modal&quot;</span> <span class="hljs-attr">data-target</span>=<span class="hljs-string">&quot;#register&quot;</span>&gt;</span>è¿˜æ²¡æœ‰è´¦å·ï¼Ÿç‚¹æˆ‘æ³¨å†Œ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Springæ—¥æœŸè½¬æ¢</title>
    <link href="/2018/05/30/2018-05-30-springdate/"/>
    <url>/2018/05/30/2018-05-30-springdate/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>åœ¨Controllerä¸­å¯¹è¡¨å•æäº¤çš„æ•°æ®è¿›è¡Œå¤„ç†æ—¶ï¼Œå¦‚æœpojoä¸­æœ‰Dateå±æ€§ï¼Œè½¬æ¢æ—¶éœ€è¦åšå¦‚ä¸‹å¤„ç†</p><p>æ–¹æ³•ä¸€ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DateController</span> </span>&#123;<br><br>    <span class="hljs-meta">@InitBinder</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-function"><span class="hljs-title">intDate</span>(<span class="hljs-params">WebDataBinder dataBinder</span>)</span>&#123;<br>        dataBinder.addCustomFormatter(<span class="hljs-keyword">new</span> DateFormatter(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>));<br>    &#125;<br><br>    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">&quot;test&quot;</span>)<br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-function"><span class="hljs-title">test</span>(<span class="hljs-params"> User date</span>)</span>&#123;<br>        System.out.println(date);<br>        <span class="hljs-keyword">return</span> date;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span></span>&#123;<br>  <span class="hljs-meta">@DateTimeFormat</span>(pattern=<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>)<br>  <span class="hljs-keyword">private</span> <span class="hljs-built_in">Date</span> birthday;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-built_in">Date</span> <span class="hljs-function"><span class="hljs-title">getBirthday</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-keyword">return</span> birthday;&#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-function"><span class="hljs-title">setBirthday</span>(<span class="hljs-params"><span class="hljs-built_in">Date</span> birthday</span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.birthday = birthday;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>SSM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AJAXå®ç°å°è£…JSONä¼ å€¼åˆ°Controller</title>
    <link href="/2018/05/30/2018-05-30-ajax-con/"/>
    <url>/2018/05/30/2018-05-30-ajax-con/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>ä¼ ç»Ÿçš„è¡¨å•ä¼ å€¼æ–¹å¼ï¼š<br>åœ¨formæ ‡ç­¾å†…å¡«å†™actionå±æ€§ï¼Œè¡¨å•æäº¤åˆ°ç›®æ ‡åœ°å€ï¼Œè¡¨å•å†…å„é¡¹idä¸pojoä¸€è‡´ï¼ŒSpringMVCå¯è‡ªåŠ¨å°è£…ä¸ºå®ä½“å‹ä¼ ç»™Controllerå¤„ç†ã€‚</p><p>AJAXä¼ å€¼æ–¹å¼ï¼š<br>åœ¨formæ ‡ç­¾å†…å¡«å†™onsubmit=â€æ–¹æ³•åâ€</p><p>ç„¶åfunctionå†™æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hhd</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">window</span>.event.returnValue = <span class="hljs-literal">false</span>;       <span class="hljs-comment">//ç¦æ­¢è¡¨å•æäº¤(åˆ·æ–°é¡µé¢)</span><br><br>    $.ajax(&#123;<br>      type:<span class="hljs-string">&#x27;POST&#x27;</span>,<br>      url:<span class="hljs-string">&#x27;User/Register&#x27;</span>,<br>      data:&#123;<span class="hljs-attr">jsondata</span>:getFormJson()&#125;,<br>      dataType:<span class="hljs-string">&#x27;json&#x27;</span>,<br>      contentType: <span class="hljs-string">&quot;application/x-www-form-urlencoded&quot;</span>,<br>      <span class="hljs-keyword">async</span>:<span class="hljs-literal">false</span>,<br>      success:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>&#123;<br><br>      &#125;,<br>      error:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>&#123;<br><br>      &#125;<br>    &#125;);<br>    <span class="hljs-built_in">setTimeout</span>(go,<span class="hljs-number">3000</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨getFormJson()æ–¹æ³•å°†è¡¨å•å†…ä¿¡æ¯å°è£…æˆJSONå­—ç¬¦ä¸²ï¼Œè¯¥æ–¹æ³•æ¯”è¾ƒç¬¨é‡â€¦</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-keyword">function</span> get<span class="hljs-constructor">FormJson()</span>&#123;<br>  jsonObj = &#123;&#125;;<br>  jsonObj.username=<span class="hljs-constructor">$(<span class="hljs-string">&quot;#lousername&quot;</span>)</span>.<span class="hljs-keyword">val</span><span class="hljs-literal">()</span>;<br>  jsonObj.gender=<span class="hljs-constructor">$(<span class="hljs-string">&quot;input[name=&#x27;optionsRadiosinline&#x27;]:checked&quot;</span>)</span>.<span class="hljs-keyword">val</span><span class="hljs-literal">()</span>;<br>  jsonObj.password = <span class="hljs-constructor">$(&#x27;#<span class="hljs-params">lopassword</span>&#x27;)</span>.<span class="hljs-keyword">val</span><span class="hljs-literal">()</span>;<br>  return <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">JSON</span>.</span></span>stringify(jsonObj);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥å°†è¡¨å•æ•°æ®ä»¥å­—ç¬¦ä¸²å½¢å¼ä¼ ç»™åç«¯<br>æ¥ä¸‹æ¥åœ¨Controllerä¸­å¯¹æ•°æ®è¿›è¡Œè§£æ</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">//æ³¨å†Œ</span><br>@<span class="hljs-constructor">RequestMapping(<span class="hljs-params">value</span> = <span class="hljs-string">&quot;/Register&quot;</span>, <span class="hljs-params">method</span> = RequestMethod.POST)</span><br>public void <span class="hljs-constructor">Register(@RequestParam(<span class="hljs-string">&quot;jsondata&quot;</span>)</span> String aa) throws UnsupportedEncodingException&#123;<br>  User user = (User) <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">JSONObject</span>.</span></span><span class="hljs-keyword">to</span><span class="hljs-constructor">Bean(JSONObject.<span class="hljs-params">fromObject</span>(<span class="hljs-params">aa</span>)</span>,<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span><span class="hljs-keyword">class</span>);  <br>  <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">UserService</span>.</span></span>add<span class="hljs-constructor">User(<span class="hljs-params">user</span>)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ ‡æ˜ä¼ å€¼æ–¹å¼ï¼Œå°†JSONè½¬ä¸ºPOJO</p><h2 id="é™„åŠ "><a href="#é™„åŠ " class="headerlink" title="é™„åŠ "></a>é™„åŠ </h2><p>æ™ºèƒ½æŸœé¡¹ç›®ä¸­çš„å¤„ç†</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;a <span class="hljs-attribute">href</span>=<span class="hljs-string">&quot;javascript:void(0);&quot;</span> <span class="hljs-attribute">onclick</span>=<span class="hljs-string">&quot;count()&quot;</span> <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;settlement&quot;</span>&gt;ç»“ç®—&lt;/a&gt;<br></code></pre></td></tr></table></figure><p>æ ‡ç­¾idä¸èƒ½å¸¦æ‚ä¸ƒæ‚å…«çš„ç¬¦å·â€¦å› ä¸ºåœ¨ELè¡¨è¾¾å¼ä¸­ä¸èƒ½è°ƒç”¨jså˜é‡ï¼Œé‡‡ç”¨cï¼šforEachéå†</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">function</span> count()&#123;<br>  //æ·»åŠ <span class="hljs-keyword">if</span>åˆ¤æ–­æ˜¯å¦é€‰ä¸­è¯¥å•†å“ï¼Œæœªé€‰ä¸­æ›´æ–°ä¸º<span class="hljs-number">0</span><br>  var up = <span class="hljs-built_in">new</span> <span class="hljs-keyword">Array</span>();<br>  &lt;c:<span class="hljs-keyword">forEach</span> items=&quot;$&#123;Goods&#125;&quot; var=&quot;good&quot; varStatus=&quot;status&quot;&gt;<br>    var test = <span class="hljs-built_in">new</span> <span class="hljs-keyword">Object</span>();var <span class="hljs-keyword">index</span> = $&#123;status.<span class="hljs-keyword">index</span>&#125;;<br>    test.id = $&#123;good.id&#125;;<br>    test.upnum = $(&quot;#listup&quot;+ <span class="hljs-keyword">index</span>).text();<br>    <span class="hljs-keyword">if</span>($(&quot;#check&quot;+<span class="hljs-keyword">index</span>).<span class="hljs-keyword">is</span>(<span class="hljs-string">&#x27;:checked&#x27;</span>)==<span class="hljs-keyword">false</span>)&#123;test.upnum=<span class="hljs-number">0</span>;&#125;<br>    up.push(test);<br>  &lt;/c:<span class="hljs-keyword">forEach</span>&gt;<br><br>  alert(<span class="hljs-type">JSON</span>.stringify(up));<br>  $.ajax(&#123;<br>    <span class="hljs-keyword">type</span>:<span class="hljs-string">&#x27;POST&#x27;</span>,<br>    url:<span class="hljs-string">&#x27;User/Count&#x27;</span>,<br>    data:&#123;uplist:<span class="hljs-type">JSON</span>.stringify(up)&#125;,<br>    contentType:&quot;application/x-www-form-urlencoded&quot;,<br>    success:<span class="hljs-keyword">function</span>(data)&#123;<br>      <span class="hljs-keyword">window</span>.<span class="hljs-keyword">location</span>.href=&quot;User/Pay?total=&quot;+<span class="hljs-type">JSON</span>.stringify($(&quot;#AllTotal&quot;).text());  <br>    &#125;<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure><p>å½“AJAXä¸æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ï¼Œå¯èƒ½çš„åŸå› ä¸ºï¼šä¼ é€æ•°æ®æ ¼å¼ä¸ç¬¦ï¼Œå›ä¼ æ•°æ®æ ¼å¼ä¸ç¬¦ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Echarts å…¥é—¨</title>
    <link href="/2018/05/25/2018-05-25-echarts/"/>
    <url>/2018/05/25/2018-05-25-echarts/</url>
    
    <content type="html"><![CDATA[<h2 id="é¡¹ç›®ä¸­çš„Echartsæ¡ˆä¾‹"><a href="#é¡¹ç›®ä¸­çš„Echartsæ¡ˆä¾‹" class="headerlink" title="é¡¹ç›®ä¸­çš„Echartsæ¡ˆä¾‹"></a>é¡¹ç›®ä¸­çš„Echartsæ¡ˆä¾‹</h2><p>ä¸€äº›è¾…åŠ©jså‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GetQueryString</span>(<span class="hljs-params">name</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">&quot;(^|&amp;)&quot;</span> + name + <span class="hljs-string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span>);<br>    <span class="hljs-keyword">var</span> r = <span class="hljs-built_in">window</span>.location.search.substr(<span class="hljs-number">1</span>).match(reg);<br>    <span class="hljs-keyword">if</span> (r != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">unescape</span>(r[<span class="hljs-number">2</span>]); <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bl</span>(<span class="hljs-params">s</span>)</span>&#123;<br><span class="hljs-keyword">return</span> s&lt;<span class="hljs-number">10</span>?<span class="hljs-string">&#x27;0&#x27;</span>+s:s;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¼•å…¥echartsæ‰€éœ€çš„æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;echarts-all.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;jquery.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>AJAXå¼‚æ­¥åŠ è½½æ•°æ®ï¼Œæ•°æ®ç”¨JSONæ ¼å¼ä¼ è¾“<br>é¡µé¢åŠ è½½å®Œåæ‰§è¡Œjså‡½æ•°</p><p>(optionæ˜¯echartsçš„é…ç½®é¡¹ï¼Œseriesæ˜¯ç³»åˆ—åˆ—è¡¨ï¼Œå¯è¡¨ç¤ºæœ‰å‡ ç»„æ•°æ®)</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;body onload=&quot;loadData()&quot;&gt;<br>&lt;div id=&quot;myLineDiv&quot; style=&quot;height: 400px; width: 800px;display:inline-block;&quot;&gt;&lt;/div&gt;<br><br>    &lt;script <span class="hljs-keyword">type</span>=&quot;text/javascript&quot;&gt;<br>    &lt;!<span class="hljs-comment">--è¿™ä¸ªæ˜¯æŠ˜çº¿å›¾--&gt;</span><br>    var bdate = GetQueryString(&quot;bdate&quot;);<br>    var edate = GetQueryString(&quot;edate&quot;);<br>    var id = GetQueryString(&quot;id&quot;);<br>    var category = GetQueryString(&quot;category&quot;);<br>    <span class="hljs-keyword">function</span> loadData(<span class="hljs-keyword">option</span>) &#123;<br>        $.ajax(&#123;<br>            <span class="hljs-keyword">type</span> : <span class="hljs-string">&#x27;post&#x27;</span>,  //ä¼ è¾“ç±»å‹<br>            async : <span class="hljs-keyword">false</span>,  //åŒæ­¥æ‰§è¡Œ<br>            url : <span class="hljs-string">&#x27;BarDao?bdate=&#x27;</span>+bdate+&quot;&amp;edate=&quot;+edate+&quot;&amp;id=&quot;+id+&quot;&amp;category=&quot;+category,   <br>            //data : &#123;&#125;,<br>            dataType : <span class="hljs-string">&#x27;json&#x27;</span>, //è¿”å›æ•°æ®å½¢å¼ä¸º<span class="hljs-type">json</span><br>            success : <span class="hljs-keyword">function</span>(result) &#123;<br>                <span class="hljs-keyword">if</span> (result) &#123;<br>                var str = result[<span class="hljs-number">0</span>].time.substring(<span class="hljs-number">0</span>,<span class="hljs-number">10</span>);<br>                str = <span class="hljs-built_in">new</span> <span class="hljs-type">Date</span>(str);   <br>                var now = str.getFullYear()+<span class="hljs-string">&#x27;/&#x27;</span>+(str.getMonth()+<span class="hljs-number">1</span>)+<span class="hljs-string">&#x27;/&#x27;</span>+str.getDate();<br>                var end = <span class="hljs-built_in">new</span> <span class="hljs-type">Date</span>(result[result.length<span class="hljs-number">-1</span>].time.substring(<span class="hljs-number">0</span>,<span class="hljs-number">10</span>));<br>                end = +<span class="hljs-keyword">end</span>+<span class="hljs-number">1000</span>*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>*<span class="hljs-number">24</span>;<br>                end = <span class="hljs-built_in">new</span> <span class="hljs-type">Date</span>(<span class="hljs-keyword">end</span>);<br><br>                var item2 = &#123;<br>                <span class="hljs-type">name</span>:now+<span class="hljs-string">&#x27; 00:00:00&#x27;</span>,<br>                <span class="hljs-keyword">value</span>:<span class="hljs-built_in">new</span> <span class="hljs-keyword">Array</span>(now+<span class="hljs-string">&#x27; 00:00:00&#x27;</span>,<span class="hljs-number">0</span>)<br>                &#125;;<br><br>                //now.setDate(now.getDate()+<span class="hljs-number">1</span>);<br>                var ss = <span class="hljs-keyword">end</span>.getFullYear()+&quot;-&quot;+(<span class="hljs-keyword">end</span>.getMonth()+<span class="hljs-number">1</span>)+&quot;-&quot;+<span class="hljs-keyword">end</span>.getDate();<br>                var item3 = &#123;<br>                <span class="hljs-type">name</span>:ss+<span class="hljs-string">&#x27; 00:00:00&#x27;</span>,<br>                <span class="hljs-keyword">value</span>:<span class="hljs-built_in">new</span> <span class="hljs-keyword">Array</span>(ss+<span class="hljs-string">&#x27; 00:00:00&#x27;</span>,<span class="hljs-number">0</span>)        //é€ ä¸€æ¡çš„æ°´å¹³çº¿<br><br>                &#125;;<br>                //alert(now+ss);<br>                <span class="hljs-keyword">option</span>.series[<span class="hljs-number">1</span>].data=[];<br>                <span class="hljs-keyword">option</span>.series[<span class="hljs-number">1</span>].data.push(item2);<br>                <span class="hljs-keyword">option</span>.series[<span class="hljs-number">1</span>].data.push(item3);           //åŠ å…¥æ°´å¹³çº¿<br><br>                <span class="hljs-keyword">option</span>.series[<span class="hljs-number">0</span>].data=[];<br>                <span class="hljs-keyword">for</span> (var i=<span class="hljs-number">0</span>; i&lt;result.length; i++) &#123;<br>                //alert(<span class="hljs-string">&#x27;mmp&#x27;</span>);<br>                    var item=&#123;<br>                    <span class="hljs-type">name</span>:result[i].time,<br>                    <span class="hljs-keyword">value</span>:<span class="hljs-built_in">new</span> <span class="hljs-keyword">Array</span>(result[i].time,result[i].data)<br>                    &#125;;<br>                    <span class="hljs-keyword">option</span>.series[<span class="hljs-number">0</span>].data.push(item);<br><br>                &#125;<br>                &#125;<br><br>            &#125;,<br>            error : <span class="hljs-keyword">function</span>(errorMsg) &#123;<br>                alert(&quot;åŠ è½½æ•°æ®å¤±è´¥&quot;);<br>            &#125;<br>        &#125;);//AJAX<br>    &#125;//loadData()<br><br>    var myChart = echarts.init(document.getElementById(<span class="hljs-string">&#x27;myLineDiv&#x27;</span>));<br>    var <span class="hljs-keyword">option</span> = &#123;<br>        title: &#123;<br>            <span class="hljs-type">text</span>: <span class="hljs-string">&#x27;å½“å¤©å¿ƒç‡&#x27;</span><br>        &#125;,<br>        tooltip: &#123;<br>            <span class="hljs-keyword">trigger</span>: <span class="hljs-string">&#x27;axis&#x27;</span>,<br>            formatter: <span class="hljs-keyword">function</span> (params) &#123;<br>                params = params[<span class="hljs-number">0</span>];<br>                var <span class="hljs-type">date</span> = <span class="hljs-built_in">new</span> <span class="hljs-type">Date</span>(params.name);<br><br>                <span class="hljs-keyword">return</span> bl(<span class="hljs-type">date</span>.getHours()) + <span class="hljs-string">&#x27;:&#x27;</span> + bl(<span class="hljs-type">date</span>.getMinutes())   + <span class="hljs-string">&#x27; - &#x27;</span> + params.<span class="hljs-keyword">value</span>[<span class="hljs-number">1</span>];<br>            &#125;,<br>            axisPointer: &#123;<br>                animation: <span class="hljs-keyword">false</span><br>            &#125;<br>        &#125;,    <br>        toolbox: &#123;<br>            <span class="hljs-keyword">show</span>: <span class="hljs-keyword">true</span>,<br>            feature: &#123;<br>                dataZoom: &#123;<br>                    yAxisIndex: <span class="hljs-string">&#x27;none&#x27;</span><br>                &#125;,<br>                dataView: &#123;readOnly: <span class="hljs-keyword">false</span>&#125;,<br>                magicType: &#123;<span class="hljs-keyword">type</span>: [<span class="hljs-string">&#x27;line&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>]&#125;,<br>                restore: &#123;&#125;,<br>                saveAsImage: &#123;&#125;<br>            &#125;<br>        &#125;,<br>        xAxis :  &#123;<br>            <span class="hljs-keyword">type</span> : <span class="hljs-string">&#x27;time&#x27;</span>,<br>            splitLine:&#123;<br>            <span class="hljs-keyword">show</span>:<span class="hljs-keyword">false</span><br>            &#125;<br>        &#125; ,<br>        yAxis :  &#123;<br>            <span class="hljs-keyword">type</span> : <span class="hljs-string">&#x27;value&#x27;</span>,<br>            boundaryGap:[<span class="hljs-number">0</span>,<span class="hljs-string">&#x27;100%&#x27;</span>],<br>            splitLine:&#123;<br>               <span class="hljs-keyword">show</span>:<span class="hljs-keyword">false</span><br>            &#125;<br>        &#125;,<br>        series : [&#123;        //å›¾è¡¨ç³»åˆ—<br>            <span class="hljs-type">name</span> : <span class="hljs-string">&#x27;å¿ƒç‡&#x27;</span>,<br>            <span class="hljs-keyword">type</span> : <span class="hljs-string">&#x27;line&#x27;</span>,<br>            showSymbol : <span class="hljs-keyword">false</span><br>        //data : data<br>        &#125;,<br>        &#123;<br>        <span class="hljs-type">name</span> : <span class="hljs-string">&#x27;ii&#x27;</span>,<br>        <span class="hljs-keyword">type</span> : <span class="hljs-string">&#x27;line&#x27;</span>,<br>        showSymbol : <span class="hljs-keyword">false</span>,<br>        itemStyle:&#123;normal:&#123;opacity:<span class="hljs-number">0</span>&#125;&#125;,<br>        lineStyle:&#123;normal:&#123;opacity:<span class="hljs-number">0</span>&#125;&#125;<br>        &#125;]<br>    &#125;;<br>    //åŠ è½½æ•°æ®åˆ°<span class="hljs-keyword">option</span><br>    loadData(<span class="hljs-keyword">option</span>);<br>    //è®¾ç½®<span class="hljs-keyword">option</span><br>    myChart.setOption(<span class="hljs-keyword">option</span>);<br>&lt;/script&gt;<br>&lt;/body&gt;<br></code></pre></td></tr></table></figure><p>Controlleré‡Œçš„BarDao</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@<span class="hljs-constructor">RequestMapping(<span class="hljs-string">&quot;BarDao&quot;</span>)</span><br>public @ResponseBody JSONArray <span class="hljs-constructor">BarDao(String <span class="hljs-params">bdate</span>,String <span class="hljs-params">edate</span>,String <span class="hljs-params">id</span>,String <span class="hljs-params">category</span>,Model <span class="hljs-params">model</span>)</span>&#123;<br>  String table = id+<span class="hljs-character">&#x27;_&#x27;</span>+category;;<br>  String barArr = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">BarService</span>.</span></span>queryby(table,category,bdate,edate);<br>  <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.print(barArr);<br>  JSONArray json = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">JSONArray</span>.</span></span>from<span class="hljs-constructor">Object(<span class="hljs-params">barArr</span>)</span>;<br>  return json;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è‡ªå®šä¹‰404é¡µé¢</title>
    <link href="/2018/05/23/2018-05-23-404/"/>
    <url>/2018/05/23/2018-05-23-404/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>ç¼–å†™web.xml</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-params">&lt;error-page&gt;</span><br>  <span class="hljs-params">&lt;error-code&gt;</span><span class="hljs-number">404</span><span class="hljs-params">&lt;/error-code&gt;</span><br>  <span class="hljs-params">&lt;location&gt;</span><span class="hljs-meta-keyword">/error/</span><span class="hljs-number">404.</span>html<span class="hljs-params">&lt;/location&gt;</span><br><span class="hljs-params">&lt;/error-page&gt;</span><br></code></pre></td></tr></table></figure><p>GG.</p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºè¡¨å•æäº¤çš„ä¸€äº›ç»†èŠ‚</title>
    <link href="/2018/05/23/2018-05-23-submit/"/>
    <url>/2018/05/23/2018-05-23-submit/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>èƒŒæ™¯ï¼šåœ¨å†™è¡¨å•æäº¤ä¿¡æ¯æ—¶ï¼Œé‡è§ä¸¤ç§ä¸åŒçš„æ–¹å¼ã€‚  </p><ol><li>ç”¨formçš„å½¢å¼ï¼Œæäº¤æŒ‰é’®è®¾ç½®ä¸ºinput submit/buttonç±»å‹ï¼Œåœ¨formæ ‡ç­¾ä¸‹å†™actionï¼Œç‚¹å‡»æ—¶è¡¨å•æäº¤ï¼Œæ‰§è¡Œactionã€‚  </li><li>ç”¨form/divçš„å½¢å¼ï¼Œæäº¤æŒ‰é’®ç”¨buttonç±»å‹(æœ‰åˆ«äºinput button)ï¼Œè®¾ç½®buttonçš„idï¼Œåœ¨javascriptæ·»åŠ å…¶onclickæ–¹æ³•ï¼Œä»¥domè·å–è¡¨å•ä¸­çš„æ•°æ®ï¼Œajaxå¼‚æ­¥å›ä¼ æ•°æ®ã€‚è¯¥æ–¹æ³•é€‚ç”¨äºç™»å½•æ—¶éœ€è¦å¤„ç†æ¯”å¯¹æ•°æ®åº“ä¸­æ•°æ®~  </li></ol><p>PSï¼šé‡åˆ°ajaxä¸æ‰§è¡Œå›è°ƒå‡½æ•°çš„æƒ…å†µï¼Œåœ¨ç½‘ä¸Šæ‰¾åˆ°åŸå› åŠè§£å†³æ–¹æ³•ã€‚  </p><p>åœ¨formè¡¨å•æäº¤æ—¶ï¼Œä¼šåˆ·æ–°é¡µé¢ï¼ŒéªŒè¯å°šæœªæˆåŠŸï¼Œå¯¼è‡´dataä¸¢å¤±ã€‚<br>å¦‚ä½•é˜»æ­¢è¡¨å•è‡ªåŠ¨åˆ·æ–°ï¼Ÿ  </p><ol><li>å°†<form>æ”¹ä¸º<div>  </li><li>åœ¨<form>ä¸­æ·»åŠ  onsubmit=â€return login();â€è€Œéåœ¨æŒ‰é’®ä¸­æ·»åŠ æ–¹æ³•ã€‚  </li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JSPè°ƒç”¨æœ¬åœ°å›¾ç‰‡</title>
    <link href="/2018/05/23/2018-05-23-jsp4jpg/"/>
    <url>/2018/05/23/2018-05-23-jsp4jpg/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>åœ¨åšç€‘å¸ƒæµæ—¶ï¼Œå­˜å‚¨å›¾ç‰‡åœ¨æœåŠ¡å™¨å†…éƒ¨æ—¶ï¼Œé‡å¯tomcatä¼šå¯¼è‡´æ–‡ä»¶ä¸¢å¤±ï¼Œå› è€Œéœ€è¦æŠŠå›¾ç‰‡å­˜åœ¨æœ¬åœ°è·¯å¾„ä¸‹ï¼Œäºæ˜¯åœ¨è®¿é—®æ—¶é‡åˆ°äº†é—®é¢˜ã€‚</p><p>å½“JSPä¸­éœ€è¦è®¿é—®æœ¬åœ°å›¾ç‰‡æ—¶ï¼Œæ™®é€šçš„è®¿é—®æ–¹å¼&lt;img src=â€D:/â€¦â€&gt;æ— æ³•å–åˆ°ï¼Œå› ä¸ºåœ¨é¡µé¢è§£ææ—¶ï¼Œè·¯å¾„æ˜¯ä»å½“å‰é¡¹ç›®å·¥ç¨‹ç›®å½•ä¸‹å¯»æ‰¾ï¼Œæ‰€ä»¥éœ€è¦é…ç½®è™šæ‹Ÿè·¯å¾„ã€‚</p><p>æ­¥éª¤ï¼š</p><p>1.è¿›åˆ°tomcatå®‰è£…ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°confæ–‡ä»¶å¤¹ä¸­çš„server.xmlæ–‡ä»¶</p><p>2.åœ¨eclipseä¸­è®¿é—®Serversä¸­tomcaté‡Œçš„server.xmlæ–‡ä»¶</p><p>3.åœ¨ä¸¤ä¸ªserver.xmlä¸­æ‰§è¡ŒåŒæ ·çš„æ“ä½œï¼Œåœ¨<host></host>é‡Œé¢åŠ å…¥å¦‚ä¸‹ä»£ç </p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;Context <span class="hljs-attribute">docBase</span>=<span class="hljs-string">&quot;D:\pubufiles\&quot; path=&quot;</span>/pubufiles&quot; <span class="hljs-attribute">reloadable</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;<br></code></pre></td></tr></table></figure><p><img src="/img/jsp4jpg1.jpg" alt="img"></p><p>å³å¯åœ¨JSPé¡µé¢å†…ï¼Œç›´æ¥é€šè¿‡/pubufilesè®¿é—®Dç›˜pubufilesä¸‹çš„å›¾ç‰‡äº†ã€‚<br><img src="/img/jsp4jpg2.jpg" alt="img"></p>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>htmlä¸­éšè—åŸŸhiddençš„ä½œç”¨</title>
    <link href="/2018/05/13/2018-05-13-hidden/"/>
    <url>/2018/05/13/2018-05-13-hidden/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¯¥ç¯‡å†…å®¹è½¬è½½è‡ª<a href="http://www.jb51.net/web/100210.html">http://www.jb51.net/web/100210.html</a></p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p><strong>åŸºæœ¬è¯­æ³•ï¼š</strong></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;input <span class="hljs-attribute">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;fieldï¼¿name&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-string">&quot;value&quot;</span>&gt;<br></code></pre></td></tr></table></figure><p><strong>ä½œç”¨ï¼š</strong></p><p>1 éšè—åŸŸåœ¨é¡µé¢ä¸­å¯¹äºç”¨æˆ·æ˜¯ä¸å¯è§çš„ï¼Œåœ¨è¡¨å•ä¸­æ’å…¥éšè—åŸŸçš„ç›®çš„åœ¨äºæ”¶é›†æˆ–å‘é€ä¿¡æ¯ï¼Œä»¥åˆ©äºè¢«å¤„ç†è¡¨å•çš„ç¨‹åºæ‰€ä½¿ç”¨ã€‚æµè§ˆè€…å•å‡»å‘é€æŒ‰é’®å‘é€è¡¨å•çš„æ—¶å€™ï¼Œéšè—åŸŸçš„ä¿¡æ¯ä¹Ÿè¢«ä¸€èµ·å‘é€åˆ°æœåŠ¡å™¨ã€‚</p><p>2 æœ‰äº›æ—¶å€™æˆ‘ä»¬è¦ç»™ç”¨æˆ·ä¸€ä¿¡æ¯ï¼Œè®©ä»–åœ¨æäº¤è¡¨å•æ—¶æäº¤ä¸Šæ¥ä»¥ç¡®å®šç”¨æˆ·èº«ä»½ï¼Œå¦‚sessionkeyï¼Œç­‰ç­‰ï¼å½“ç„¶è¿™äº›ä¸œè¥¿ä¹Ÿèƒ½ç”¨cookieå®ç°ï¼Œä½†ä½¿ç”¨éšè—åŸŸå°±ç®€å•çš„å¤šäº†ï¼è€Œä¸”ä¸ä¼šæœ‰æµè§ˆå™¨ä¸æ”¯æŒï¼Œç”¨æˆ·ç¦ç”¨cookieçš„çƒ¦æ¼ã€‚</p><p>3 æœ‰äº›æ—¶å€™ä¸€ä¸ªformé‡Œæœ‰å¤šä¸ªæäº¤æŒ‰é’®ï¼Œæ€æ ·ä½¿ç¨‹åºèƒ½å¤Ÿåˆ†æ¸…æ¥šåˆ°åº•ç”¨æˆ·æ˜¯æŒ‰é‚£ä¸€ä¸ªæŒ‰é’®æäº¤ä¸Šæ¥çš„å‘¢ï¼Ÿæˆ‘ä»¬å°±å¯ä»¥å†™ä¸€ä¸ªéšè—åŸŸï¼Œç„¶ååœ¨æ¯ä¸€ä¸ªæŒ‰é’®å¤„åŠ ä¸Šonclick=â€document.form.command.value=â€xxâ€â€ç„¶åæˆ‘ä»¬æ¥åˆ°æ•°æ®åå…ˆæ£€æŸ¥commandçš„å€¼å°±ä¼šçŸ¥é“ç”¨æˆ·æ˜¯æŒ‰çš„é‚£ä¸ªæŒ‰é’®æäº¤ä¸Šæ¥çš„ã€‚</p><p>4 æœ‰æ—¶å€™ä¸€ä¸ªç½‘é¡µä¸­æœ‰å¤šä¸ªformï¼Œæˆ‘ä»¬çŸ¥é“å¤šä¸ªformæ˜¯ä¸èƒ½åŒæ—¶æäº¤çš„ï¼Œä½†æœ‰æ—¶è¿™äº›formç¡®å®ç›¸äº’ä½œç”¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨formä¸­æ·»åŠ éšè—åŸŸæ¥ä½¿å®ƒä»¬è”ç³»èµ·æ¥ã€‚</p><p>5 javascriptä¸æ”¯æŒå…¨å±€å˜é‡ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬å¿…é¡»ç”¨å…¨å±€å˜é‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå€¼å…ˆå­˜åœ¨éšè—åŸŸé‡Œï¼Œå®ƒçš„å€¼å°±ä¸ä¼šä¸¢å¤±äº†ã€‚</p><p>6 è¿˜æœ‰ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æŒ‰ä¸€ä¸ªæŒ‰é’®å¼¹å‡ºå››ä¸ªå°çª—å£ï¼Œå½“ç‚¹å‡»å…¶ä¸­çš„ä¸€ä¸ªå°çª—å£æ—¶å…¶ä»–ä¸‰ä¸ªè‡ªåŠ¨å…³é—­ï¼å¯æ˜¯IEä¸æ”¯æŒå°çª—å£ç›¸äº’è°ƒç”¨ï¼Œæ‰€ä»¥åªæœ‰åœ¨çˆ¶çª—å£å†™ä¸ªéšè—åŸŸï¼Œå½“å°çª—å£çœ‹åˆ°é‚£ä¸ªéšè—åŸŸçš„å€¼æ˜¯closeæ—¶å°±è‡ªå·±å…³æ‰ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºmybatisçš„ä¸€äº›çŸ¥è¯†ç‚¹</title>
    <link href="/2018/05/13/2018-05-13-mybatis01/"/>
    <url>/2018/05/13/2018-05-13-mybatis01/</url>
    
    <content type="html"><![CDATA[<h2 id="å¼€ç¯‡"><a href="#å¼€ç¯‡" class="headerlink" title="å¼€ç¯‡"></a>å¼€ç¯‡</h2><p>åˆå¯ä»¥æ›´åšäº†ï¼Œçªç„¶æœ‰ç‚¹å¼€å§‹æ€è€ƒè‡ªå·±è¿™æ ·å¼„ä¸€ä¸ªåšå®¢çš„æ„ä¹‰æ‰€åœ¨ï¼Œå› ä¸ºè‡ªå·±çš„æ°´å¹³å®åœ¨æœ‰é™ï¼Œæƒ³å€Ÿæ­¤æ–¹å¼å¾—ä»¥æå‡ï¼Œç„¶è€Œä¹‹å‰å› ä¸ºä¸€äº›çŸ¥è¯†ç‚¹åœ¨ç½‘ä¸Šæœ‰å¾ˆä¼˜ç§€è®²è¿°ä»¥åŠæ—¶é—´çš„å› ç´ ï¼Œåšå®¢çš„å¤§éƒ¨åˆ†å†…å®¹éƒ½æ˜¯æ‹¼æ‹¼å‡‘å‡‘è€Œæˆï¼Œè™½ç„¶è‡ªå·±æœ‰å¯¹é‚£äº›å†…å®¹è¿›è¡Œè®¤çœŸçš„é˜…è¯»å’Œè®°å¿†ï¼Œä½†è¿˜æ˜¯æ„Ÿè§‰ä¸å¤ªåˆé€‚ï¼Œç¼ºå°‘äº†è‡ªå·±çš„æ€è€ƒå’Œæ€»ç»“ï¼Œæ‰€ä»¥ä¼šå°½åŠ›åœ¨æ¥ä¸‹æ¥çš„æ›´åšé‡Œå¤šä¸€ç‚¹è‡ªå·±çš„ä¸œè¥¿ï¼Œè€Œç½‘ä¸Šçš„æ–‡çŒ®ä¸ºè¾…ï¼Œå¾—ä»¥æ›´å¥½çš„è¿›æ­¥ã€‚  </p><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><p>è¯¥ç¯‡è®°å½•è‡ªå·±åœ¨ä¹‹å‰çš„é¡¹ç›®ç»ƒä¹ ä¸­é‡åˆ°çš„ä¸€äº›mybatisç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼ŒåŠ æ·±è‡ªå·±å¯¹è¿™ä¸ªæ¡†æ¶çš„è®¤çŸ¥ï¼Œç®€ç”±ä¸‰éƒ¨åˆ†æ„æˆã€‚</p><p>1.SqlSessionFactoryå’ŒSqlSessionä»‹ç»å’Œè¿ç”¨<br>2.resultmapå’Œresulttypeçš„åŒºåˆ«å’Œä½¿ç”¨<br>3.ä¼ é€’å‚æ•°çš„å¤šç§æ–¹å¼<br>4.parameterTypeçš„ç”¨æ³•  </p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>1.SqlSessionFactoryå’ŒSqlSessionä»‹ç»å’Œè¿ç”¨</p><p>åœ¨Springå’ŒMyBatisçš„ç»“åˆä¸­ï¼Œä½¿ç”¨SqlSessionFactoryBeanä»£æ›¿åŸå…ˆçš„SqlSessionBuilderåˆ›å»ºSqlSessionFactoryã€‚<br>åŸå…ˆè¦åœ¨Daoå±‚ä¸­æ–°å»ºSqlSeesionæ¥è°ƒç”¨Sqlè¯­å¥ï¼Œç°åœ¨åªéœ€è¦ä½¿ç”¨å¦‚ä¸‹é…ç½®å³å¯è‡ªåŠ¨å®Œæˆæ“ä½œï¼Œé…ç½®ä¸­ä»¥æœ‰è¯¦ç»†æ³¨é‡Šã€‚  </p><p>åœ¨Spring-mybatis.xmlä¸­è¿›è¡Œé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- springå’ŒMyBatiså®Œç¾æ•´åˆï¼Œä¸éœ€è¦mybatisçš„é…ç½®æ˜ å°„æ–‡ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br>  <span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«æmapping.xmlæ–‡ä»¶  + mybatis æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ä¸pagehelperæœ‰å…³--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;mapperLocations&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:com/mapping/*.xml&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;configLocation&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:sqlConfig.xml&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- DAOæ¥å£æ‰€åœ¨åŒ…åï¼ŒSpringä¼šè‡ªåŠ¨æŸ¥æ‰¾å…¶ä¸‹çš„ç±» --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;basePackage&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.IDao&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sqlSessionFactoryBeanName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>sqlConfig.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">configuration</span></span><br><span class="hljs-meta">  <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">  <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- é…ç½®åˆ†é¡µæ’ä»¶ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">&quot;com.github.pagehelper.PageHelper&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- è®¾ç½®æ•°æ®åº“ç±»å‹Oracle,Mysql,MariaDB,SQLite,Hsqldb,PostgreSQLå…­ç§æ•°æ®åº“--&gt;</span>       <br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dialect&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mysql&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>3.resultmapå’Œresulttypeçš„åŒºåˆ«å’Œä½¿ç”¨</p><p>è™½ç„¶Daoï¼ŒMapperï¼ŒPojoæ˜¯ç”±MyBatis Generatorè‡ªåŠ¨åˆ›å»ºçš„ï¼Œä½†è¿˜æ˜¯ä¼šæ‰‹åŠ¨åœ¨Mapper.xmlä¸­æ·»åŠ ä¸€äº›æ“ä½œï¼Œæ‰€ä»¥ç®€å•è®²è¿°ä¸€ä¸‹å…¶ä¸­çš„ä¸€äº›å°ç»†èŠ‚ã€‚<br>resultTypeï¼šæŸ¥è¯¢çš„ç»“æœå¯¹åº”ç›¸åº”çš„pojoä¸­çš„å­—æ®µï¼Œæœ€é€‚ç”¨äºå•è¡¨æŸ¥è¯¢ã€‚<br>resultMapï¼š æ•°æ®åº“è¡¨ä¸­çš„å­—æ®µå’Œpojoä¸å¯¹åº”æ—¶ä½¿ç”¨ï¼Œä½¿ç”¨æ—¶éœ€è¦å®šä¹‰resultMapã€‚</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;resultMap <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;BaseResultMap&quot;</span> type=<span class="hljs-string">&quot;com.domain.Person&quot;</span> &gt;<br>  &lt;<span class="hljs-built_in">id</span> column=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;id&quot;</span> jdbcType=<span class="hljs-string">&quot;INTEGER&quot;</span> /&gt;<br>  &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;ip&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;ip&quot;</span> jdbcType=<span class="hljs-string">&quot;VARCHAR&quot;</span> /&gt;<br>  &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;name&quot;</span> jdbcType=<span class="hljs-string">&quot;VARCHAR&quot;</span> /&gt;<br>  ...<br>&lt;/resultMap&gt;<br></code></pre></td></tr></table></figure><p>åœ¨ä¸€å¯¹ä¸€è¡¨è¿æ¥æ—¶ï¼Œé€šå¸¸åœ¨ä¸»è¡¨pojoä¸­åµŒå¥—å¦ä¸€ä¸ªè¡¨çš„pojoï¼Œç„¶ååœ¨mapper.xmlä¸­é‡‡ç”¨associationèŠ‚ç‚¹å…ƒç´ å¯¹å¦ä¸€ä¸ªè¡¨è¿æ¥å¤„ç†</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è®¢å•æŸ¥è¯¢å…³è”ç”¨æˆ·çš„resultMap  </span><br><span class="hljs-comment">    å°†æ•´ä¸ªæŸ¥è¯¢çš„ç»“æœæ˜ å°„åˆ°cn.itcast.mybatis.po.Ordersä¸­  </span><br><span class="hljs-comment">     --&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;cn.itcast.mybatis.po.Orders&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;OrdersUserResultMap&quot;</span>&gt;</span>  <br>        <span class="hljs-comment">&lt;!-- é…ç½®æ˜ å°„çš„è®¢å•ä¿¡æ¯ --&gt;</span>  <br>        <span class="hljs-comment">&lt;!-- idï¼šæŒ‡å®šæŸ¥è¯¢åˆ—ä¸­çš„å”¯ ä¸€æ ‡è¯†ï¼Œè®¢å•ä¿¡æ¯çš„ä¸­çš„å”¯ ä¸€æ ‡è¯†ï¼Œå¦‚æœæœ‰å¤šä¸ªåˆ—ç»„æˆå”¯ä¸€æ ‡è¯†ï¼Œé…ç½®å¤šä¸ªid  </span><br><span class="hljs-comment">            columnï¼šè®¢å•ä¿¡æ¯çš„å”¯ ä¸€æ ‡è¯† åˆ—  </span><br><span class="hljs-comment">            propertyï¼šè®¢å•ä¿¡æ¯çš„å”¯ ä¸€æ ‡è¯† åˆ—æ‰€æ˜ å°„åˆ°Ordersä¸­å“ªä¸ªå±æ€§  </span><br><span class="hljs-comment">          --&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;user_id&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;userId&quot;</span>/&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;number&quot;</span>/&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;createtime&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;createtime&quot;</span>/&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;note&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">note/</span>&gt;</span>  <br><br>        <span class="hljs-comment">&lt;!-- é…ç½®æ˜ å°„çš„å…³è”çš„ç”¨æˆ·ä¿¡æ¯ --&gt;</span>  <br>        <span class="hljs-comment">&lt;!-- associationï¼šç”¨äºæ˜ å°„å…³è”æŸ¥è¯¢å•ä¸ªå¯¹è±¡çš„ä¿¡æ¯  </span><br><span class="hljs-comment">        propertyï¼šè¦å°†å…³è”æŸ¥è¯¢çš„ç”¨æˆ·ä¿¡æ¯æ˜ å°„åˆ°Ordersä¸­å“ªä¸ªå±æ€§  </span><br><span class="hljs-comment">         --&gt;</span>  <br>        <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;user&quot;</span>  <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;cn.itcast.mybatis.po.User&quot;</span>&gt;</span>  <br>            <span class="hljs-comment">&lt;!-- idï¼šå…³è”æŸ¥è¯¢ç”¨æˆ·çš„å”¯ ä¸€æ ‡è¯†  </span><br><span class="hljs-comment">            columnï¼šæŒ‡å®šå”¯ ä¸€æ ‡è¯†ç”¨æˆ·ä¿¡æ¯çš„åˆ—  </span><br><span class="hljs-comment">            javaTypeï¼šæ˜ å°„åˆ°userçš„å“ªä¸ªå±æ€§  </span><br><span class="hljs-comment">             --&gt;</span>  <br>            <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;user_id&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span>  <br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;username&quot;</span>/&gt;</span>  <br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sex&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;sex&quot;</span>/&gt;</span>  <br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;address&quot;</span>/&gt;</span>  <br><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">association</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span>  <br></code></pre></td></tr></table></figure><p>åœ¨ä¸€å¯¹å¤šçš„è¿æ¥æ–¹å¼ä¸­ï¼Œå¦‚è®¢å•è¡¨å’Œè®¢å•æ˜ç»†è¡¨ä¸€å¯¹å¤šï¼Œä¸ºé¿å…å‡ºç°é‡å¤ï¼Œåœ¨è®¢å•è¡¨æ•°æ®çš„pojoä¸­æ·»åŠ ä¸€ä¸ªlistï¼Œlistä¸­ä¸ºè®¢å•æ˜ç»†è¡¨çš„å±æ€§ï¼Œåœ¨mapper.xmlä¸­å¦‚ä¸‹å¤„ç†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript">!-- è®¢å•åŠè®¢å•æ˜ç»†çš„resultMap  <br>    ä½¿ç”¨<span class="hljs-keyword">extends</span>ç»§æ‰¿ï¼Œä¸ç”¨åœ¨ä¸­é…ç½®è®¢å•ä¿¡æ¯å’Œç”¨æˆ·ä¿¡æ¯çš„æ˜ å°„  <br>     --&gt;  <br>    &lt;resultMap type=<span class="hljs-string">&quot;cn.itcast.mybatis.po.Orders&quot;</span> id=<span class="hljs-string">&quot;OrdersAndOrderDetailResultMap&quot;</span> <span class="hljs-keyword">extends</span>=<span class="hljs-string">&quot;OrdersUserResultMap&quot;</span>&gt;  <br>        &lt;!-- è®¢å•ä¿¡æ¯ --&gt;  <br>        &lt;!-- ç”¨æˆ·ä¿¡æ¯ --&gt;  <br>        &lt;!-- ä½¿ç”¨<span class="hljs-keyword">extends</span>ç»§æ‰¿ï¼Œä¸ç”¨åœ¨ä¸­é…ç½®è®¢å•ä¿¡æ¯å’Œç”¨æˆ·ä¿¡æ¯çš„æ˜ å°„ --&gt;  <br>        &lt;!-- è®¢å•æ˜ç»†ä¿¡æ¯  <br>        ä¸€ä¸ªè®¢å•å…³è”æŸ¥è¯¢å‡ºäº†å¤šæ¡æ˜ç»†ï¼Œè¦ä½¿ç”¨collectionè¿›è¡Œæ˜ å°„  <br>        collectionï¼šå¯¹å…³è”æŸ¥è¯¢åˆ°å¤šæ¡è®°å½•æ˜ å°„åˆ°é›†åˆå¯¹è±¡ä¸­  <br>        propertyï¼šå°†å…³è”æŸ¥è¯¢åˆ°å¤šæ¡è®°å½•æ˜ å°„åˆ°cn.itcast.mybatis.po.Orderså“ªä¸ªå±æ€§  <br>        ofTypeï¼šæŒ‡å®šæ˜ å°„åˆ°listé›†åˆå±æ€§ä¸­pojoçš„ç±»å‹  <br>         --&gt;  <br>         &lt;collection property=<span class="hljs-string">&quot;orderdetails&quot;</span> ofType=<span class="hljs-string">&quot;cn.itcast.mybatis.po.Orderdetail&quot;</span>&gt;  <br>            &lt;!-- idï¼šè®¢å•æ˜ç»†å”¯ ä¸€æ ‡è¯†  <br>            property:è¦å°†è®¢å•æ˜ç»†çš„å”¯ ä¸€æ ‡è¯† æ˜ å°„åˆ°cn.itcast.mybatis.po.Orderdetailçš„å“ªä¸ªå±æ€§  <br>              --&gt;  <br>            &lt;id column=<span class="hljs-string">&quot;orderdetail_id&quot;</span> property=<span class="hljs-string">&quot;id&quot;</span>/&gt;  <br>            &lt;result column=<span class="hljs-string">&quot;items_id&quot;</span> property=<span class="hljs-string">&quot;itemsId&quot;</span>/&gt;  <br>            &lt;result column=<span class="hljs-string">&quot;items_num&quot;</span> property=<span class="hljs-string">&quot;itemsNum&quot;</span>/&gt;  <br>            &lt;result column=<span class="hljs-string">&quot;orders_id&quot;</span> property=<span class="hljs-string">&quot;ordersId&quot;</span>/&gt;  <br>         &lt;/collection&gt;  <br>    &lt;/resultMap&gt;  <br></code></pre></td></tr></table></figure><p>3.Mapperä¼ é€’å‚æ•°<br>å¯¹äºå¤æ‚çš„æŸ¥è¯¢ï¼Œéœ€è¦ä¼ é€’å‚æ•°æ—¶ï¼Œå¯é‡‡ç”¨ä¸‹é¢ä¸¤ç§æ–¹å¼<br>ç¬¬ä¸€ç§ï¼šé€‚ç”¨äºå‚æ•°&lt;=5æ—¶ï¼Œ@Paramæ³¨è§£</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-built_in">public</span> List&lt;<span class="hljs-keyword">Role</span>&gt; findA(@Param(&quot;roleName&quot;)String roleName,@Param(&quot;note&quot;)String note);//æ¥å£  <br><br>&lt;<span class="hljs-keyword">select</span> id=&quot;findA&quot; resultMap=&quot;roleMap&quot;&gt;  <br>    <span class="hljs-keyword">SELECT</span>  <br>    id,role_name,note <span class="hljs-keyword">FROM</span> t_role  <br>    <span class="hljs-keyword">WHERE</span> role_name <span class="hljs-keyword">like</span> concat  <br>    (<span class="hljs-string">&#x27;%&#x27;</span>,#&#123;roleName&#125;,<span class="hljs-string">&#x27;%&#x27;</span>)  <br>    <span class="hljs-keyword">and</span> note <span class="hljs-keyword">like</span> concat(<span class="hljs-string">&#x27;%&#x27;</span>,#&#123;note&#125;,<span class="hljs-string">&#x27;%&#x27;</span>)  <br>&lt;/<span class="hljs-keyword">select</span>&gt;<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒç§ï¼šå‚æ•°&gt;=5æ—¶å»ºè®®ç”¨JavaBean</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs arduino">&lt;select id=<span class="hljs-string">&quot;findA&quot;</span> parametertype=<span class="hljs-string">&quot;com.learn.params.RoleParam&quot;</span> resultMap=<span class="hljs-string">&quot;roleMap&quot;</span>&gt;  <br>    SELECT  <br>    id,role_name,note FROM t_role  <br>    WHERE role_name like concat  <br>    (<span class="hljs-string">&#x27;%&#x27;</span>,#&#123;roleName&#125;,<span class="hljs-string">&#x27;%&#x27;</span>)  <br>    <span class="hljs-keyword">and</span> note like <span class="hljs-built_in">concat</span>(<span class="hljs-string">&#x27;%&#x27;</span>,#&#123;note&#125;,<span class="hljs-string">&#x27;%&#x27;</span>)  <br>&lt;/select&gt;  <br><br><span class="hljs-keyword">public</span> List&lt;Role&gt; <span class="hljs-built_in">findA</span>(RoleParam roleParam);<span class="hljs-comment">//æ¥å£  </span><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RoleParam</span> &#123;</span>  <br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span> roleName;  <br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span> note;  <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">String</span> <span class="hljs-title">getRoleName</span><span class="hljs-params">()</span> </span>&#123;  <br>        <span class="hljs-keyword">return</span> roleName;  <br>    &#125;  <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">String</span> <span class="hljs-title">getNote</span><span class="hljs-params">()</span> </span>&#123;  <br>        <span class="hljs-keyword">return</span> note;  <br>    &#125;  <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setRoleName</span><span class="hljs-params">(<span class="hljs-keyword">String</span> roleName)</span> </span>&#123;  <br>        <span class="hljs-keyword">this</span>.roleName = roleName;  <br>    &#125;  <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setNote</span><span class="hljs-params">(<span class="hljs-keyword">String</span> note)</span> </span>&#123;  <br>        <span class="hljs-keyword">this</span>.note = note;  <br>    &#125;  <br>&#125;  <br></code></pre></td></tr></table></figure><p>parameterTypeä¸ºè¾“å…¥å‚æ•°ï¼Œåœ¨é…ç½®çš„æ—¶å€™ï¼Œé…ç½®ç›¸åº”çš„è¾“å…¥å‚æ•°ç±»å‹å³å¯<br><strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>ï¼šåŒ…å«int,String,Dateç­‰ã€‚<br>é€šè¿‡#{å‚æ•°å}ï¼Œåªèƒ½ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼›é€šè¿‡#{0}ã€#{1}â€¦â€¦ç´¢å¼•æ–¹å¼ï¼Œå¯ä»¥ä¼ å…¥å¤šä¸ªå‚æ•°ï¼›å¦‚æœé€šè¿‡#{å‚æ•°å}ä¼ å¤šä¸ªå€¼ï¼Œåˆä¸æƒ³ä½¿ç”¨ç´¢å¼•æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨@param()æ³¨è§£ã€‚<br><strong>å¤æ‚æ•°æ®ç±»å‹</strong>ï¼šåŒ…å«JAVAå®ä½“ç±»ã€Mapã€‚<br>é€šè¿‡#{å±æ€§å}æˆ–#{mapçš„KeyName}å³å¯è·å–ä¼ å…¥çš„å€¼ã€‚</p><p><strong>å…³äº#{}ä¸${}çš„åŒºåˆ«</strong></p><p>1.#{}æ‹¿åˆ°å€¼ä¹‹åï¼Œæ‹¼è£…sqlï¼Œä¼šè‡ªåŠ¨å¯¹å€¼æ·»åŠ å¼•å·â€ ï¼Œæ¨èä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå› ä¸ºå®ƒèƒ½å¾ˆå¤§ç¨‹åº¦åœ°é˜²æ­¢sqlæ³¨å…¥ã€‚<br>2.${}åˆ™æŠŠæ‹¿åˆ°çš„å€¼ç›´æ¥æ‹¼è£…è¿›sqlï¼Œå¦‚æœéœ€è¦åŠ å•å¼•å·â€ï¼Œå¿…é¡»æ‰‹åŠ¨æ·»åŠ ï¼Œä¸€èˆ¬ç”¨äºåŠ¨æ€ä¼ å…¥è¡¨åæˆ–å­—æ®µåä½¿ç”¨ï¼ŒåŒæ—¶éœ€è¦æ·»åŠ å±æ€§statementType=â€STATEMENTâ€ï¼Œä½¿ç”¨éé¢„ç¼–è¯‘æ¨¡å¼ã€‚å¯ç”¨äºå¯¹è¡¨åçš„ä¼ å‚ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢„å¤‡å°çŸ¥è¯†</title>
    <link href="/2018/05/01/2018-05-01-front/"/>
    <url>/2018/05/01/2018-05-01-front/</url>
    
    <content type="html"><![CDATA[<h2 id="JSåŒæ­¥å’Œå¼‚æ­¥"><a href="#JSåŒæ­¥å’Œå¼‚æ­¥" class="headerlink" title="JSåŒæ­¥å’Œå¼‚æ­¥"></a>JSåŒæ­¥å’Œå¼‚æ­¥</h2><p>Javascriptè¯­è¨€çš„æ‰§è¡Œç¯å¢ƒæ˜¯â€å•çº¿ç¨‹â€ï¼ˆsingle threadï¼‰ã€‚<br>æ‰€è°“â€å•çº¿ç¨‹â€ï¼Œå°±æ˜¯æŒ‡ä¸€æ¬¡åªèƒ½å®Œæˆä¸€ä»¶ä»»åŠ¡ã€‚å¦‚æœæœ‰å¤šä¸ªä»»åŠ¡ï¼Œå°±å¿…é¡»æ’é˜Ÿï¼Œå‰é¢ä¸€ä¸ªä»»åŠ¡å®Œæˆï¼Œå†æ‰§è¡Œåé¢ä¸€ä¸ªä»»åŠ¡ï¼Œä»¥æ­¤ç±»æ¨ã€‚    </p><p>è¿™ç§æ¨¡å¼çš„å¥½å¤„æ˜¯å®ç°èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œæ‰§è¡Œç¯å¢ƒç›¸å¯¹å•çº¯ï¼›åå¤„æ˜¯åªè¦æœ‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œåé¢çš„ä»»åŠ¡éƒ½å¿…é¡»æ’é˜Ÿç­‰ç€ï¼Œä¼šæ‹–å»¶æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œã€‚å¸¸è§çš„æµè§ˆå™¨æ— å“åº”ï¼ˆå‡æ­»ï¼‰ï¼Œå¾€å¾€å°±æ˜¯å› ä¸ºæŸä¸€æ®µJavascriptä»£ç é•¿æ—¶é—´è¿è¡Œï¼ˆæ¯”å¦‚æ­»å¾ªç¯ï¼‰ï¼Œå¯¼è‡´æ•´ä¸ªé¡µé¢å¡åœ¨è¿™ä¸ªåœ°æ–¹ï¼Œå…¶ä»–ä»»åŠ¡æ— æ³•æ‰§è¡Œã€‚  </p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJavascriptè¯­è¨€å°†ä»»åŠ¡çš„æ‰§è¡Œæ¨¡å¼åˆ†æˆä¸¤ç§ï¼šåŒæ­¥ï¼ˆSynchronousï¼‰å’Œå¼‚æ­¥ï¼ˆAsynchronousï¼‰ã€‚<br>â€œå¼‚æ­¥æ¨¡å¼â€ç¼–ç¨‹çš„4ç§æ–¹æ³•<br>ä¸€ã€å›è°ƒå‡½æ•°  </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f1</span>(<span class="hljs-params">callback</span>)</span>&#123;<br><br>ã€€ã€€ã€€ã€€<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br><br>ã€€ã€€ã€€ã€€ã€€ã€€<span class="hljs-comment">// f1çš„ä»»åŠ¡ä»£ç </span><br><br>ã€€ã€€ã€€ã€€ã€€ã€€callback();<br><br>ã€€ã€€ã€€ã€€&#125;, <span class="hljs-number">1000</span>);<br><br>ã€€ã€€&#125;<br></code></pre></td></tr></table></figure><p>äºŒã€äº‹ä»¶ç›‘å¬<br>ä¸‰ã€å‘å¸ƒ/è®¢é˜…<br>å››ã€Promiseså¯¹è±¡</p><h2 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h2><p>æ˜¯ä¸€å¥—å°è£…JSçš„æ¡†æ¶ï¼Œå°±æ˜¯ç”¨JSæ›´åŠ æ–¹ä¾¿çš„æŸ¥è¯¢å’Œæ§åˆ¶é¡µé¢æ§ä»¶ã€‚<br>å®ƒæ”¯æŒJSçš„å¸¸è§„æ“ä½œä»¥åŠä¸€äº›æ‰©å±•ï¼Œæ¯”å¦‚å›¾å½¢ç­‰ï¼Œå¯¹JSONæ ¼å¼ä¹Ÿèƒ½å¾ˆå¥½çš„è§£æï¼Œajaxä¹Ÿåšäº†å°è£…ï¼Œè¯­æ³•ä¹Ÿæ¯”è¾ƒç®€å•ã€‚å¾ˆå¼ºå¤§ã€‚</p><p>å¯¹æ¯”ï¼š</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">JS:</span>       document.getElementByID(<span class="hljs-string">&quot;control_id&quot;</span>)<br><span class="hljs-symbol">jQuery:</span>   $(<span class="hljs-string">&quot;control_id&quot;</span>)<br></code></pre></td></tr></table></figure><p>jQueryä¼˜åŠ¿~</p><p>1).è½»é‡çº§<br>2).å¼ºå¤§çš„é€‰æ‹©å™¨<br>3).å‡ºè‰²çš„DOMæ“ä½œå°è£…<br>4).å¯é çš„äº‹ä»¶å¤„ç†æœºåˆ¶<br>5).å‡ºè‰²çš„æµè§ˆå™¨å…¼å®¹æ€§<br>6).å®Œå–„çš„Ajaxæ”¯æŒ<br>7).å‡ºè‰²çš„æµè§ˆå™¨å…¼å®¹æ€§ç­‰<br>8).jQueryç†å¿µï¼šå†™çš„å°‘ï¼Œåšçš„å¤š</p><h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><p>å¼‚æ­¥çš„JS+XMLï¼Œå¯ä»¥å®ç°åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹å¯¹é¡µé¢æŸéƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚<br>ï¼åŒæ­¥äº¤äº’ï¼šå°±æ˜¯æœ€å¸¸è§çš„click-refreshæ¨¡å¼ï¼Œç‚¹ä¸€ä¸ªè¿æ¥æˆ–æäº¤ä¸€ä¸ªè¡¨å•ï¼Œç„¶åå°±å¿…é¡»é‡è½½æ•´ä¸ªé¡µé¢<br>ï¼å¼‚æ­¥äº¤äº’ï¼šæäº¤è¯·æ±‚è¿”å›å¯¹è±¡æ˜¯ä¸å¯è§çš„å±‚ï¼Œé€šè¿‡javascriptsæ ¹æ®è¿”å›æ•°æ®ï¼Œä¸åˆ·æ–°é¡µé¢è€Œæ”¹å˜å½“å‰é¡µé¢çš„æ˜¾ç¤ºï¼Œä¾‹å¦‚ï¼šæ–°æµªå¾®åšï¼Œç™¾åº¦åœ°å›¾</p><p>çœç•¥å¸¸è§„JSç”¨æ³• <a href="https://blog.csdn.net/akkzhjj/article/details/17421497/">(äº”æ­¥ï¼Œä½¿ç”¨XMLHTTPRequestå¯¹è±¡å¼‚æ­¥äº¤äº’å®¢æˆ·ç«¯)</a></p><p>ajax()æ–¹æ³•é€šè¿‡HTTPè¯·æ±‚åŠ è½½è¿œç¨‹æ•°æ®ã€‚<br>è¯¥æ–¹æ³•æ˜¯jQueryåº•å±‚AJAXå®ç°ã€‚<a href="https://www.cnblogs.com/tylerdonet/p/3520862.html">å‚æ•°è¯¦è§£ç‚¹è¿™é‡Œ~</a></p><p>æ¡ˆä¾‹ä»£ç ï¼š</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs arcade">$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>    $(<span class="hljs-string">&#x27;#send&#x27;</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>         $.ajax(&#123;<br>             type: <span class="hljs-string">&quot;GET&quot;</span>,<br>             url: <span class="hljs-string">&quot;test.json&quot;</span>,<br>             data: &#123;<span class="hljs-attr">username</span>:$(<span class="hljs-string">&quot;#username&quot;</span>).val(), <span class="hljs-attr">content</span>:$(<span class="hljs-string">&quot;#content&quot;</span>).val()&#125;,<br>             dataType: <span class="hljs-string">&quot;json&quot;</span>,<br>             success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>&#123;<br>                         $(<span class="hljs-string">&#x27;#resText&#x27;</span>).empty();   <span class="hljs-comment">//æ¸…ç©ºresTexté‡Œé¢çš„æ‰€æœ‰å†…å®¹</span><br>                         <span class="hljs-keyword">var</span> html = <span class="hljs-string">&#x27;&#x27;</span>;<br>                         $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">commentIndex, comment</span>)</span>&#123;<br>                               html += <span class="hljs-string">&#x27;&lt;div class=&quot;comment&quot;&gt;&lt;h6&gt;&#x27;</span> + comment[<span class="hljs-string">&#x27;username&#x27;</span>]<br>                                         + <span class="hljs-string">&#x27;:&lt;/h6&gt;&lt;p class=&quot;para&quot;&#x27;</span> + comment[<span class="hljs-string">&#x27;content&#x27;</span>]<br>                                         + <span class="hljs-string">&#x27;&lt;/p&gt;&lt;/div&gt;&#x27;</span>;<br>                         &#125;);<br>                         $(<span class="hljs-string">&#x27;#resText&#x27;</span>).html(html);<br>                      &#125;<br>         &#125;);<br>    &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p>JavaScript å¯¹è±¡è¡¨ç¤ºæ³•ï¼ˆJavaScript Object Notationï¼‰ï¼Œæ˜¯å­˜å‚¨å’Œäº¤æ¢æ–‡æœ¬ä¿¡æ¯çš„è¯­æ³•ã€‚ç±»ä¼¼ XMLï¼Œå®ƒæ¯”XML æ›´å°ã€æ›´å¿«ï¼Œæ›´æ˜“è§£æã€‚  </p><p>JSON é”®å€¼å¯¹æ˜¯ç”¨æ¥ä¿å­˜ JS å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œå’Œ JS å¯¹è±¡çš„å†™æ³•ä¹Ÿå¤§åŒå°å¼‚ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å· â€œâ€ åŒ…è£¹ï¼Œä½¿ç”¨å†’å· : åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ï¼š<br>{â€œfirstNameâ€: â€œJsonâ€}<br>è¿™å¾ˆå®¹æ˜“ç†è§£ï¼Œç­‰ä»·äºè¿™æ¡ JavaScript è¯­å¥ï¼š<br>{firstName : â€œJsonâ€}  </p><p><a href="https://blog.csdn.net/xujie3/article/details/52954940">JSæ“ä½œJSONå¸¸ç”¨æ–¹æ³•~</a></p><h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><p>DOMå¯ä»¥çœ‹åšèŠ‚ç‚¹ï¼Œé€šè¿‡DOMå¯ä»¥æ”¹å˜ç½‘é¡µã€‚<a href="https://www.zhihu.com/question/34219998/answer/58211568">è¯¦è¯·ç‚¹å‡»</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äº$(function() {})</title>
    <link href="/2018/04/28/2018-04-28-jqready/"/>
    <url>/2018/04/28/2018-04-28-jqready/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–‡æ¡£å°±ç»ªå‡½æ•°"><a href="#æ–‡æ¡£å°±ç»ªå‡½æ•°" class="headerlink" title="æ–‡æ¡£å°±ç»ªå‡½æ•°"></a>æ–‡æ¡£å°±ç»ªå‡½æ•°</h2><p>æ‰€æœ‰ jQuery å‡½æ•°ä½äºä¸€ä¸ª document ready å‡½æ•°ä¸­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br><br>--- jQuery functions go here ----<br><br>&#125;);<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸ºäº†é˜²æ­¢æ–‡æ¡£åœ¨å®Œå…¨åŠ è½½ï¼ˆå°±ç»ªï¼‰ä¹‹å‰è¿è¡Œ jQuery ä»£ç ã€‚  </p><p>å¦‚æœåœ¨æ–‡æ¡£æ²¡æœ‰å®Œå…¨åŠ è½½ä¹‹å‰å°±è¿è¡Œå‡½æ•°ï¼Œæ“ä½œå¯èƒ½å¤±è´¥ã€‚ä¸‹é¢æ˜¯ä¸¤ä¸ªå…·ä½“çš„ä¾‹å­ï¼š  </p><p>è¯•å›¾éšè—ä¸€ä¸ªä¸å­˜åœ¨çš„å…ƒç´ <br>è·å¾—æœªå®Œå…¨åŠ è½½çš„å›¾åƒçš„å¤§å°  </p><p>å®ƒçš„ç¼©å†™å½¢å¼ä¸º</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br><br>&#125;);  <br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è·å–urlçš„å‡ ç§æ–¹å¼</title>
    <link href="/2018/04/28/2018-04-08-geturl/"/>
    <url>/2018/04/28/2018-04-08-geturl/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç®€å•æ€»ç»“è·å–urlçš„å‡ ç§æ–¹å¼ï¼ˆå…¶å®æ˜¯ä¸ªæ¬è¿å·¥â€¦ï¼‰</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>é¦–å…ˆæ˜¯ <strong>Servlet</strong> è·å–URLåœ°å€ã€‚åœ¨HttpServletRequestç±»é‡Œï¼Œæœ‰ä»¥ä¸‹å…­ä¸ªå–URLçš„å‡½æ•°ï¼š  </p><p>getScheme  //è¾“å‡º: http<br>getServerName  //è¾“å‡ºï¼š localhost<br>getServerPort  //è¾“å‡ºï¼š 8080<br>getContextPath å–å¾—é¡¹ç›®å<br>getServletPath å–å¾—Servletå<br>getPathInfo å–å¾—Servletåçš„URLåï¼Œä¸åŒ…æ‹¬URLå‚æ•°<br>getRequestURL å–å¾—ä¸åŒ…æ‹¬å‚æ•°çš„URL<br>getRequestURI å–å¾—ä¸åŒ…æ‹¬å‚æ•°çš„URIï¼Œå³å»æ‰åè®®å’ŒæœåŠ¡å™¨åçš„URL</p><p><img src="/img/geturl.png" alt="img"></p><p>ç›¸å¯¹åº”çš„å‡½æ•°çš„å€¼å¦‚ä¸‹ï¼š</p><p>getContextPathï¼š/ServletTest<br>getServletPathï¼š/main<br>getPathInfoï¼š/index/testpage/test<br>getRequestURLï¼š<a href="http://localhost:8080/ServletTest/main/index/testpage/test">http://localhost:8080/ServletTest/main/index/testpage/test</a><br>getRequestURIï¼š/ServletTest/main/index/testpage/test</p><p>ç„¶åæ˜¯ <strong>js</strong> ä¸­è·å–urlåœ°å€ã€‚</p><p>1ã€window.location.href(è®¾ç½®æˆ–è·å–æ•´ä¸ª URL ä¸ºå­—ç¬¦ä¸²)</p><p>2ã€window.location.protocol(è®¾ç½®æˆ–è·å– URL çš„åè®®éƒ¨åˆ†)</p><p>3ã€window.location.host(è®¾ç½®æˆ–è·å– URL çš„ä¸»æœºéƒ¨åˆ†)</p><p>4ã€window.location.port(è®¾ç½®æˆ–è·å–ä¸ URL å…³è”çš„ç«¯å£å·ç )</p><p>5ã€window.location.pathname(è®¾ç½®æˆ–è·å–ä¸ URL çš„è·¯å¾„éƒ¨åˆ†ï¼ˆå°±æ˜¯æ–‡ä»¶åœ°å€ï¼‰)</p><p>6ã€window.location.search(è®¾ç½®æˆ–è·å– href å±æ€§ä¸­è·Ÿåœ¨é—®å·åé¢çš„éƒ¨åˆ†)<br>PSï¼šè·å¾—æŸ¥è¯¢ï¼ˆå‚æ•°ï¼‰éƒ¨åˆ†ï¼Œé™¤äº†ç»™åŠ¨æ€è¯­è¨€èµ‹å€¼ä»¥å¤–ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ç»™é™æ€é¡µé¢ï¼Œå¹¶ä½¿ç”¨javascriptæ¥è·å¾—ç›¸ä¿¡åº”çš„å‚æ•°å€¼ã€‚</p><p>7ã€window.location.hash(è®¾ç½®æˆ–è·å– href å±æ€§ä¸­åœ¨äº•å·â€œ#â€åé¢çš„åˆ†æ®µ)</p><p>8ã€jsè·å–urlä¸­çš„å‚æ•°å€¼ï¼ˆ<strong>å¾ˆé‡è¦ï¼ï¼ï¼</strong>ï¼‰<br>8.1 æ­£åˆ™æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getQueryString</span>(<span class="hljs-params">name</span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">&#x27;(^|&amp;)&#x27;</span> + name + <span class="hljs-string">&#x27;=([^&amp;]*)(&amp;|$)&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>);<br>  <span class="hljs-keyword">var</span> r = <span class="hljs-built_in">window</span>.location.search.substr(<span class="hljs-number">1</span>).match(reg);<br>  <span class="hljs-keyword">if</span> (r != <span class="hljs-literal">null</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">unescape</span>(r[<span class="hljs-number">2</span>]);<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>&#125;<br><span class="hljs-comment">// è¿™æ ·è°ƒç”¨ï¼š</span><br>alert(GetQueryString(<span class="hljs-string">&quot;å‚æ•°å1&quot;</span>));<br><br>alert(GetQueryString(<span class="hljs-string">&quot;å‚æ•°å2&quot;</span>));<br><br>alert(GetQueryString(<span class="hljs-string">&quot;å‚æ•°å3&quot;</span>));<br></code></pre></td></tr></table></figure><p>8.2 splitæ‹†åˆ†æ³•</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">function</span> GetRequest() &#123;<br>  var url = location.search; <span class="hljs-regexp">//</span>è·å–urlä¸­<span class="hljs-string">&quot;?&quot;</span>ç¬¦åçš„å­—ä¸²<br>  var theRequest = new Object();<br>  <span class="hljs-keyword">if</span> (url.indexOf(<span class="hljs-string">&quot;?&quot;</span>) != -<span class="hljs-number">1</span>) &#123;<br>    var str = url.substr(<span class="hljs-number">1</span>);<br>    strs = str.split(<span class="hljs-string">&quot;&amp;&quot;</span>);<br>    <span class="hljs-keyword">for</span>(var i = <span class="hljs-number">0</span>; i &lt; strs.length; i ++) &#123;<br>      theRequest[strs[i].split(<span class="hljs-string">&quot;=&quot;</span>)[<span class="hljs-number">0</span>]] = unescape(strs[i].split(<span class="hljs-string">&quot;=&quot;</span>)[<span class="hljs-number">1</span>]);<br>    &#125;<br>  &#125;<br>  return theRequest;<br>&#125;<br>var Request = new Object();<br>Request = GetRequest();&lt;br&gt;<span class="hljs-regexp">//</span> var id=Request[<span class="hljs-string">&quot;id&quot;</span>];<br><span class="hljs-regexp">//</span> var å‚æ•°<span class="hljs-number">1</span>,å‚æ•°<span class="hljs-number">2</span>,å‚æ•°<span class="hljs-number">3</span>,å‚æ•°N;<br><span class="hljs-regexp">//</span> å‚æ•°<span class="hljs-number">1</span> = Request[<span class="hljs-string">&#x27;å‚æ•°1&#x27;</span>];<br><span class="hljs-regexp">//</span> å‚æ•°<span class="hljs-number">2</span> = Request[<span class="hljs-string">&#x27;å‚æ•°2&#x27;</span>];<br><span class="hljs-regexp">//</span> å‚æ•°<span class="hljs-number">3</span> = Request[<span class="hljs-string">&#x27;å‚æ•°3&#x27;</span>];<br><span class="hljs-regexp">//</span> å‚æ•°N = Request[<span class="hljs-string">&#x27;å‚æ•°N&#x27;</span>];<br></code></pre></td></tr></table></figure><p>8.3 å•ä¸ªå‚æ•°è·å–</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">function</span> GetRequest() &#123;<br>  var url = location.search; <span class="hljs-regexp">//</span>è·å–urlä¸­<span class="hljs-string">&quot;?&quot;</span>ç¬¦åçš„å­—ä¸²<br>  <span class="hljs-keyword">if</span> (url.indexOf(<span class="hljs-string">&quot;?&quot;</span>) != -<span class="hljs-number">1</span>) &#123;  <span class="hljs-regexp">//</span>åˆ¤æ–­æ˜¯å¦æœ‰å‚æ•°<br>   var str = url.substr(<span class="hljs-number">1</span>); <span class="hljs-regexp">//</span>ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ å› ä¸ºç¬¬<span class="hljs-number">0</span>ä¸ªæ˜¯?å· è·å–æ‰€æœ‰é™¤é—®å·çš„æ‰€æœ‰ç¬¦ä¸²<br>   strs = str.split(<span class="hljs-string">&quot;=&quot;</span>);  <span class="hljs-regexp">//</span>ç”¨ç­‰å·è¿›è¡Œåˆ†éš” ï¼ˆå› ä¸ºçŸ¥é“åªæœ‰ä¸€ä¸ªå‚æ•° æ‰€ä»¥ç›´æ¥ç”¨ç­‰å·è¿›åˆ†éš” å¦‚æœæœ‰å¤šä¸ªå‚æ•° è¦ç”¨&amp;å·åˆ†éš” å†ç”¨ç­‰å·è¿›è¡Œåˆ†éš”ï¼‰<br>   alert(strs[<span class="hljs-number">1</span>]);     <span class="hljs-regexp">//</span>ç›´æ¥å¼¹å‡ºç¬¬ä¸€ä¸ªå‚æ•° ï¼ˆå¦‚æœæœ‰å¤šä¸ªå‚æ•° è¿˜è¦è¿›è¡Œå¾ªç¯çš„ï¼‰<br>  &#125;<br><br></code></pre></td></tr></table></figure><p>psï¼šé¢å¤–å¢åŠ ä¸€ä¸ªçŸ¥è¯†ç‚¹</p><p>å…³äºJSPä¸­<base href="<%=basePath%>">çš„ä½œç”¨ï¼š</p><p>ä¸ºé¡µé¢ä¸Šæ‰€æœ‰ç›¸å¯¹ URL è§„å®šåŸºå‡† URLï¼Œé‡‡ç”¨ç»å¯¹è·¯å¾„çš„æ–¹å¼ã€‚</p><h2 id="ç»“"><a href="#ç»“" class="headerlink" title="ç»“"></a>ç»“</h2><p>ç»“.</p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é¡µé¢è·³è½¬</title>
    <link href="/2018/04/28/2018-04-28-jump/"/>
    <url>/2018/04/28/2018-04-28-jump/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç®€å•æ€»ç»“ä¸€ä¸‹æœ‰å…³é¡µé¢è·³è½¬çš„çŸ¥è¯†ç‚¹ï¼Œä»¥åä¹Ÿä¼šå°†ç±»ä¼¼çš„å°çŸ¥è¯†æ”¾åˆ°åšå®¢é‡Œæ¥æ–¹ä¾¿è‡ªå·±ç¿»é˜…ã€‚  </p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p><strong>åœ¨JSPä¸­</strong></p><p>å¸¸è§çš„å‡ ç§è·³è½¬æ–¹å¼ï¼š<br>1.hrefè¶…é“¾æ¥æ ‡è®°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;new.jsp&quot;</span>&gt;</span>è·³è½¬<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2.ä½¿ç”¨jså®Œæˆ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å¯ä»¥åœ¨JavaScriptä»£ç é‡Œå†™æäº¤è¡¨å•çš„å†™æ³•</span><br>&lt;scripttype=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;  <br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">submit</span>(<span class="hljs-params"></span>) </span>&#123;  <br>    <span class="hljs-function"><span class="hljs-title">with</span>(<span class="hljs-params"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;queryFunction&quot;</span>)</span>)</span> &#123;  <br>      action=<span class="hljs-string">&quot;new.jsp&quot;</span>;  <br>      method=<span class="hljs-string">&quot;post&quot;</span>;  <br>      ubmit();<br>    &#125;  <br>&#125;  <br>&lt;/script &gt;<br><span class="hljs-comment">//ä¹Ÿå¯ä»¥ç›´æ¥å®šä½, ç»™window.locationå±æ€§èµ‹å€¼,è€Œä¸æäº¤è¡¨å•</span><br>&lt;script  type=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;  <br>  <span class="hljs-function"><span class="hljs-keyword">function</span>  <span class="hljs-title">go</span> </span>&#123;  <br>      <span class="hljs-built_in">window</span>.self.location = <span class="hljs-string">&quot;new.jspâ€;  </span><br><span class="hljs-string">  &#125;  </span><br><span class="hljs-string">&lt;/script &gt;  </span><br></code></pre></td></tr></table></figure><p>3.è¡¨å•æäº¤å®Œæˆè·³è½¬</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs accesslog">&lt;form name=<span class="hljs-string">&quot;form1&quot;</span>method=<span class="hljs-string">&quot;<span class="hljs-keyword">POST</span>&quot;</span> action=<span class="hljs-string">&quot;new.jsp&quot;</span>&gt;...&lt;/form&gt;<br></code></pre></td></tr></table></figure><p>4.ä½¿ç”¨responseå¯¹è±¡,ä¸ºJspçš„å†…ç½®å¯¹è±¡</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mel"><span class="hljs-comment">//ç›´æ¥ä½¿ç”¨sendRedirect()é‡å®šå‘, é‡å®šå‘ååœ¨æµè§ˆå™¨åœ°å€æ ä¸Šä¼šå‡ºç°é‡å®šå‘é¡µé¢çš„URL.ä»£ç :  </span><br>&lt;%  <br>  response.sendRedirect(<span class="hljs-string">&quot;http://www.baidu.com&quot;</span>);<br>  <span class="hljs-keyword">return</span>;        <br>%&gt;<br><span class="hljs-comment">//ä½¿ç”¨setHeader()æ–¹æ³•,ç›´æ¥ä¿®æ”¹åœ°å€æ æ¥å®ç°é¡µé¢çš„é‡å®šå‘</span><br>&lt;%  <br>  response.setHeader(<span class="hljs-string">&quot;Refresh&quot;</span>,<span class="hljs-string">&quot;1;url=http://www.baidu.com&quot;</span>);        <br>%&gt;<br></code></pre></td></tr></table></figure><p>5.ä½¿ç”¨requestDispatcherç±»</p><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vbscript">RequestDispatcher  rd = <span class="hljs-built_in">request</span>.getRequestDispatcher(<span class="hljs-string">&quot;ç›®æ ‡é¡µé¢&quot;</span>);  <br>rd.forward(<span class="hljs-built_in">response</span>,<span class="hljs-built_in">request</span>);  <br></code></pre></td></tr></table></figure><p>è°ƒç”¨ServletContextçš„getRequestDispatcher(String path)æ–¹æ³•ï¼Œpathå‚æ•°æŒ‡å®šç›®æ ‡ç»„ä»¶çš„è·¯å¾„ã€‚<br>è°ƒç”¨ServletRequestçš„getRequestDispatcher(String path)æ–¹æ³•ä¸ä¸Šä¸€ä¸ªæ–¹å¼çš„åŒºåˆ«åœ¨äºï¼Œå‰è€…çš„pathå‚æ•°å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼Œè€Œåè€…çš„pathå‚æ•°å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€‚æ‰€è°“ç»å¯¹è·¯å¾„ï¼Œå°±æ˜¯æŒ‡ä»¥ç¬¦å·â€/â€œå¼€å¤´çš„è·¯å¾„ï¼Œâ€/â€œè¡¨ç¤ºå½“å‰webåº”ç”¨çš„URLå…¥å£ã€‚</p><p><strong>æ•²é‡ç‚¹ï¼ï¼JSPä¸­è·å–ç»å¯¹è·¯å¾„çš„æ–¹å¼ï¼ï¼</strong></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-variable">$&#123;pageContext.request.contextPath&#125;</span><br><span class="hljs-regexp">//</span>ç­‰ä»·äº&lt;%=request.getContextPath()%&gt;æˆ–è€…å¯ä»¥è¯´æ˜¯å®ƒçš„ELç‰ˆ<br></code></pre></td></tr></table></figure><p><strong>åœ¨Servletä¸­</strong>  </p><p>è¯·æ±‚é‡å®šå‘å’Œè¯·æ±‚è½¬å‘çš„è¯­å¥ä¸ºï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">request</span><span class="hljs-selector-class">.getRequestDispatcher</span>(<span class="hljs-string">&quot;new.jsp&quot;</span>)<span class="hljs-selector-class">.forward</span>(request, response);<span class="hljs-comment">//è½¬å‘åˆ°new.jsp</span><br><span class="hljs-selector-tag">response</span><span class="hljs-selector-class">.sendRedirect</span>(<span class="hljs-string">&quot;new.jsp&quot;</span>);<span class="hljs-comment">//é‡å®šå‘åˆ°new.jsp</span><br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œéœ€è¦å¯¹ä¸¤è€…çš„åŒºåˆ«ç•¥åšè§£é‡Šï¼Œé‡å®šå‘æ˜¯å®¢æˆ·ç«¯è¡Œä¸ºï¼Œè½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸ºã€‚</p><p>é‡å®šå‘æ˜¯ä¸¤æ¬¡requestï¼Œç¬¬ä¸€æ¬¡ï¼Œå®¢æˆ·ç«¯request   A,æœåŠ¡å™¨å“åº”ï¼Œå¹¶responseå›æ¥ï¼Œå‘Šè¯‰æµè§ˆå™¨ï¼Œä½ åº”è¯¥å»Bã€‚è¿™ä¸ªæ—¶å€™IEå¯ä»¥çœ‹åˆ°åœ°å€å˜äº†ï¼Œè€Œä¸”å†å²çš„å›é€€æŒ‰é’®ä¹Ÿäº®äº†ã€‚é‡å®šå‘å¯ä»¥è®¿é—®è‡ªå·±webåº”ç”¨ä»¥å¤–çš„èµ„æºã€‚åœ¨é‡å®šå‘çš„è¿‡ç¨‹ä¸­ï¼Œä¼ è¾“çš„ä¿¡æ¯ä¼šè¢«ä¸¢å¤±ã€‚  </p><p>è¯·æ±‚è½¬å‘æ˜¯æœåŠ¡å™¨å†…éƒ¨æŠŠå¯¹ä¸€ä¸ªrequest/responseçš„å¤„ç†æƒï¼Œç§»äº¤ç»™å¦å¤–ä¸€ä¸ª  </p><p>å¯¹äºå®¢æˆ·ç«¯è€Œè¨€ï¼Œå®ƒåªçŸ¥é“è‡ªå·±æœ€æ—©è¯·æ±‚çš„é‚£ä¸ªAï¼Œè€Œä¸çŸ¥é“ä¸­é—´çš„Bï¼Œç”šè‡³Cã€Dã€‚ ä¼ è¾“çš„ä¿¡æ¯ä¸ä¼šä¸¢å¤±ã€‚  </p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºSpringMVCçš„ä¸€äº›çŸ¥è¯†ç‚¹</title>
    <link href="/2018/04/24/2018-04-24-springmvc/"/>
    <url>/2018/04/24/2018-04-24-springmvc/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å—¯..è¯¥ç¯‡çš„å†…å®¹æ˜¯ä¸œæ‹¼è¥¿å‡‘è€Œæ¥çš„â€¦ä½†æ˜¯æˆ‘éƒ½è®¤è®¤çœŸçœŸåœ°çœ‹æ˜ç™½äº†~  </p><p>ä½¿ç”¨Springæ—¶ï¼Œå½“æµè§ˆå™¨æœ‰è¯·æ±‚æ—¶ã€‚æ‰€æœ‰è¯·æ±‚Springéƒ½ä¼šè®©DispatcherServletæ‹¦æˆªç„¶åæ ¹æ®é…ç½®è½¬å‘ç»™å¯¹ç”¨çš„å¤„ç†å™¨ï¼ˆcontrollerï¼‰å»å¤„ç†ã€‚DispatcherServletå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªservletã€‚æ‰€æœ‰å¦‚æœä½¿ç”¨Springæˆ‘ä»¬é¦–å…ˆéœ€è¦åœ¨web.xmlé‡Œé…ç½®servlet  DispatcherServlet ã€‚DispatcherServletå¤„ç†çš„è¯·æ±‚å¿…é¡»åœ¨åŒä¸€ä¸ªweb.xmlæ–‡ä»¶é‡Œä½¿ç”¨url-mappingå®šä¹‰æ˜ å°„ã€‚  </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- Spring MVC servlet --&gt;</span>  <br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>  <br>      <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>  <br>      <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>  <br>      <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>  <br>          <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>  <br>          <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:spring-mvc.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>  <br>      <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>  <br>      <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span>  <br>      <span class="hljs-tag">&lt;<span class="hljs-name">async-supported</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">async-supported</span>&gt;</span>  <br>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>  <br>    <span class="hljs-comment">&lt;!-- æ­¤å¤„å¯ä»¥å¯ä»¥é…ç½®æˆ*.doï¼Œå¯¹åº”strutsçš„åç¼€ä¹ æƒ¯ --&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="SpringMVC-åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨"><a href="#SpringMVC-åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨" class="headerlink" title="SpringMVC - åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨"></a>SpringMVC - åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨</h2><p><strong>SpringMVC</strong> æ˜¯ä¸€ä¸ªåŸºäºDispatcherServletçš„MVCæ¡†æ¶ï¼Œæ¯ä¸ªè¯·æ±‚æœ€å…ˆè®¿é—®çš„æ˜¯DispatcherServletï¼ŒDispatcherServletè´Ÿè´£å°†æ¯ä¸€ä¸ªRequestè½¬å‘åˆ°ç›¸åº”çš„Handlerï¼ŒHandlerå¤„ç†åå†è¿”å›ç›¸åº”çš„æ¨¡å‹ï¼ˆModelï¼‰å’Œè§†å›¾ï¼ˆViewï¼‰ã€‚åœ¨ä½¿ç”¨æ³¨è§£çš„Spring MVCä¸­ï¼Œå¤„ç†å™¨Handleræ˜¯åŸºäº@Controllerå’Œ@RequestMappingä¸¤ä¸ªæ³¨è§£çš„ï¼Œè¿™ä¸¤ä¸ªæ³¨è§£å¯ä»¥æä¾› <strong>éå¸¸çµæ´»</strong> çš„åŒ¹é…å’Œå¤„ç†æ–¹å¼ã€‚</p><p>@Controllerå’Œ@RequestMappingæ³¨è§£</p><p>Controlleræ³¨è§£ç±»å‹<br>å£°æ˜ä¸€ä¸ªæ§åˆ¶å™¨ç±»ï¼ŒSpringä½¿ç”¨æ‰«ææœºåˆ¶æ¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨ç±»ï¼Œæ§åˆ¶å™¨ç±»çš„å†…éƒ¨åŒ…å«æ¯ä¸ªåŠ¨ä½œç›¸åº”çš„å¤„ç†æ–¹æ³•ï¼Œå¦‚ä¸‹æ˜¯ä¸€ä¸ª@Controllerçš„ä¾‹å­ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.web.servlet.mvc.support.RedirectAttributes;<br>...<br><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductController</span> </span>&#123;<br>    <span class="hljs-comment">//request-handling methods here</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸ºäº†ä¿è¯Springèƒ½æ‰«æåˆ°æ§åˆ¶å™¨ç±»ï¼Œéœ€è¦å®Œæˆä¸¤ä¸ªé…ç½®ï¼Œé¦–å…ˆè¦åœ¨Spring MVCçš„é…ç½®æ–‡ä»¶ä¸­å£°æ˜Spring-contextå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs erlang">&lt;beans<br>    ...<br>    xmlns:context=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span><br>    ...<br>&gt;<br></code></pre></td></tr></table></figure><p>å…¶æ¬¡éœ€è¦åº”ç”¨<component-scan/>å…ƒç´ ï¼Œåœ¨è¯¥å…ƒç´ ä¸­æŒ‡å®šæ§åˆ¶å™¨ç±»çš„åŸºæœ¬åŒ…ã€‚ä¾‹å¦‚æ‰€æœ‰çš„æ§åˆ¶å™¨ç±»éƒ½åœ¨com.example.controlleråŠå…¶å­åŒ…ä¸‹ï¼Œåˆ™è¯¥å…ƒç´ å¦‚ä¸‹ï¼š</p><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vhdl">&lt;<span class="hljs-keyword">context</span>:<span class="hljs-keyword">component</span>-scan base-<span class="hljs-keyword">package</span>=<span class="hljs-string">&quot;com.example.controller&quot;</span>/&gt;<br></code></pre></td></tr></table></figure><p>RequestMappingæ³¨è§£ç±»å‹<br>è¯¥æ³¨è§£ç±»å‹åœ¨æ§åˆ¶å™¨ç±»çš„å†…éƒ¨å®šä¹‰æ¯ä¸€ä¸ªåŠ¨ä½œç›¸åº”çš„å¤„ç†æ–¹æ³•ï¼Œä¸€ä¸ªé‡‡ç”¨@RequestMappingæ³¨é‡Šçš„æ–¹æ³•å°†æˆä¸ºä¸€ä¸ªè¯·æ±‚å¤„ç†æ–¹æ³•ï¼Œå¹¶ç”±è°ƒåº¦ç¨‹åºåœ¨æ¥æ”¶åˆ°å¯¹åº”çš„URLè¯·æ±‚æ—¶è°ƒç”¨ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªRequestMappingæ³¨è§£æ–¹æ³•çš„æ§åˆ¶å™¨ç±»ã€‚  </p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">package</span> com.example.controller;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RequestMethod;<br>...<br><br><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductController</span> </span>&#123;<br><br>    <span class="hljs-meta">@RequestMapping(value=<span class="hljs-meta-string">&quot;/productInput&quot;</span>)</span><br>    <span class="hljs-keyword">public</span> String inputProduct()&#123;<br>        <span class="hljs-comment">//do something here</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ProductForm&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨RequestMappingæ³¨è§£çš„valueå±æ€§å°†URLæ˜ å°„åˆ°æ–¹æ³•ï¼Œåœ¨å¦‚ä¸Šçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†productInputæ˜ å°„åˆ°inputProduct()æ–¹æ³•ï¼Œé€šè¿‡<a href="http://localhost:8081/SpringMVC/productInput%E8%AE%BF%E9%97%AEinputProduct%E6%96%B9%E6%B3%95%E3%80%82RequestMapping%E6%96%B9%E6%B3%95%E9%99%A4%E4%BA%86%E6%9C%89value%E5%B1%9E%E6%80%A7%E5%A4%96%EF%BC%8C%E8%BF%98%E6%9C%89method%E5%B1%9E%E6%80%A7%EF%BC%8C%E8%AF%A5%E5%B1%9E%E6%80%A7%E7%94%A8%E6%9D%A5%E6%8C%87%E7%A4%BA%E8%AF%A5%E6%96%B9%E6%B3%95%E4%BB%85%E5%A4%84%E7%90%86%E5%93%AA%E4%BA%9Bhttp%E6%96%B9%E6%B3%95%EF%BC%8C%E4%BE%8B%E5%A6%82%EF%BC%8C%E4%BB%85%E5%BD%93HTTP">http://localhost:8081/SpringMVC/productInputè®¿é—®inputProductæ–¹æ³•ã€‚RequestMappingæ–¹æ³•é™¤äº†æœ‰valueå±æ€§å¤–ï¼Œè¿˜æœ‰methodå±æ€§ï¼Œè¯¥å±æ€§ç”¨æ¥æŒ‡ç¤ºè¯¥æ–¹æ³•ä»…å¤„ç†å“ªäº›httpæ–¹æ³•ï¼Œä¾‹å¦‚ï¼Œä»…å½“HTTP</a> POSTæˆ–PUTæ–¹æ³•æ—¶ï¼Œè°ƒç”¨ä¸‹é¢çš„processOrderæ–¹æ³•ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-meta">@RequestMapping</span>(value=<span class="hljs-string">&quot;/order_process&quot;</span>, method=&#123;RequestMethod.POST, RequestMethod.PUT&#125;)<br><span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">processOrder</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-comment">//do something here</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;OrderForm&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœmethodå±æ€§åªæœ‰ä¸€ä¸ªHTTPæ–¹æ³•å€¼ï¼Œåˆ™æ— éœ€{},ç›´æ¥ä¸ºmethod=RequestMethod.POSTï¼Œå¦‚æœæœªæŒ‡å®šmethodå±æ€§ï¼Œåˆ™è¯·æ±‚å¤„ç†æ–¹æ³•å¯ä»¥å¤„ç†ä»»æ„HTTPæ–¹æ³•ã€‚æ­¤å¤–RequestMappingæ³¨é‡Šç±»å‹ä¹Ÿå¯ä»¥ç”¨æ¥æ³¨é‡Šä¸€ä¸ªæ§åˆ¶å™¨ç±»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br>...<br><br><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(value=<span class="hljs-meta-string">&quot;/customer&quot;</span>)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomerController</span></span>&#123;<br>    <span class="hljs-meta">@RequestMapping(value=<span class="hljs-meta-string">&quot;/delete&quot;</span>, method=&#123;RequestMethod.POST, RequestMethod.PUT&#125;)</span><br>    <span class="hljs-keyword">public</span> String deleteCustomer()&#123;<br>        <span class="hljs-comment">//do something here</span><br>        <span class="hljs-keyword">return</span> ...;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>RequestParamæ³¨è§£ç±»å‹<br>é€šè¿‡è¯¥æ³¨è§£å¯ä»¥è½»æ¾çš„å°†URLä¸­çš„å‚æ•°ç»‘å®šåˆ°å¤„ç†å‡½æ•°æ–¹æ³•çš„å˜é‡ä¸­ï¼Œå°±æ˜¯è·³è½¬åˆ°è¯¥æ–¹æ³•çš„æ—¶å€™æŠŠå‚æ•°å¸¦è¿‡æ¥ï¼å¾ˆå¥½ç”¨ï¼</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@<span class="hljs-constructor">RequestMapping(<span class="hljs-string">&quot;userInfo&quot;</span>)</span><br>  public String get<span class="hljs-constructor">Users(@RequestParam(<span class="hljs-params">value</span>=<span class="hljs-string">&quot;pn&quot;</span>,<span class="hljs-params">defaultValue</span>=<span class="hljs-string">&quot;1&quot;</span>)</span>Integer pn,Model model)&#123;<br>      <span class="hljs-comment">//ä»ç¬¬ä¸€æ¡å¼€å§‹ æ¯é¡µæŸ¥è¯¢äº”æ¡æ•°æ®</span><br>      <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">PageHelper</span>.</span></span>start<span class="hljs-constructor">Page(<span class="hljs-params">pn</span>, 5)</span>;<br>      List&lt;User&gt; users = userService.find<span class="hljs-constructor">All()</span>;<br>      <span class="hljs-comment">//å°†ç”¨æˆ·ä¿¡æ¯æ”¾å…¥PageInfoå¯¹è±¡é‡Œ</span><br>  PageInfo page = <span class="hljs-keyword">new</span> <span class="hljs-constructor">PageInfo(<span class="hljs-params">users</span>,5)</span>;<br><br>      model.add<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;pageInfo&quot;</span>, <span class="hljs-params">page</span>)</span>;<br>      return <span class="hljs-string">&quot;allUser&quot;</span>;<br>  &#125;<br></code></pre></td></tr></table></figure><h2 id="ç»­"><a href="#ç»­" class="headerlink" title="ç»­"></a>ç»­</h2><p>åœ¨Controllerä¸­è¿”å›JSONæ•°æ®æ—¶ï¼Œåº”æ·»åŠ @RequestBody</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@<span class="hljs-constructor">RequestMapping(<span class="hljs-string">&quot;/MyCheck&quot;</span>)</span><br>public @ResponseBody JSONObject <span class="hljs-constructor">MyCheck(String <span class="hljs-params">username</span>,String <span class="hljs-params">password</span>,HttpSession <span class="hljs-params">session</span>)</span> &#123;<br>  User user = UserService.<span class="hljs-constructor">CheckLoginAndPwd(<span class="hljs-params">username</span>,<span class="hljs-params">password</span>)</span>;<br>  session.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;user&quot;</span>, <span class="hljs-params">user</span>)</span>;<br>  JSONObject json=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">JSONObject</span>.</span></span>from<span class="hljs-constructor">Object(<span class="hljs-params">user</span>)</span>;<br>  <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(json);<br>  return json;<br>&#125;<br><span class="hljs-comment">//æ­¤æ–¹æ³•è¿”å›çš„æ˜¯jsonå¯¹è±¡</span><br></code></pre></td></tr></table></figure><h2 id="ç»“"><a href="#ç»“" class="headerlink" title="ç»“"></a>ç»“</h2><p>å“¦äº†ï¼Œå…³äºåº”ç”¨å°±ä¸åšæ¬è¿äº†ï¼Œä¹‹å‰çš„ä¸¤ä¸ªæ¡ˆä¾‹é‡Œæ»¡æ»¡çš„éƒ½æ˜¯~</p>]]></content>
    
    
    
    <tags>
      
      <tag>SSM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSM æ¡†æ¶å®ç°ç®€å•CURD</title>
    <link href="/2018/04/24/2018-04-24-ssm2/"/>
    <url>/2018/04/24/2018-04-24-ssm2/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é€šè¿‡å€Ÿchaoé‰´xiç½‘ä¸Šçš„æ•™ç¨‹ï¼Œå°†ä¹‹å‰çš„å…¥é—¨æ¡ˆä¾‹æ”¹é€ ï¼Œå®ç°åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ï¼Œå¹¶åŠ æ·±è‡ªå·±å¯¹SSMæ¡†æ¶çš„ç†è§£ï¼Œä¸‹é¢åšç®€å•å¤ç›˜ã€‚  </p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>1.åœ¨daoå±‚å’Œserviceå±‚ä¸­æ·»åŠ findAll()æ–¹æ³•ï¼Œä¸ºä¹‹åçš„CRUDåŠŸèƒ½åšé“ºå«ã€‚<br>2.é‡ç‚¹ï¼æ•²é»‘æ¿ï¼ï¼åœ¨UserControleerä¸­æ·»åŠ  å¢åˆ æ”¹æŸ¥ ä»¥åŠ åˆ†é¡µ çš„æ–¹æ³•ä»£ç ï¼ŒSpringMVCä¸­çš„æ§åˆ¶å™¨èµ·åˆ°æ›¿ä»£Servletçš„åŠŸèƒ½ï¼Œå¤„ç†äº†æ‰€æœ‰çš„è¯·æ±‚ï¼ï¼å¹¶ä¸”å®ƒæ˜¯ä»¥åŸºäºæ³¨è§£çš„æ–¹å¼å»å®ç°çš„ï¼<br>å…³äºSpringMVCä»¥åŠå®ƒçš„æ³¨è§£æ§åˆ¶å™¨ç§»æ­¥[here]åšè¯¦ç»†è®²è§£~~ (<a href="https://yourcat.github.io/2018/04/24/springmvc/">https://yourcat.github.io/2018/04/24/springmvc/</a>)</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> *è·³è½¬åˆ°æ·»åŠ ç”¨æˆ·ç•Œé¢</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">&quot;toAddUser&quot;</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">toAddUser</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;addUser&quot;</span>;<br>&#125;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ·»åŠ ç”¨æˆ·å¹¶é‡å®šå‘  </span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">model</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">user</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">&quot;addUser&quot;</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">addUser</span>(<span class="hljs-params">Model model,User user</span>)</span>&#123;<br>    <span class="hljs-keyword">if</span>(user != <span class="hljs-literal">null</span>)&#123;<br>        userService.insert(user);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/user/userInfo&quot;</span>;<br>&#125;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ä¿®æ”¹ç”¨æˆ·</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">model</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">request</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">user</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">&quot;updateUser&quot;</span>)  <br><span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">UpdateUser</span>(<span class="hljs-params">Model model,User user</span>)</span>&#123;<br>         <span class="hljs-keyword">if</span>(userService.updateUserById(user))&#123;  <br>                user = userService.getUserById(user.getId());  <br>                model.addAttribute(<span class="hljs-string">&quot;user&quot;</span>, user);  <br>                <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/user/userInfo&quot;</span>;  <br>            &#125;<br>     <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;/error&quot;</span>;  <br>&#125;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">request</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">model</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">&quot;getAllUser&quot;</span>)  <br><span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">getAllUser</span>(<span class="hljs-params">Model model</span>)</span>&#123;<br>    List&lt;User&gt; user = userService.findAll();<br>    model.addAttribute(<span class="hljs-string">&quot;userList&quot;</span>,user);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;allUser&quot;</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æŸ¥è¯¢å•ä¸ªç”¨æˆ·</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">id</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">request</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">model</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">&quot;/getUser&quot;</span>)  <br><span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">getUser</span>(<span class="hljs-params">int id,Model model</span>)</span>&#123;<br>    model.addAttribute(<span class="hljs-string">&quot;user&quot;</span>, userService.getUserById(id));  <br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;editUser&quot;</span>;<br>&#125;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ ¹æ®idåˆ é™¤ç”¨æˆ·</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">id</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">request</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">response</span></span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">&quot;/delUser&quot;</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">deleteUser</span>(<span class="hljs-params">int id,Model model</span>)</span>&#123;<br>    model.addAttribute(<span class="hljs-string">&quot;user&quot;</span>, userService.deleteUserById(id));  <br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/user/userInfo&quot;</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param </span>pn é»˜è®¤ä»ç¬¬ä¸€é¡µå¼€å§‹  è¯·æ±‚å‚æ•°</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-variable">model</span></span></span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">&quot;userInfo&quot;</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">getUsers</span>(<span class="hljs-params"><span class="hljs-meta">@RequestParam</span>(value=<span class="hljs-string">&quot;pn&quot;</span>,defaultValue=<span class="hljs-string">&quot;1&quot;</span>)Integer pn,Model model</span>)</span>&#123;<br>    <span class="hljs-comment">//ä»ç¬¬ä¸€æ¡å¼€å§‹ æ¯é¡µæŸ¥è¯¢äº”æ¡æ•°æ®</span><br>    PageHelper.startPage(pn, <span class="hljs-number">5</span>);<br>    List&lt;User&gt; users = userService.findAll();<br>    <span class="hljs-comment">//å°†ç”¨æˆ·ä¿¡æ¯æ”¾å…¥PageInfoå¯¹è±¡é‡Œ</span><br>PageInfo page = <span class="hljs-keyword">new</span> PageInfo(users,<span class="hljs-number">5</span>);<br><br>    model.addAttribute(<span class="hljs-string">&quot;pageInfo&quot;</span>, page);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;allUser&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å…³äºControllerä¸­çš„Modelï¼Œä¸ªäººæ„Ÿè§‰å–ä»£äº†åŸå…ˆservleté‡Œçš„å„ç§åŸŸï¼Œæºå¸¦ä¿¡æ¯åœ¨é¡µé¢é—´è¿›è¡Œä¼ è¾“ï¼Œåœ¨ä¸Šé¢ç»™çš„springmvcä¸­æœ‰è¯¦ç»†ç‚¹çš„è®²è§£ã€‚<br>ä¸è¦å¿˜è®°åœ¨pom.xmlä¸­å¼•å…¥pageHelperçš„jaråŒ…ï¼ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.1.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>3.ä¸‹é¢æ­£å¼å¼€å§‹å†™jspé¡µé¢çš„ä»£ç äº†~<br>é¦–å…ˆæ˜¯allUser.jspé¡µé¢ï¼Œæ³¨æ„è¿™æ˜¯ä»controllerä¸­çš„userInfoè¿‡æ¥çš„ï¼Œå¹¶ä¸”å¸¦ç€pageInfo(åˆ†é¡µä¿¡æ¯)ã€‚  </p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="xml">&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="xml">&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;</span><br><span class="xml">&lt;%</span><br><span class="xml">    pageContext.setAttribute(&quot;path&quot;, request.getContextPath());</span><br><span class="xml">%&gt;</span><br><br><span class="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">HTML</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç”¨æˆ·åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- æ–° Bootstrap æ ¸å¿ƒ CSS æ–‡ä»¶ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- jQueryæ–‡ä»¶ã€‚åŠ¡å¿…åœ¨bootstrap.min.js ä¹‹å‰å¼•å…¥ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- æœ€æ–°çš„ Bootstrap æ ¸å¿ƒ JavaScript æ–‡ä»¶ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- æ ‡é¢˜ --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-md-12&quot;</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ç”¨æˆ·ç®¡ç†<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- æŒ‰é’® --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-md-4 col-md-offset-8&quot;</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;path&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/user/toAddUser&quot;</span>&gt;</span>æ–°å¢<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- è¡¨æ ¼  --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-md-12&quot;</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;table table-hover&quot;</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>id<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å¯†ç <span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">c:forEach</span> <span class="hljs-attr">items</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;pageInfo.list&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">var</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;user.id&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;user.username&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;user.password&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;user.age &#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">                            <span class="hljs-comment">&lt;!-- &lt;td&gt;&lt;a  class=&quot;edit&quot;&gt;ç¼–è¾‘&lt;/a&gt; &lt;a</span></span><br><span class="xml">                                 class=&quot;delete&quot;&gt;åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span> --&gt;</span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">                            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span>  <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;path&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/user/getUser?id=$</span></span></span><span class="hljs-template-variable">&#123;user.id&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-info btn-sm&quot;</span>&gt;</span></span><br><span class="xml">                            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;glyphicon glyphicon-pencil&quot;</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml">                                   ç¼–è¾‘<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="xml">                            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span>  <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;path&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/user/delUser?id=$</span></span></span><span class="hljs-template-variable">&#123;user.id&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-danger btn-sm&quot;</span>&gt;</span></span><br><span class="xml">                            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;glyphicon glyphicon-trash&quot;</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">&quot;true&quot;</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml">                                    åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">c:forEach</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height:1px;border:none;border-top:1px solid #ccc;&quot;</span> /&gt;</span></span><br><span class="xml">        <span class="hljs-comment">&lt;!-- åˆ†é¡µå¯¼èˆªæ  --&gt;</span></span><br><br><span class="xml">        <span class="hljs-comment">&lt;!-- åˆ†é¡µä¿¡æ¯ --&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-comment">&lt;!-- åˆ†é¡µæ–‡å­—ä¿¡æ¯ï¼Œå…¶ä¸­åˆ†é¡µä¿¡æ¯éƒ½å°è£…åœ¨pageInfoä¸­ --&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-md-6&quot;</span>&gt;</span></span><br><span class="xml">                å½“å‰ç¬¬ï¼š$</span><span class="hljs-template-variable">&#123;pageInfo.pageNum&#125;</span><span class="xml">é¡µï¼Œæ€»å…±ï¼š$</span><span class="hljs-template-variable">&#123;pageInfo.pages&#125;</span><span class="xml">é¡µï¼Œæ€»å…±ï¼š$</span><span class="hljs-template-variable">&#123;pageInfo.total&#125;</span><span class="xml">æ¡è®°å½•</span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br><span class="xml">        <span class="hljs-comment">&lt;!-- åˆ†é¡µæ¡ --&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-md-6&quot;</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">&quot;Page navigation&quot;</span>&gt;</span></span><br><span class="xml">                  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;pagination&quot;</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;path&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/user/userInfo?pn=1&quot;</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;pageInfo.hasPreviousPage &#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="xml">                         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml">                          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;path&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/user/userInfo?pn=$</span></span></span><span class="hljs-template-variable">&#123;pageInfo.pageNum-1&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">&quot;Previous&quot;</span>&gt;</span></span><br><span class="xml">                            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><span class="hljs-symbol">&amp;laquo;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml">                          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span></span><br><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">c:forEach</span> <span class="hljs-attr">items</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;pageInfo.navigatepageNums &#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">var</span>=<span class="hljs-string">&quot;page_Num&quot;</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;page_Num == pageInfo.pageNum &#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="xml">                            <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;active&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>$</span><span class="hljs-template-variable">&#123; page_Num&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;page_Num != pageInfo.pageNum &#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="xml">                            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;path&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/user/userInfo?pn=$</span></span></span><span class="hljs-template-variable">&#123; page_Num&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>$</span><span class="hljs-template-variable">&#123; page_Num&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">c:forEach</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;pageInfo.hasNextPage &#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml">                          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;path&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/user/userInfo?pn=$</span></span></span><span class="hljs-template-variable">&#123;pageInfo.pageNum+1&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">&quot;Next&quot;</span>&gt;</span></span><br><span class="xml">                            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><span class="hljs-symbol">&amp;raquo;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml">                          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="xml">                        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span>   </span><br><span class="xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;path&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">/user/userInfo?pn=$</span></span></span><span class="hljs-template-variable">&#123;pageInfo.pages&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>æœ«é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml">                  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>æ¥ç€æ˜¯addUser.jspé¡µé¢  </p><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs vbscript-html"><span class="vbscript">&lt;%@ page language=<span class="hljs-string">&quot;java&quot;</span> contentType=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="vbscript">    pageEncoding=<span class="hljs-string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="vbscript">&lt;%  </span><br><span class="vbscript">    String path = <span class="hljs-built_in">request</span>.getContextPath();  </span><br><span class="vbscript">    String basePath = <span class="hljs-built_in">request</span>.getScheme() + <span class="hljs-string">&quot;://&quot;</span>  </span><br><span class="vbscript">            + <span class="hljs-built_in">request</span>.getServerName() + <span class="hljs-string">&quot;:&quot;</span> + <span class="hljs-built_in">request</span>.getServerPort()  </span><br><span class="vbscript">            + path + <span class="hljs-string">&quot;/&quot;</span>;  </span><br><span class="vbscript">%&gt;</span><span class="xml">  </span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- æ–° Bootstrap æ ¸å¿ƒ CSS æ–‡ä»¶ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- jQueryæ–‡ä»¶ã€‚åŠ¡å¿…åœ¨bootstrap.min.js ä¹‹å‰å¼•å…¥ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- æœ€æ–°çš„ Bootstrap æ ¸å¿ƒ JavaScript æ–‡ä»¶ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-md-12&quot;</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-md-12&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userForm&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;table table-hover&quot;</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å§“åï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å¯†ç ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å¹´é¾„ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;age&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>         </span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æ·»åŠ &quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;addUser()&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="xml">        function addUser() &#123;</span><br><span class="xml">            var form = document.forms[0];</span><br><span class="xml">            form.action = &quot;</span><span class="vbscript">&lt;%=basePath %&gt;</span><span class="xml">user/addUser&quot;;</span><br><span class="xml">            form.method = &quot;post&quot;;</span><br><span class="xml">            form.submit();</span><br><span class="xml">        &#125;</span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>åˆ é™¤ä¸éœ€è¦é¡µé¢ï¼Œç„¶åæ˜¯editUser.jspé¡µé¢ï¼Œå®ƒæ˜¯ç”±Controllerä¸­getUserè¿‡æ¥çš„ï¼Œå¸¦ç€idè¿›è¡ŒæŸ¥è¯¢ã€‚  </p><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs vbscript-html"><span class="vbscript">&lt;%@ page language=<span class="hljs-string">&quot;java&quot;</span> contentType=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="vbscript">    pageEncoding=<span class="hljs-string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="vbscript">&lt;%  </span><br><span class="vbscript">    String path = <span class="hljs-built_in">request</span>.getContextPath();  </span><br><span class="vbscript">    String basePath = <span class="hljs-built_in">request</span>.getScheme() + <span class="hljs-string">&quot;://&quot;</span>  </span><br><span class="vbscript">            + <span class="hljs-built_in">request</span>.getServerName() + <span class="hljs-string">&quot;:&quot;</span> + <span class="hljs-built_in">request</span>.getServerPort()  </span><br><span class="vbscript">            + path + <span class="hljs-string">&quot;/&quot;</span>;  </span><br><span class="vbscript">%&gt;</span><span class="xml">  </span><br><span class="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span></span><br><span class="vbscript">&lt;%@ taglib uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="hljs-string">&quot;c&quot;</span>%&gt;</span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç¼–è¾‘ç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="xml">    function updateUser() &#123;</span><br><span class="xml">        var form = document.forms[0];</span><br><span class="xml">        form.action = &quot;</span><span class="vbscript">&lt;%=basePath %&gt;</span><span class="xml">user/updateUser&quot;;</span><br><span class="xml">        form.method = &quot;post&quot;;</span><br><span class="xml">        form.submit();</span><br><span class="xml">    &#125;</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ç¼–è¾‘ç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userForm&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;user.id &#125;&quot;</span> /&gt;</span> å§“åï¼š&lt;input</span><br><span class="xml">       type=&quot;text&quot; name=&quot;username&quot; value=&quot;$&#123;user.username &#125;&quot; /&gt; å¯†ç ï¼š&lt;input</span><br><span class="xml">            type=&quot;text&quot; name=&quot;password&quot; value=&quot;$&#123;user.password &#125;&quot; /&gt; å¹´é¾„ï¼š&lt;input</span><br><span class="xml">            type=&quot;text&quot; name=&quot;age&quot; value=&quot;$&#123;user.age &#125;&quot; /&gt; <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span></span></span><br><span class="xml">            value=&quot;ä¿®æ”¹&quot; onclick=&quot;updateUser()&quot; /&gt;</span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="ç»“"><a href="#ç»“" class="headerlink" title="ç»“"></a>ç»“</h2><p>å¤§åŠŸå‘Šæˆï¼Œä¸‹é¢å»è¡¥springmvcä¸­çš„çŸ¥è¯†ç‚¹ï¼Œä¹‹åå†æ•´ç†å¦ä¸€ä¸ªæ¡ˆä¾‹ï¼æºœäº†ï¼</p>]]></content>
    
    
    
    <tags>
      
      <tag>SSM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSM æ¡†æ¶æ•´åˆå…¥é—¨ç»ƒä¹ </title>
    <link href="/2018/04/22/2018-04-22-ssm1/"/>
    <url>/2018/04/22/2018-04-22-ssm1/</url>
    
    <content type="html"><![CDATA[<p>è®°å½•ç¬¬ä¸€æ¬¡é€šè¿‡å­¦ä¹ åº”ç”¨ <strong>SSM</strong> å’Œ <strong>Maven</strong> æ¡†æ¶æ­å»ºé¡¹ç›®ã€‚<br>é¦–å…ˆç®€å•ä»‹ç»éœ€è¦å‡ ä¸ªåŸºæœ¬çŸ¥è¯†ç‚¹ï¼Œä½•ä¸ºSSMï¼Ÿ å…¨ç§°ä¸º Spring + SpingMVC + Mybatis</p><p><strong>Spring</strong><br>Springæ¡†æ¶æ˜¯ä¸ªè½»é‡çº§çš„Java EEæ¡†æ¶ã€‚ä»¥IoCã€AOPä¸ºä¸»è¦æ€æƒ³ï¼Œå…¶ä¸­IoCï¼ŒInversion of Control æŒ‡æ§åˆ¶åè½¬æˆ–åå‘æ§åˆ¶ã€‚åœ¨Springæ¡†æ¶ä¸­æˆ‘ä»¬é€šè¿‡é…ç½®åˆ›å»ºç±»å¯¹è±¡ï¼Œç”±Springåœ¨è¿è¡Œé˜¶æ®µå®ä¾‹åŒ–ã€ç»„è£…å¯¹è±¡ã€‚AOPï¼ŒAspect Oriented Programmingï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå…¶æ€æƒ³æ˜¯åœ¨æ‰§è¡ŒæŸäº›ä»£ç å‰æ‰§è¡Œå¦å¤–çš„ä»£ç ï¼Œä½¿ç¨‹åºæ›´çµæ´»ã€æ‰©å±•æ€§æ›´å¥½ï¼Œå¯ä»¥éšä¾¿åœ°æ·»åŠ ã€åˆ é™¤æŸäº›åŠŸèƒ½ã€‚Servletä¸­çš„Filterä¾¿æ˜¯ä¸€ç§AOPæ€æƒ³çš„å®ç°ã€‚<br>SpringåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªâ€œä¸€ç«™å¼â€æ¡†æ¶ï¼Œå³Springåœ¨JavaEEçš„ä¸‰å±‚æ¶æ„[è¡¨ç°å±‚ï¼ˆWebå±‚ï¼‰ã€ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceå±‚ï¼‰ã€æ•°æ®è®¿é—®å±‚ï¼ˆDAOå±‚ï¼‰]ä¸­ï¼Œæ¯ä¸€å±‚å‡æä¾›äº†ä¸åŒçš„è§£å†³æŠ€æœ¯ã€‚å¦‚ä¸‹ï¼š  </p><ul><li>è¡¨ç°å±‚ï¼ˆWebå±‚ï¼‰ï¼š<strong>Spring MVC</strong></li><li>ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceå±‚ï¼‰ï¼šSpringçš„IoC</li><li>æ•°æ®è®¿é—®å±‚ï¼ˆDAOå±‚ï¼‰ï¼šSpringçš„jdbcTemplate</li></ul><p><strong>Maven</strong><br>Apache Maven æ˜¯ä¸€å¥—è½¯ä»¶å·¥ç¨‹ç®¡ç†å’Œæ•´åˆå·¥å…·ã€‚åŸºäºå·¥ç¨‹å¯¹è±¡æ¨¡å‹ï¼ˆPOMï¼‰çš„æ¦‚å¿µï¼Œé€šè¿‡ä¸€ä¸ªä¸­å¤®ä¿¡æ¯ç®¡ç†æ¨¡å—ï¼ŒMaven èƒ½å¤Ÿç®¡ç†é¡¹ç›®çš„æ„å»ºã€æŠ¥å‘Šå’Œæ–‡æ¡£ã€‚</p><p>ç›´æ¥è·³è¿‡ å¼€å‘ç¯å¢ƒæ­å»º å’Œ Maven é¡¹ç›®çš„æ„å»ºæ­¥éª¤ã€‚  </p><p>0.é¦–å…ˆçœ‹ä¸€ä¸‹æ•´ä¸ªé¡¹ç›®çš„ç›®å½•<br><img src="/img/ssmml.jpg" alt="img"></p><p>1.åœ¨Mavenä¸­é€šè¿‡pom.xmlæ–‡ä»¶å¼•å…¥å¼€å‘æ‰€éœ€è¦çš„jaråŒ…</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="xml">  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;</span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.ihan<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mavendemo<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>war<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>mavendemo Maven Webapp<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.apache.org<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- springç‰ˆæœ¬å· --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">spring.version</span>&gt;</span>4.0.2.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">spring.version</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- mybatisç‰ˆæœ¬å· --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mybatis.version</span>&gt;</span>3.2.6<span class="hljs-tag">&lt;/<span class="hljs-name">mybatis.version</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- log4jæ—¥å¿—æ–‡ä»¶ç®¡ç†åŒ…ç‰ˆæœ¬ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">slf4j.version</span>&gt;</span>1.7.7<span class="hljs-tag">&lt;/<span class="hljs-name">slf4j.version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">log4j.version</span>&gt;</span>1.2.17<span class="hljs-tag">&lt;/<span class="hljs-name">log4j.version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  </span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.google.code.gson<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  </span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>gson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  </span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.8.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>  </span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>net.sf.json-lib<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>json-lib<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">classifier</span>&gt;</span>jdk15<span class="hljs-tag">&lt;/<span class="hljs-name">classifier</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-beanutils<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-beanutils<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.7.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-collections<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-collections<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-lang<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-lang<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>net.sf.ezmorph<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ezmorph<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.11<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- è¡¨ç¤ºå¼€å‘çš„æ—¶å€™å¼•å…¥ï¼Œå‘å¸ƒçš„æ—¶å€™ä¸ä¼šåŠ è½½æ­¤åŒ… --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- springæ ¸å¿ƒåŒ… --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-oxm<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-tx<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context-support<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;spring.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- mybatisæ ¸å¿ƒåŒ… --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;mybatis.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- mybatis/springåŒ… --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- å¯¼å…¥java ee jar åŒ… --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javaee-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>7.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- å¯¼å…¥Mysqlæ•°æ®åº“é“¾æ¥jaråŒ… --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.30<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- å¯¼å…¥dbcpçš„jaråŒ…ï¼Œç”¨æ¥åœ¨applicationContext.xmlä¸­é…ç½®æ•°æ®åº“ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-dbcp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-dbcp<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- JSTLæ ‡ç­¾ç±» --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- æ—¥å¿—æ–‡ä»¶ç®¡ç†åŒ… --&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- log start --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log4j.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><br><br><span class="xml"><span class="hljs-comment">&lt;!-- æ ¼å¼åŒ–å¯¹è±¡ï¼Œæ–¹ä¾¿è¾“å‡ºæ—¥å¿— --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.41<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4j-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;slf4j.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4j-log4j12<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;slf4j.version&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- log end --&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- æ˜ å…¥JSON --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.codehaus.jackson<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-mapper-asl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.13<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- ä¸Šä¼ ç»„ä»¶åŒ… --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-io<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-io<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-codec<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-codec<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="xml">   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.1.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">finalName</span>&gt;</span>mavendemo<span class="hljs-tag">&lt;/<span class="hljs-name">finalName</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span></span><br><br></code></pre></td></tr></table></figure><p>2.Springæ•´åˆMyBatis<br>2.1 å»ºç«‹jdbcå±æ€§æ–‡ä»¶  â€“ ï¼ˆjdbc.properties ï¼Œæ–‡ä»¶ç¼–ç ä¿®æ”¹ä¸º utf-8 ï¼‰  </p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">driver</span>=com.mysql.jdbc.Driver<br><span class="hljs-attr">url</span>=jdbc:mysql://<span class="hljs-number">10.221</span>.<span class="hljs-number">10.111</span>:<span class="hljs-number">8080</span>/db_zsl<br><span class="hljs-attr">username</span>=demao<br><span class="hljs-attr">password</span>=demao<br><span class="hljs-comment">#å®šä¹‰åˆå§‹è¿æ¥æ•°</span><br><span class="hljs-attr">initialSize</span>=<span class="hljs-number">0</span><br><span class="hljs-comment">#å®šä¹‰æœ€å¤§è¿æ¥æ•°</span><br><span class="hljs-attr">maxActive</span>=<span class="hljs-number">20</span><br><span class="hljs-comment">#å®šä¹‰æœ€å¤§ç©ºé—²</span><br><span class="hljs-attr">maxIdle</span>=<span class="hljs-number">20</span><br><span class="hljs-comment">#å®šä¹‰æœ€å°ç©ºé—²</span><br><span class="hljs-attr">minIdle</span>=<span class="hljs-number">1</span><br><span class="hljs-comment">#å®šä¹‰æœ€é•¿ç­‰å¾…æ—¶é—´</span><br><span class="hljs-attr">maxWait</span>=<span class="hljs-number">60000</span><br></code></pre></td></tr></table></figure><p>2.2 å»ºç«‹spring-mybatis.xmlé…ç½®æ–‡ä»¶ â€“ ï¼ˆspring-mybatis.xml  ï¼‰</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="xml">xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="xml">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="xml">xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;</span><br><span class="xml">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans  </span><br><span class="xml">http://www.springframework.org/schema/beans/spring-beans-3.1.xsd  </span><br><span class="xml">http://www.springframework.org/schema/context  </span><br><span class="xml">http://www.springframework.org/schema/context/spring-context-3.1.xsd  </span><br><span class="xml">http://www.springframework.org/schema/mvc  </span><br><span class="xml">http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;&gt;</span><br><span class="xml"><span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«æ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.cn.hnust&quot;</span> /&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- å¼•å…¥é…ç½®æ–‡ä»¶ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;propertyConfigurer&quot;</span></span></span><br><span class="xml">class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;</span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;location&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:jdbc.properties&quot;</span> /&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.apache.commons.dbcp.BasicDataSource&quot;</span></span></span><br><span class="xml">destroy-method=&quot;close&quot;&gt;</span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClassName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;driver&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;url&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;username&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;password&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- åˆå§‹åŒ–è¿æ¥å¤§å° --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;initialSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;initialSize&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å¤§æ•°é‡ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxActive&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;maxActive&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å¤§ç©ºé—² --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxIdle&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;maxIdle&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å°ç©ºé—² --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;minIdle&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;minIdle&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- è·å–è¿æ¥æœ€å¤§ç­‰å¾…æ—¶é—´ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxWait&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;maxWait&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-comment">&lt;!-- springå’ŒMyBatiså®Œç¾æ•´åˆï¼Œä¸éœ€è¦mybatisçš„é…ç½®æ˜ å°„æ–‡ä»¶ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«æmapping.xmlæ–‡ä»¶ --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;mapperLocations&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:com/cn/hnust/mapping/*.xml&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-comment">&lt;!-- DAOæ¥å£æ‰€åœ¨åŒ…åï¼ŒSpringä¼šè‡ªåŠ¨æŸ¥æ‰¾å…¶ä¸‹çš„ç±» --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;basePackage&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.cn.hnust.dao&quot;</span> /&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sqlSessionFactoryBeanName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-comment">&lt;!-- (äº‹åŠ¡ç®¡ç†)transaction manager, use JtaTransactionManager for global tx --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;transactionManager&quot;</span></span></span><br><span class="xml">class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;</span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>2.3 Log4jçš„é…ç½®<br>ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨æ—¥å¿—æ¥è¾“å‡ºä¿¡æ¯ï¼Œ Log4jæ˜¯ Apache çš„ä¸€ä¸ªå¼€æ”¾æºä»£ç é¡¹ç›®ï¼Œé€šè¿‡ä½¿ç”¨Log4jï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶ æ—¥å¿— ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯ æ§åˆ¶å° ã€æ–‡ä»¶ã€ GUI ç»„ä»¶ï¼Œç”šè‡³æ˜¯å¥—æ¥å£æœåŠ¡å™¨ã€ NT çš„äº‹ä»¶è®°å½•å™¨ã€ UNIX   Syslog å®ˆæŠ¤è¿›ç¨‹ ç­‰ï¼›æˆ‘ä»¬ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ï¼›é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚  </p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment">#å®šä¹‰LOGè¾“å‡ºçº§åˆ«</span><br><span class="hljs-attr">log4j.rootLogger</span>=INFO,Console,File<br><span class="hljs-comment">#å®šä¹‰æ—¥å¿—è¾“å‡ºç›®çš„åœ°ä¸ºæ§åˆ¶å°</span><br><span class="hljs-attr">log4j.appender.Console</span>=org.apache.log4j.ConsoleAppender<br><span class="hljs-attr">log4j.appender.Console.Target</span>=System.out<br><span class="hljs-comment">#å¯ä»¥çµæ´»åœ°æŒ‡å®šæ—¥å¿—è¾“å‡ºæ ¼å¼ï¼Œä¸‹é¢ä¸€è¡Œæ˜¯æŒ‡å®šå…·ä½“çš„æ ¼å¼</span><br><span class="hljs-attr">log4j.appender.Console.layout</span> = org.apache.log4j.PatternLayout<br><span class="hljs-attr">log4j.appender.Console.layout.ConversionPattern</span>=[%c] - %m%n<br><br><span class="hljs-comment">#æ–‡ä»¶å¤§å°åˆ°è¾¾æŒ‡å®šå°ºå¯¸çš„æ—¶å€™äº§ç”Ÿä¸€ä¸ªæ–°çš„æ–‡ä»¶</span><br><span class="hljs-attr">log4j.appender.File</span> = org.apache.log4j.RollingFileAppender<br><span class="hljs-comment">#æŒ‡å®šè¾“å‡ºç›®å½•</span><br><span class="hljs-attr">log4j.appender.File.File</span> = logs/ssm.log<br><span class="hljs-comment">#å®šä¹‰æ–‡ä»¶æœ€å¤§å¤§å°</span><br><span class="hljs-attr">log4j.appender.File.MaxFileSize</span> = <span class="hljs-number">10</span>MB<br><span class="hljs-comment"># è¾“å‡ºæ‰€ä»¥æ—¥å¿—ï¼Œå¦‚æœæ¢æˆDEBUGè¡¨ç¤ºè¾“å‡ºDEBUGä»¥ä¸Šçº§åˆ«æ—¥å¿—</span><br><span class="hljs-attr">log4j.appender.File.Threshold</span> = ALL<br><span class="hljs-attr">log4j.appender.File.layout</span> = org.apache.log4j.PatternLayout<br><span class="hljs-attr">log4j.appender.File.layout.ConversionPattern</span> =[%p] [%d&#123;yyyy-MM-dd HH\:mm\:ss&#125;][%c]%m%n<br></code></pre></td></tr></table></figure><p>3.JUnitæµ‹è¯•<br>3.1 å»ºè¡¨  </p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs n1ql"><span class="hljs-keyword">CREATE</span> TABLE <span class="hljs-symbol">`user_t`</span> (<br>  <span class="hljs-symbol">`id`</span> int(<span class="hljs-number">11</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> AUTO_INCREMENT,<br>  <span class="hljs-symbol">`user_name`</span> varchar(<span class="hljs-number">40</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,<br>  <span class="hljs-symbol">`password`</span> varchar(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,<br>  <span class="hljs-symbol">`age`</span> int(<span class="hljs-number">4</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,<br>  <span class="hljs-keyword">PRIMARY</span> <span class="hljs-keyword">KEY</span> (<span class="hljs-symbol">`id`</span>)<br>) ENGINE=InnoDB AUTO_INCREMENT=<span class="hljs-number">2</span> DEFAULT CHARSET=utf8;<br><br><span class="hljs-keyword">insert</span>  <span class="hljs-keyword">into</span> <span class="hljs-symbol">`user_t`</span>(<span class="hljs-symbol">`id`</span>,<span class="hljs-symbol">`user_name`</span>,<span class="hljs-symbol">`password`</span>,<span class="hljs-symbol">`age`</span>) <span class="hljs-keyword">values</span> (<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;æµ‹è¯•&#x27;</span>,<span class="hljs-string">&#x27;sfasgfaf&#x27;</span>,<span class="hljs-number">24</span>);<br></code></pre></td></tr></table></figure><p>3.2 åˆ©ç”¨MyBatis Generatorè‡ªåŠ¨åˆ›å»ºä»£ç <br>è¯¦è§ <a href="https://blog.csdn.net/zhshulin/article/details/23912615">https://blog.csdn.net/zhshulin/article/details/23912615</a></p><p>3.3 å»ºç«‹Serviceæ¥å£å’Œå®ç°ç±»  </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java">IUserService.jave<br><br><span class="hljs-keyword">package</span> com.cn.hnust.service;<br><br><span class="hljs-keyword">import</span> com.cn.hnust.pojo.User;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IUserService</span> </span>&#123;<br><span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">getUserById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> userId)</span></span>;<br>&#125;<br>UserServiceImpl.java<br><br><span class="hljs-keyword">package</span> com.cn.hnust.service.impl;<br><br><span class="hljs-keyword">import</span> javax.annotation.Resource;<br><br><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<br><br><span class="hljs-keyword">import</span> com.cn.hnust.dao.IUserDao;<br><span class="hljs-keyword">import</span> com.cn.hnust.pojo.User;<br><span class="hljs-keyword">import</span> com.cn.hnust.service.IUserService;<br><br><span class="hljs-meta">@Service(&quot;userService&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IUserService</span> </span>&#123;<br><span class="hljs-meta">@Resource</span><br><span class="hljs-keyword">private</span> IUserDao userDao;<br><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">getUserById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> userId)</span> </span>&#123;<br><span class="hljs-comment">// TODO Auto-generated method stub</span><br><span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.userDao.selectByPrimaryKey(userId);<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>3.4 å»ºç«‹æµ‹è¯•ç±»  </p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">package org.zsl.testmybatis;<br><br><span class="hljs-keyword">import</span> javax.annotation.Resource;<br><br><span class="hljs-keyword">import</span> org.apache.log4j.Logger;<br><span class="hljs-keyword">import</span> org.junit.<span class="hljs-keyword">Before</span>;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;<br><span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;<br><span class="hljs-keyword">import</span> org.springframework.test.context.ContextConfiguration;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;<br><br><span class="hljs-keyword">import</span> com.alibaba.fastjson.JSON;<br><span class="hljs-keyword">import</span> com.cn.hnust.pojo.<span class="hljs-keyword">User</span>;<br><span class="hljs-keyword">import</span> com.cn.hnust.service.IUserService;<br><br>@RunWith(SpringJUnit4ClassRunner.<span class="hljs-keyword">class</span>)//è¡¨ç¤ºç»§æ‰¿äº†SpringJUnit4ClassRunnerç±»<br>@ContextConfiguration(locations = &#123;&quot;classpath:spring-mybatis.xml&quot;&#125;)<br><br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> TestMyBatis &#123;<br>private static Logger logger = Logger.getLogger(TestMyBatis.<span class="hljs-keyword">class</span>);<br>//private ApplicationContext ac = <span class="hljs-keyword">null</span>;<br>@Resource<br>private IUserService userService = <span class="hljs-keyword">null</span>;<br><br>//@<span class="hljs-keyword">Before</span><br>//<span class="hljs-built_in">public</span> <span class="hljs-type">void</span> <span class="hljs-keyword">before</span>() &#123;<br>//ac = <span class="hljs-built_in">new</span> ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);<br>//userService = (IUserService) ac.getBean(&quot;userService&quot;);<br>//&#125;<br><br>@Test<br><span class="hljs-built_in">public</span> <span class="hljs-type">void</span> test1() &#123;<br><span class="hljs-keyword">User</span> <span class="hljs-keyword">user</span> = userService.getUserById(<span class="hljs-number">1</span>);<br>// <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(<span class="hljs-keyword">user</span>.getUserName());<br>// logger.<span class="hljs-keyword">info</span>(&quot;å€¼ï¼š&quot;+<span class="hljs-keyword">user</span>.getUserName());<br>logger.<span class="hljs-keyword">info</span>(<span class="hljs-type">JSON</span>.toJSONString(<span class="hljs-keyword">user</span>));<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•´åˆæˆåŠŸç»“æœå›¾<br><img src="/img/ssm1.jpg" alt="img"></p><ol start="4"><li>ä¸‹é¢å¼€å§‹æ•´åˆSpringMVC<br>ä¸Šé¢å·²ç»å®Œæˆäº†2å¤§æ¡†æ¶çš„æ•´åˆï¼ŒSpringMVCçš„é…ç½®æ–‡ä»¶å•ç‹¬æ”¾ï¼Œç„¶ååœ¨web.xmlä¸­é…ç½®æ•´åˆã€‚  </li></ol><p>4.1 é…ç½®spring-mvc.xml  </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/p&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans  </span></span><br><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/beans/spring-beans-3.1.xsd  </span></span><br><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/context  </span></span><br><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/context/spring-context-3.1.xsd  </span></span><br><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/mvc  </span></span><br><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«æè¯¥åŒ…ï¼Œä½¿SpringMVCè®¤ä¸ºåŒ…ä¸‹ç”¨äº†@controlleræ³¨è§£çš„ç±»æ˜¯æ§åˆ¶å™¨ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.cn.hnust.controller&quot;</span> /&gt;</span><br><span class="hljs-comment">&lt;!--é¿å…IEæ‰§è¡ŒAJAXæ—¶ï¼Œè¿”å›JSONå‡ºç°ä¸‹è½½æ–‡ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mappingJacksonHttpMessageConverter&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;supportedMediaTypes&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>text/html;charset=UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-comment">&lt;!-- å¯åŠ¨SpringMVCçš„æ³¨è§£åŠŸèƒ½ï¼Œå®Œæˆè¯·æ±‚å’Œæ³¨è§£POJOçš„æ˜ å°„ --&gt;</span><br>&lt;bean<br>class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;messageConverters&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;mappingJacksonHttpMessageConverter&quot;</span> /&gt;</span><span class="hljs-comment">&lt;!-- JSONè½¬æ¢å™¨ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-comment">&lt;!-- å®šä¹‰è·³è½¬çš„æ–‡ä»¶çš„å‰åç¼€ ï¼Œè§†å›¾æ¨¡å¼é…ç½®--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!-- è¿™é‡Œçš„é…ç½®æˆ‘çš„ç†è§£æ˜¯è‡ªåŠ¨ç»™åé¢actionçš„æ–¹æ³•returnçš„å­—ç¬¦ä¸²åŠ ä¸Šå‰ç¼€å’Œåç¼€ï¼Œå˜æˆä¸€ä¸ª å¯ç”¨çš„urlåœ°å€ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- é…ç½®æ–‡ä»¶ä¸Šä¼ ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ å¯ä»¥ä¸ç”¨é…ç½®ï¼Œå½“ç„¶å¦‚æœä¸é…ï¼Œé‚£ä¹ˆé…ç½®æ–‡ä»¶ä¸­ä¹Ÿä¸å¿…å¼•å…¥ä¸Šä¼ ç»„ä»¶åŒ… --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;multipartResolver&quot;</span>  </span><br><span class="hljs-tag">        <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span>  <br>        <span class="hljs-comment">&lt;!-- é»˜è®¤ç¼–ç  --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;defaultEncoding&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span>  <br>        <span class="hljs-comment">&lt;!-- æ–‡ä»¶å¤§å°æœ€å¤§å€¼ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxUploadSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10485760000&quot;</span> /&gt;</span>  <br>        <span class="hljs-comment">&lt;!-- å†…å­˜ä¸­çš„æœ€å¤§å€¼ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxInMemorySize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;40960&quot;</span> /&gt;</span>  <br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>4.2é…ç½®web.xmlæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://java.sun.com/xml/ns/javaee&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">version</span>=<span class="hljs-string">&quot;3.0&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">display-name</span>&gt;</span>Archetype Created Web Application<span class="hljs-tag">&lt;/<span class="hljs-name">display-name</span>&gt;</span><br><span class="hljs-comment">&lt;!-- Springå’Œmybatisçš„é…ç½®æ–‡ä»¶ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:spring-mybatis.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span><br><span class="hljs-comment">&lt;!-- ç¼–ç è¿‡æ»¤å™¨ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">async-supported</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">async-supported</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br><span class="hljs-comment">&lt;!-- Springç›‘å¬å™¨ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span><br><span class="hljs-comment">&lt;!-- é˜²æ­¢Springå†…å­˜æº¢å‡ºç›‘å¬å™¨ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>org.springframework.web.util.IntrospectorCleanupListener<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- Spring MVC servlet --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:spring-mvc.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">async-supported</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">async-supported</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-comment">&lt;!-- æ­¤å¤„å¯ä»¥å¯ä»¥é…ç½®æˆ*.doï¼Œå¯¹åº”strutsçš„åç¼€ä¹ æƒ¯ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">welcome-file-list</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">welcome-file</span>&gt;</span>/index.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">welcome-file</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">welcome-file-list</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure><p>4.3 æµ‹è¯•<br>å»ºç«‹jspé¡µé¢  </p><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs erb"><span class="xml">&lt;%</span><span class="ruby">@ page language=<span class="hljs-string">&quot;java&quot;</span> import=<span class="hljs-string">&quot;java.util.*&quot;</span> pageEncoding=<span class="hljs-string">&quot;utf-8&quot;</span></span><span class="xml">%&gt;</span><br><span class="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">HTML</span> <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æµ‹è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml">    $&#123;user.userName&#125;</span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml">&lt;/html</span><br></code></pre></td></tr></table></figure><p>å»ºç«‹UserControllerç±»  </p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">package</span> com.cn.hnust.controller;<br><br><span class="hljs-keyword">import</span> javax.<span class="hljs-keyword">annotation</span>.Resource;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><br><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br><span class="hljs-keyword">import</span> org.springframework.ui.Model;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RequestMapping;<br><br><span class="hljs-keyword">import</span> com.cn.hnust.pojo.User;<br><span class="hljs-keyword">import</span> com.cn.hnust.service.IUserService;<br><br><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">&quot;/user&quot;</span>)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> </span>&#123;<br><span class="hljs-meta">@Resource</span><br><span class="hljs-keyword">private</span> IUserService userService;<br><br><span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">&quot;/showUser&quot;</span>)</span><br><span class="hljs-keyword">public</span> String toIndex(HttpServletRequest request,Model model)&#123;<br>int userId = Integer.parseInt(request.getParameter(<span class="hljs-string">&quot;id&quot;</span>));<br>User user = <span class="hljs-keyword">this</span>.userService.getUserById(userId);<br>model.addAttribute(<span class="hljs-string">&quot;user&quot;</span>, user);<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;showUser&quot;</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>4.4 éƒ¨ç½²é¡¹ç›®<br>è¾“å…¥åœ°å€ï¼š localhost:8080/ é¡¹ç›®åç§° /user/showUser?id=1</p><p>å¤§åŠŸå‘Šæˆ~<br><img src="/img/ssm2.jpg" alt="img"></p>]]></content>
    
    
    
    <tags>
      
      <tag>SSM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å››æœˆéšæƒ³</title>
    <link href="/2018/04/17/2018-04-17-new/"/>
    <url>/2018/04/17/2018-04-17-new/</url>
    
    <content type="html"><![CDATA[<h2 id="å¼€ç¯‡"><a href="#å¼€ç¯‡" class="headerlink" title="å¼€ç¯‡"></a>å¼€ç¯‡</h2><p>è½¬çœ¼å·²è¿›å…¥äº†å››æœˆï¼Œç»†æ•°å·²æœ‰27å¤©æœªæ›¾æ›´åšï¼Œä¸è‡ªå·±ä¹‹å‰è¯´ä¸‹çš„èª“è¨€ç›¸å·®ç”šè¿œï¼Œè¿™è¿‘ä¸€ä¸ªæœˆä»¥æ¥å®åœ¨å‘ç”Ÿäº†å¤ªå¤šï¼Œçªç„¶çš„å‘ç—…ï¼Œä¸€ç›´åœ¨å¿™äºå°±åŒ»ï¼Œåˆç–²äºé¡¹ç›®å’Œå­¦ä¹ ï¼ŒåŒæ—¶æ²‰è¿·äº†ä¸€æ®µæ—¶é—´çš„æ¸¸æˆï¼Œå€Ÿç€éœ€è¦æ”¾æ¾çš„åä¹‰å»æ”¾çºµè‡ªå·±ï¼Œè¯´æ¥å®åœ¨æƒ­æ„§ã€‚æ€»ä¹‹è¿™çœŸçš„æ˜¯ä¸€ä¸ªç°æš—çš„ä¸‰æœˆï¼Œå¸Œæœ›å››æœˆçš„åˆ°æ¥èƒ½ä¸ºè¿™ä¸€åˆ‡ç…§äº®ä¸€é“æ›™å…‰ã€‚</p><h2 id="å…³äºå››æœˆ"><a href="#å…³äºå››æœˆ" class="headerlink" title="å…³äºå››æœˆ"></a>å…³äºå››æœˆ</h2><p>å¸Œæœ›è¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„å¼€å§‹ï¼Œç§¯å‹äº†å¤ªå¤šçš„äº‹æƒ…éœ€è¦å»å®Œæˆï¼Œéœ€è¦åˆ¶å®šä¸€ä»½å®Œå¤‡çš„è®¡åˆ’ç»™è‡ªå·±ã€‚</p><ol><li>ç»§ç»­æ·±å…¥Java webçš„å­¦ä¹ ã€‚æ•´ç†ä¹‹å‰å­¦ä¹ çš„å†…å®¹å¹¶è¿›è¡Œæ€»ç»“ï¼Œ åŒæ—¶è·Ÿè¿›ä¸¤ä¸ªé¡¹ç›®ç»„çš„è¿›åº¦ã€‚</li><li>æ¯å¤©åˆ·1ï½2é“PATé¢˜ç›®ï¼Œä»¥åŠç®—æ³•çš„é€‚å½“å­¦ä¹ ï¼ˆleetcodeï¼‰ï¼Œè¿æˆ˜æœˆæœ«çš„çœèµ›ã€‚</li><li>è¡¥ä¸Šä¸“ä¸šè¯¾çš„å­¦ä¹ ï¼Œå°¤å…¶æ˜¯Linuxå’Œç»„æˆåŸç†ï¼Œè¿™æ˜¯ä¸¤é—¨å¾ˆé‡è¦çš„è¯¾ç¨‹ã€‚</li><li>ç¥›ç—˜&amp;æŠ¤è‚¤ï¼Œå…»æˆè‰¯å¥½çš„ç”Ÿæ´»ä¹ æƒ¯ï¼Œæ—©ç¡æ—©èµ·å¤šåƒæ°´æœï¼Œå”‰ï¼ï¼ï¼</li><li>æ‘†è„±æ‹–å»¶ç—‡ï¼Œæé«˜è‡ªå·±çš„æ‰§è¡ŒåŠ›ï¼Œæ•ˆç‡ï¼æ•ˆç‡ï¼ï¼æ•ˆç‡ï¼ï¼ï¼</li></ol><h2 id="ä¸€äº›ç»†åˆ™"><a href="#ä¸€äº›ç»†åˆ™" class="headerlink" title="ä¸€äº›ç»†åˆ™"></a>ä¸€äº›ç»†åˆ™</h2><p>å…·ä½“çš„å®æ–½è®¡åˆ’éœ€è¦åœ¨è¿™é‡Œåˆ—å‡ºæ¥</p><ul><li>ç”Ÿæ´»æ¸…å•ï¼Œå¯è€ƒè™‘çº¸è´¨è´´åœ¨æ¡Œä¸Š</li><li>å­¦ä¹ æ¸…å•ï¼ŒiPadç¬”è®°å½¢å¼</li><li>ç†æ¸…æ¡Œé¢ï¼Œç†æ¸…å¤´ç»ªï¼Œä¸ç§¯å‹</li><li>ç¦ä»¤ï¼Œåˆ—å‡ºä¸èƒ½åšçš„äº‹ä¸¥æ ¼ç›‘ç£è‡ªå·±</li></ul><h2 id="ç»­"><a href="#ç»­" class="headerlink" title="ç»­"></a>ç»­</h2><p>å››æœˆåŠï¼Œè¿™ä¸ªæœˆçš„äº‹æƒ…å¤šçš„å¤´çš®å‘éº»ï¼Œè¿™ç¯‡æ—¥è®°ï¼Œå‘Šè¯«è‡ªå·±æ¥ä¸‹é‡Œçš„æ—¥å­é‡Œè¯¥åšå‡ºæ€æ ·çš„æ”¹å˜ï¼Œä»¥åº”å¯¹æ‰‘é¢è€Œæ¥çš„å°±ä¸šå±æœºã€‚</p><ol><li><p>ä¸è¦å†æŒ‰éƒ¨å°±ç­çš„è¿‡æ—¥å­ï¼Œéœ€è¦æ·±çŸ¥è‡ªå·±æ‰€å¤„çš„ç¯å¢ƒï¼Œè¯¾å ‚ä¸Šæ‰€å­¦çš„çŸ¥è¯†è¿œè¿œä¸èƒ½å¤Ÿè®©ä½ èƒ½å¤Ÿæ‰¾åˆ°ä¸€ä»½æ»¡æ„çš„å·¥ä½œï¼Œåº”è¯¥é€ƒæ‰ä¸ç›¸å¹²çš„é€‰ä¿®è¯¾ï¼ŒæŠŠå¤§é‡çš„ç²¾åŠ›æ”¾åœ¨å››å¤§åŸºç¡€è¯¾å’ŒJavaå¼€å‘ç›¸å…³çš„äº‹æƒ…ä¸Šï¼Œçœ‹ä¸€äº›å¤§ç‰›ä»¬çš„ç¬”ç»é¢ç»ï¼Œäº†è§£è‡ªå·±ç¼ºä»€ä¹ˆï¼Œè¯¥å­¦ä»€ä¹ˆã€‚</p></li><li><p>å¹³æ—¶ç¬”è®°åœ¨ipadä¸Šå®Œæˆï¼Œæ¯éš”ä¸€ä¸ªæ—¶é—´æ®µåœ¨åšå®¢ä¸Šè¿›è¡Œå­¦ä¹ æ€»ç»“ï¼Œä¸ä¸ºäº†å†™åšå®¢è€Œå†™åšå®¢ï¼Œå› ä¸ºä¹‹åä¼šæœ‰å¤§é‡çš„æ—¶é—´åšé¡¹ç›®ï¼Œå…³äºjavawebçš„å†…å®¹ï¼Œå°†åœ¨é¡¹ç›®çš„é˜¶æ®µæ€§æˆæœä¹‹åå†™å‡ºå¯¹åº”çš„åšå®¢æ€»ç»“ï¼Œå¹¶å¯¹å…ˆå‰æ»¥ç«½å……æ•°çš„å†…å®¹è¿›è¡Œå®Œå–„å’Œæ•´æ”¹ï¼Œåˆ·é¢˜é¢˜è§£ä»¥åŠæ—¥è®°åº”æ­£å¸¸å‘å¸ƒåœ¨åšå®¢ä¸Šã€‚</p></li><li><p>å…³äºé¡¹ç›®ï¼Œè¯·å…ˆåœ¨äº”æœˆä¸­æ—¬ä¹‹å‰ï¼Œå­¦æ‰SSMæ¡†æ¶ï¼Œè¾¾åˆ°ä¼šç”¨çš„ç¨‹åº¦ï¼Œä¹‹åå†åœ¨é¡¹ç›®è¿ç”¨ä¸­ï¼Œå¯¹åŸç†è¿›è¡Œæ·±åº¦ç†è§£ã€‚</p></li><li><p>åŸºç¡€ï¼Œå¾ˆé‡è¦ï¼Œé¢å¤–æŒ‘é€‰æ—¶é—´è¿›è¡Œå­¦ä¹ ï¼Œå¯ä»¥æ˜¯å‘¨æœ«ã€‚</p></li></ol><h2 id="ç»“"><a href="#ç»“" class="headerlink" title="ç»“"></a>ç»“</h2><p>ä¹‹åçš„å­¦ä¹ æ˜¯SSMæ¡†æ¶ï¼Œç„¶åç»„æˆåŸç†ï¼Œç®—æ³•ï¼Œå¤‡æˆ˜æœŸæœ«è€ƒã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>ç”Ÿæ´»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javawebå­¦ä¹ 08-è¿‡æ»¤å™¨&amp;ç›‘å¬å™¨</title>
    <link href="/2018/03/15/2018-02-25-javaweb8/"/>
    <url>/2018/03/15/2018-02-25-javaweb8/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æš‚æ”¾ï¼Œå…³äº <strong>è¿‡æ»¤å™¨åŠå°è£…å™¨</strong> çš„è®²è¿°ï¼Œåé¢æ·»ä¸Š <strong>ç›‘å¬å™¨</strong>ã€‚  </p><h2 id="è¿‡æ»¤å™¨ä¸å°è£…å™¨"><a href="#è¿‡æ»¤å™¨ä¸å°è£…å™¨" class="headerlink" title="è¿‡æ»¤å™¨ä¸å°è£…å™¨"></a>è¿‡æ»¤å™¨ä¸å°è£…å™¨</h2><p><strong>è¿‡æ»¤å™¨</strong>ï¼šæ‹¦æˆªè¿‡æ»¤æµè§ˆå™¨å¯¹Servletçš„è¯·æ±‚ï¼Œä¹Ÿå¯ä»¥æ”¹å˜Servletå¯¹æµè§ˆå™¨çš„å“åº”ã€‚  </p><p>æ‰€æœ‰çš„Servletè¿‡æ»¤å™¨ç±»éƒ½å¿…é¡»å®ç° <strong>javax.servlet.Filter</strong> æ¥å£ã€‚è¯¥æ¥å£å®šä¹‰äº†ä»¥ä¸‹3ä¸ªæ–¹æ³•ï¼š</p><ul><li>init(FilterConfig)  è¿™æ˜¯Servletè¿‡æ»¤å™¨çš„åˆå§‹åŒ–æ–¹æ³•ï¼ŒServletå®¹å™¨åˆ›å»ºServletè¿‡æ»¤å™¨å®ä¾‹åå°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­å¯ä»¥é€šè¿‡FilterConfigæ¥è¯»å–web.xmlæ–‡ä»¶ä¸­Servletè¿‡æ»¤å™¨çš„åˆå§‹åŒ–å‚æ•°ã€‚   </li><li>doFilter(ServletRequest, ServletResponse, FilterChain)  è¿™æ˜¯å®Œæˆå®é™…çš„è¿‡æ»¤æ“ä½œçš„æ–¹æ³•ï¼Œå½“å®¢æˆ·è¯·æ±‚è®¿é—®ä¸è¿‡æ»¤å™¨å…³è”çš„URLæ—¶ï¼ŒServletå®¹å™¨å…ˆè°ƒç”¨è¯¥æ–¹æ³•ã€‚FilterChainå‚æ•°ç”¨æ¥è®¿é—®åç»­çš„è¿‡æ»¤å™¨çš„doFilter()æ–¹æ³•ã€‚   </li><li>destroy()  Servletå®¹å™¨åœ¨é”€æ¯è¿‡æ»¤å™¨å®ä¾‹å‰è°ƒç”¨è¯¥æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œå¯ä»¥é‡Šæ”¾è¿‡æ»¤å™¨å ç”¨çš„èµ„æºã€‚</li></ul><p>è¿‡æ»¤å™¨è®¾ç½®ï¼š web.xmlè®¾ç½®è¿‡æ»¤å™¨æ—¶ï¼Œfilter-mappingä¸­å¯ä»¥ä½¿ç”¨url-patternæ¥æŒ‡å®šå“ªäº›URLè¯·æ±‚å°†åº”ç”¨æ­¤è¿‡æ»¤å™¨ï¼Œä¹Ÿå¯ç”¨<servlet-name>æŒ‡å®šServletåç§°ï¼Œè¡¨ç¤ºå“ªäº›Servletå°†åº”ç”¨æ­¤è¿‡æ»¤å™¨ã€‚</p><p>è§¦å‘è¿‡æ»¤å™¨æ—¶æœºé»˜è®¤æ˜¯æµè§ˆå™¨ç›´æ¥å‘å‡ºè¯·æ±‚ã€‚å¦‚æœæ˜¯é€šè¿‡RequestDispatcherçš„forward()æˆ–include()è¯·æ±‚ï¼Œåˆ™å¯ä»¥åœ¨web.xmlä¸­è®¾ç½®<dispatcher>æ ‡ç­¾ï¼ŒæŒ‡å®šå“ªäº›éœ€æ±‚è½¬å‘ç±»å‹å¯ä»¥å‡ºå‘è¿‡æ»¤å™¨ï¼Œä¸è®¾ç½®åˆ™é»˜è®¤ä¸ºREQUESTã€‚</p><p><strong>æ­é…å°è£…å™¨</strong>ï¼šå°†å®¹å™¨äº§ç”Ÿçš„è¯·æ±‚ä¸å“åº”å¯¹è±¡åŠ ä»¥å°è£…ï¼Œä»¥é’ˆå¯¹æŸäº›è¯·æ±‚ä¿¡æ¯æˆ–å“åº”è¿›è¡ŒåŠ å·¥å¤„ç†ã€‚</p><ul><li>è¯·æ±‚å°è£…å™¨ï¼šé€šè¿‡HttpServletRequestWrapperå®ç°HttpServletRequestæ¥å£ï¼Œåªè¦ç»§æ‰¿è¿™ä¸ªç±»ï¼Œå¹¶ç¼–å†™æƒ³è¦é‡æ–°å®šä¹‰çš„æ–¹æ³•å³å¯ã€‚ç›¸å¯¹åº”äºServletRequestæ¥å£ï¼Œä¹Ÿæœ‰ä¸ªServletRequestWrapperç±»å¯ä»¥ä½¿ç”¨ã€‚</li></ul><p>ä»¥ä¸‹èŒƒä¾‹é€šè¿‡ç»§æ‰¿HttpServletRequestWrapperå®ç°ä¸€ä¸ªè¯·æ±‚å°è£…å™¨ï¼Œå¯ä»¥å°†è¯·æ±‚å‚æ•°ä¸­çš„HTMLå­—ç¬¦æ›¿æ¢ä¸ºHTMLå®ä½“å­—ç¬¦ã€‚   </p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EscapeWrapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServletRequestWrapper</span> </span>&#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-title">EscapeWrapper</span>(<span class="hljs-params">HttpServletRequest request</span>)</span> &#123;<br>        <span class="hljs-built_in">super</span>(request);<span class="hljs-comment">//å¿…é¡»è°ƒç”¨çˆ¶ç±»æ„é€ å™¨ï¼Œå°†HttpServletRequestå®ä¾‹ä¼ å…¥</span><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">String</span> <span class="hljs-function"><span class="hljs-title">getParameter</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>)</span> &#123;<br>        <span class="hljs-built_in">String</span> value = getRequest().getParameter(name);<br>        <span class="hljs-keyword">return</span> StringEscapeUtils.escapeHtml(value);   <br>        <span class="hljs-comment">//å°†è¯·æ±‚å‚æ•°å€¼è¿›è¡Œå­—ç¬¦æ›¿æ¢</span><br>    &#125;<br><br>&#125;<br><span class="hljs-string">``</span><span class="hljs-string">`  </span><br><span class="hljs-string">ä¹‹åè‹¥æœ‰Servletæƒ³å–å¾—è¯·æ±‚å‚æ•°å€¼ï¼Œéƒ½ä¼šè°ƒç”¨getParameter()æ–¹æ³•ï¼Œæ‰€ä»¥è¿™é‡Œé‡æ–°å®šä¹‰è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨æ­¤æ–¹æ³•ä¸­ï¼Œè¿›è¡Œå­—ç¬¦æ›¿æ¢åŠ¨ä½œã€‚å¯ä»¥ä½¿ç”¨è¿™ä¸ªè¯·æ±‚å°è£…å™¨æ­é…è¿‡æ»¤å™¨ï¼Œä»¥è¿›è¡Œå­—ç¬¦è¿‡æ»¤çš„æœåŠ¡ã€‚ä¾‹å¦‚ï¼š  </span><br></code></pre></td></tr></table></figure><p>@WebFilter(<br>        filterName=â€EscapeFilterâ€,<br>        urlPatterns={â€œ/guestbookâ€},<br>        dispatcherTypes={<br>                DispatcherType.FORWARD,<br>                DispatcherType.INCLUDE,<br>                DispatcherType.REQUEST,<br>                DispatcherType.ERROR,DispatcherType.ASYNC<br>            })<br>public class EscapeFilter implements Filter {<br>    private FilterConfig config;</p><pre><code>public EscapeFilter() &#123;&#125;public void destroy() &#123;    System.out.println(&quot;EscapeFilter calling done!&quot;);&#125;public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123;    long begin = System.currentTimeMillis();    HttpServletRequest requestWrapper = new EscapeWrapper((HttpServletRequest)request);    chain.doFilter(requestWrapper, response);    config.getServletContext().log(&quot;Request escaping HTML tags in &quot; +            (System.currentTimeMillis() - begin) + &quot; milliseconds&quot;);&#125;public void init(FilterConfig fConfig) throws ServletException &#123;    this.config = fConfig;    System.out.println(&quot;EscapeFilter init done!&quot;);&#125;</code></pre><p>}</p><pre><code>- å“åº”å°è£…å™¨ï¼šåœ¨Servletä¸­ï¼Œæ˜¯é€šè¿‡HttpServletResponseå¯¹è±¡æ¥å¯¹æµè§ˆå™¨è¿›è¡Œå“åº”çš„ï¼Œå¦‚æœæƒ³è¦å¯¹å“åº”çš„å†…å®¹è¿›è¡Œå‹ç¼©å¤„ç†ï¼Œå°±è¦æƒ³åŠæ³•è®©HttpServletResponseå¯¹è±¡å…·æœ‰å‹ç¼©å¤„ç†çš„åŠŸèƒ½ã€‚å‰é¢ä»‹ç»è¿‡è¯·æ±‚å°è£…å™¨çš„å®ç°ï¼Œè€Œåœ¨å“åº”å°è£…å™¨çš„éƒ¨åˆ†ï¼Œå¯ä»¥ç»§æ‰¿HttpServletResponseWrapperç±»æ¥å¯¹HttpServletResponseå¯¹è±¡è¿›è¡Œå°è£…ã€‚è‹¥è¦å¯¹æµè§ˆå™¨è¿›è¡Œè¾“å‡ºå“åº”ï¼Œå¿…é¡»é€šè¿‡getWriter()å–å¾—PrintWriterï¼Œæˆ–æ˜¯é€šè¿‡getOutputStream()å–å¾—ServletOutputStreamã€‚ æ‰€ä»¥é’ˆå¯¹å‹ç¼©è¾“å‡ºçš„éœ€æ±‚ï¼Œä¸»è¦å°±æ˜¯ç»§æ‰¿HttpServletResponseWrapperç±»ä¹‹åï¼Œé€šè¿‡é‡æ–°å®šä¹‰è¿™ä¸¤ä¸ªæ–¹æ³•æ¥è¾¾æˆã€‚åœ¨ä¸‹é¢ä¾‹å­ä¸­ï¼Œå‹ç¼©çš„åŠŸèƒ½é‡‡ç”¨GZIPæ ¼å¼ï¼Œè¿™æ˜¯æµè§ˆå™¨å¯ä»¥æˆå—çš„å‹ç¼©æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨GZIPOutputStreamç±»æ¥å®ç°ã€‚ç”±äºgetWriter()çš„PrintWriteråœ¨åˆ›å»ºæ—¶ï¼Œä¹Ÿæ˜¯å¿…é¡»ä½¿ç”¨åˆ°ServletOutputStreamï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå…ˆæ‰©å±•ServletOutputStreamç±»ï¼Œè®©å®ƒå…·æœ‰å‹ç¼©çš„åŠŸèƒ½ã€‚    </code></pre><p>public class GZipServletOutputStream extends ServletOutputStream {<br>    private GZIPOutputStream gzipOutputStream;</p><pre><code>public GZipServletOutputStream(ServletOutputStream servletOutputStream) throws IOException &#123;    this.gzipOutputStream = new GZIPOutputStream(servletOutputStream);&#125;@Overridepublic boolean isReady() &#123;    return false;&#125;@Overridepublic void setWriteListener(WriteListener listener) &#123;&#125;public GZIPOutputStream getGzipOutputStream()&#123;    return gzipOutputStream;&#125;@Overridepublic void write(int b) throws IOException &#123;    gzipOutputStream.write(b);  //è¾“å‡ºæ—¶é€šè¿‡gzipOutputStreamæ¥å‹ç¼©è¾“å‡º&#125;</code></pre><p>}</p><pre><code>åœ¨HttpServletResponseå¯¹è±¡ä¼ å…¥Servletçš„service()æ–¹æ³•å‰ï¼Œå¿…é¡»å…ˆå°è£…å®ƒï¼Œä½¿å¾—è°ƒç”¨getOutputStream()æ—¶ï¼Œå¯ä»¥å–å¾—è¿™é‡Œæ‰€å®ç°çš„GZipServletOutputStreamå¯¹è±¡ï¼Œè€Œè°ƒç”¨getWriter()æ—¶ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨GZipServletOutputStreamå¯¹è±¡æ¥æ„é€ PrintWriterå¯¹è±¡ã€‚   </code></pre><p>public class CompressionWrapper extends HttpServletResponseWrapper {<br>    private GZipServletOutputStream gzServletOutputStream;<br>    private PrintWriter printWriter;</p><pre><code>public CompressionWrapper(HttpServletResponse response) &#123;    super(response);&#125; @Overridepublic ServletOutputStream getOutputStream() throws IOException &#123;    //å“åº”ä¸­å·²ç»è°ƒç”¨è¿‡getWriterï¼Œå†è°ƒç”¨getOutputStreamå°±æŠ›å‡ºå¼‚å¸¸    if(printWriter != null) &#123;        throw new IllegalStateException();    &#125;    if(null == gzServletOutputStream) &#123;        gzServletOutputStream =        new GZipServletOutputStream(getResponse().getOutputStream());    &#125;    return gzServletOutputStream;&#125; @Override public PrintWriter getWriter() throws IOException &#123;     //å“åº”ä¸­å·²ç»è°ƒç”¨è¿‡getOutputStreamï¼Œå†è°ƒç”¨getWriterå°±æŠ›å‡ºå¼‚å¸¸     if(gzServletOutputStream != null) &#123;         throw new IllegalStateException();     &#125;     if(null == printWriter) &#123;         gzServletOutputStream = new GZipServletOutputStream(getResponse().getOutputStream());         OutputStreamWriter osw = new OutputStreamWriter(                 gzServletOutputStream, getResponse().getCharacterEncoding());         printWriter = new PrintWriter(osw);     &#125;     return printWriter; &#125; //ä¸å®ç°æ­¤æ–¹æ³•ï¼Œå› ä¸ºçœŸæ­£çš„è¾“å‡ºä¼šè¢«å‹ç¼©ï¼Œå¿½ç•¥åŸæ¥çš„å†…å®¹é•¿åº¦è®¾ç½® @Override public void setContentLength(int len)&#123; &#125; public GZIPOutputStream getGZIPOutputStream() &#123;     if(this.gzServletOutputStream == null)         return null;     return this.gzServletOutputStream.getGzipOutputStream(); &#125;</code></pre><p>}</p><pre><code>åœ¨ä¸Šä¾‹ä¸­è¦æ³¨æ„ï¼Œç”±äºServletè§„èŒƒä¸­è§„å®šï¼Œåœ¨åŒä¸€ä¸ªè¯·æ±‚æœŸé—´ï¼ŒgetWriter()ä¸getOutputStream()åªèƒ½æ‹©ä¸€è°ƒç”¨ï¼Œå¦åˆ™å¿…æŠ›å‡ºIllegalStateExceptionï¼Œå› æ­¤å»ºè®®åœ¨å®ç°å“åº”å°è£…å™¨æ—¶ï¼Œä¹Ÿéµå¾ªè¿™ä¸ªè§„èŒƒã€‚å› æ­¤åœ¨é‡æ–°å®šä¹‰getOutputStream()ä¸getWriter()æ–¹æ³•æ—¶ï¼Œåˆ†åˆ«è¦æ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨PrintWriterä¸ServletOutputStreamå®ä¾‹ã€‚## ç›‘å¬å™¨1.ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨ï¼šå°±æ˜¯å¯ä»¥åœ¨æŸä¸ªå¯¹è±¡ç”Ÿæˆåˆ°è¢«å®¹å™¨é”€æ¯ä¹‹å‰ï¼Œç›‘å¬å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„çŠ¶æ€å˜åŒ–ã€‚å¯ä½œç”¨äºServeltRequest,HttpSessionä¸ServletContextã€‚  åœ¨web.xmlä¸Šä½¿ç”¨&lt;listener&gt;ä¸&lt;listener-class&gt;è®¾ç½®ç›‘å¬å™¨ç±»ã€‚  </code></pre><p>ServletContextListener<br>  contextInitialized(sce: ServletContextEvent): void<br>  contextDestroyed(sce: ServletContextEvent): void  </p><p>ServletContextEvent<br>  ServletContextEvent(source: ServletContext)<br>  getServletContext(): ServletContext  </p><pre><code></code></pre><p>ServletRequestListener<br>  requestInitialized(sre: ServletRequestEvent): void<br>  requestDestroyed(sce: ServletRequestEvent): void  </p><p>ServletRequestEvent<br>  ServletRequestEvent(sc: ServletContext, request: ServletRequest)<br>  getServletRequest(): ServletRequest<br>  getServletContext(): ServletContext  </p><pre><code></code></pre><p>HttpSessionListener<br>  sessionCreated(sre: HttpSessionEvent): void<br>  sessionDestroyed(sce: HttpSessionEvent): void    </p><p>HttpSessionEvent<br>  HttpSessionEvent(source: HttpSession)<br>  getSession(): HttpSession  </p><pre><code>2.å±æ€§æ“ä½œç›‘å¬å™¨ï¼šåœ¨Servlet/JSPä¸­ï¼Œæœ‰ä¸‰ä¸ªå¯¹è±¡å¯ä»¥è®¾ç½®å±æ€§ï¼Œåˆ†åˆ«æ˜¯ServletContextã€HttpSessionå’ŒServletRequestã€‚å¦‚æœæƒ³è¦åœ¨è¿™äº›å¯¹è±¡è¢«è®¾ç½®ã€åˆ é™¤æˆ–æ›¿æ¢å±æ€§æ—¶ï¼Œæ”¶åˆ°é€šçŸ¥ä»¥è¿›è¡Œä¸€äº›åŠ¨ä½œï¼Œåˆ™å¯ä»¥å®ç°ç›¸å¯¹åº”çš„ServletContextAttributeListenerã€HttpSessionAttributeListenerå’ŒServletRequestAttributeListeneræ¥å£ã€‚    å¦‚æœè¦ä½¿ç”¨è¿™å‡ ä¸ªç›‘å¬å™¨ï¼Œå¿…é¡»åŒæ ·åœ¨web.xmlä¸­ä½¿ç”¨&lt;listener&gt;ä¸&lt;listener-class&gt;è¿›è¡Œè®¾ç½®ã€‚3.ä¼šè¯å±æ€§ç±»ç›‘å¬å™¨ï¼šå‰é¢å‡ ä¸ªç›‘å¬å™¨éƒ½å¿…é¡»åœ¨web.xmlä¸­è¿›è¡Œè®¾ç½®ï¼Œè¿™é‡Œæ‰€è¦ä»‹ç»çš„HttpSessionBindingListenerä¸HttpSessionActivationListenerï¼Œåˆ™æ˜¯è®©å³å°†åŠ å…¥HttpSessionçš„å±æ€§å¯¹è±¡å®ç°ï¼ŒHttpSessionåœ¨é€‚å½“çš„æ—¶æœºå°±ä¼šç›´æ¥è°ƒç”¨æ¥å£ä¸Šå¯¹åº”çš„æ–¹æ³•ï¼Œä¸å¿…åœ¨web.xmlä¸­åšä»»ä½•è®¾ç½®ã€‚   **HttpSessionBindingListener**   å¦‚æœæœ‰ä¸ªå³å°†åŠ å…¥HttpSessionçš„å±æ€§å¯¹è±¡ï¼Œå¸Œæœ›åœ¨è®¾ç½®ç»™HttpSessionæˆä¸ºå±æ€§æˆ–ä»HttpSessionä¸­åˆ é™¤æ—¶ï¼Œå¯ä»¥æ”¶åˆ°HttpSessionçš„é€šçŸ¥ï¼Œåˆ™å¯ä»¥è®©è¯¥å¯¹è±¡å®ç°HttpSessionBindingListeneræ¥å£ã€‚å½“å±æ€§å¯¹è±¡è¢«åŠ å…¥åˆ°HttpSessionä¸­æˆ–ä»ä¸­åˆ é™¤æ—¶ï¼Œå°±ä¼šè°ƒç”¨å¯¹åº”çš„valueBound()ä¸valueUnbound()æ–¹æ³•ã€‚èŒƒä¾‹ï¼š  </code></pre><p>public class Login extends HttpServlet{<br>    //â€¦<br>    protected void doPost(HttpServletRequest request, HttpServletResponse response)<br>        throws ServletException, IOException {<br>        String username = request.getParameter(â€œusernameâ€);<br>        String password = request.getParameter(â€œpasswordâ€);<br>        if (â€œabcâ€.equals(username) &amp;&amp; â€œ123â€.equals(password)) {<br>            User user = new User(name);<br>            request.getSession().setAttribute(â€œloginâ€, user);<br>            request.getRequestDispatcher(â€œuser.jspâ€)<br>                .forward(request, response);<br>        } else {<br>            response.sendRedirect(â€œlogin.htmlâ€);<br>        }<br>    }<br>}</p><pre><code>å½“ç”¨æˆ·è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç æ—¶ï¼Œé¦–å…ˆä¼šä»¥ç”¨æˆ·åç§°æ¥åˆ›å»ºUserå®ä¾‹ï¼Œè€ŒååŠ å…¥HttpSessionä¸­ä½œä¸ºå±æ€§ã€‚å½“å¸Œæœ›Userå®ä¾‹è¢«åŠ å…¥æˆä¸ºHttpSessionå±æ€§æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨ä»æ•°æ®åº“ä¸­åŠ è½½ç”¨æˆ·çš„å…¶ä»–æ•°æ®ï¼Œæ¯”å¦‚åœ°å€ã€ç›¸ç‰‡ç­‰ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­è®°å½•ç”¨æˆ·ç™»å½•çš„ä¿¡æ¯ï¼›è€Œå½“HttpSessionå¤±æ•ˆæˆ–è€…å› ç”¨æˆ·æ³¨é”€è€ŒUserå®ä¾‹ä»HttpSessionä¸­åˆ é™¤æ—¶ï¼Œåˆ™åœ¨æ—¥å¿—ä¸­è®°å½•ç”¨æˆ·æ³¨é”€çš„ä¿¡æ¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥è®©Userç±»å®ç°HttpSessionBindingListeneræ¥å£ã€‚ä¾‹å¦‚ï¼š  </code></pre><p>import java.util.logging.Level;<br>import java.util.logging.Logger;</p><p>import javax.servlet.http.HttpSessionBindingEvent;<br>import javax.servlet.http.HttpSessionBindingListener;</p><p>public class User implements HttpSessionBindingListener {<br>    private String name;<br>    private String otherData;</p><pre><code>public User(String name) &#123;    this.name = name;&#125;@Overridepublic void valueBound(HttpSessionBindingEvent event) &#123;    this.otherData = name + &quot;: query data from database...&quot;;    Logger.getLogger(User.class.getName()).log(Level.SEVERE, this.name + &quot; login...&quot;, event);&#125;@Overridepublic void valueUnbound(HttpSessionBindingEvent event) &#123;    Logger.getLogger(User.class.getName()).log(Level.SEVERE, this.name + &quot; logout...&quot;, event);&#125;//Getter and Setter</code></pre><p>}</p><pre><code>**HttpSessionActivationListener**  HttpSessionActivationListenerå®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•sessionWillPassivate()ä¸sessionDidActivate()ã€‚  å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå‡ ä¹ä¸ä¼šä½¿ç”¨åˆ°HttpSessionActivationListenerã€‚åœ¨ä½¿ç”¨åˆ°åˆ†å¸ƒå¼ç¯å¢ƒæ—¶ï¼Œåº”ç”¨ç¨‹åºçš„å…‘ç°å¯èƒ½åˆ†æ•£åœ¨å¤šä¸ªJVMä¸­ã€‚å½“HttpSessionè¦ä»ä¸€ä¸ªJVMè¿ç§»è‡³å¦ä¸€ä¸ªJVMæ—¶ï¼Œå¿…é¡»ç°åœ¨åŸæœ¬çš„JVMä¸Šåºåˆ—åŒ–æ‰€æœ‰çš„å±æ€§å¯¹è±¡ã€‚åœ¨è¿™ä¹‹å‰è‹¥å±æ€§å¯¹è±¡å®ç°äº†HttpSessionActivationListenerï¼Œå°±ä¼šè°ƒç”¨sessionWillPassivate()æ–¹æ³•ã€‚å½“HttpSessionè¿ç§»è‡³å¦ä¸€ä¸ªJVMåï¼Œå°±ä¼šå¯¹æ‰€æœ‰å¯¹è±¡åšååºåˆ—åŒ–ï¼Œæ­¤æ—¶å°±ä¼šè°ƒç”¨sessionDidActivate()æ–¹æ³•ã€‚è¦å®ç°åºåˆ—åŒ–çš„å¯¹è±¡å¿…é¡»å®ç°Serializableæ¥å£ï¼Œå¦‚æœåœ¨HttpSessionå¯¹è±¡ä¸­ï¼Œæœ‰äº›ç±»åˆ«æˆå‘˜æ— æ³•åšåºåˆ—åŒ–ï¼Œåˆ™å¯ä»¥åœ¨sessionWillPassivate()æ–¹æ³•ä¸­åšäº›æ›¿ä»£å¤„ç†æ¥ä¿å­˜è¯¥æˆå‘˜çš„çŠ¶æ€ï¼Œè€Œåœ¨sessionDidActivate()æ–¹æ³•ä¸­åšæŸäº›æ¢å¤è¯¥æˆå‘˜çŠ¶æ€çš„åŠ¨ä½œã€‚</code></pre>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javawebå­¦ä¹ 07-ELè¡¨è¾¾å¼</title>
    <link href="/2018/03/10/2018-02-15-javaweb7/"/>
    <url>/2018/03/10/2018-02-15-javaweb7/</url>
    
    <content type="html"><![CDATA[<h2 id="ELè¡¨è¾¾å¼"><a href="#ELè¡¨è¾¾å¼" class="headerlink" title="ELè¡¨è¾¾å¼"></a>ELè¡¨è¾¾å¼</h2><p>ç”¨äºè·å–æ•°æ®ï¼Œä½¿ç”¨æ ‡è¯†ç¬¦${æ ‡è¯†ç¬¦}å½¢å¼ï¼Œé€šè¿‡JSPå¼•æ“è°ƒç”¨</p><p><strong>11ä¸ªéšå«å¯¹è±¡</strong><br>pageContext          å¯¹åº”äºJSPé¡µé¢ä¸­çš„pageContextå¯¹è±¡ï¼ˆæ³¨æ„ï¼šå–çš„æ˜¯pageContextå¯¹è±¡ã€‚ï¼‰<br>pageScope            ä»£è¡¨pageåŸŸä¸­ç”¨äºä¿å­˜å±æ€§çš„Mapå¯¹è±¡<br>requestScope        ä»£è¡¨requeståŸŸä¸­ç”¨äºä¿å­˜å±æ€§çš„Mapå¯¹è±¡<br>sessionScope        ä»£è¡¨sessionåŸŸä¸­ç”¨äºä¿å­˜å±æ€§çš„Mapå¯¹è±¡<br>applicationScope    ä»£è¡¨applicationåŸŸä¸­ç”¨äºä¿å­˜å±æ€§çš„Mapå¯¹è±¡<br>param                è¡¨ç¤ºä¸€ä¸ªä¿å­˜äº†æ‰€æœ‰è¯·æ±‚å‚æ•°çš„Mapå¯¹è±¡<br>paramValues       è¡¨ç¤ºä¸€ä¸ªä¿å­˜äº†æ‰€æœ‰è¯·æ±‚å‚æ•°çš„Mapå¯¹è±¡ï¼Œå®ƒå¯¹äºæŸä¸ªè¯·æ±‚å‚æ•°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªstring[]<br>header              è¡¨ç¤ºä¸€ä¸ªä¿å­˜äº†æ‰€æœ‰httpè¯·æ±‚å¤´å­—æ®µçš„Mapå¯¹è±¡<br>headerValues        åŒä¸Šï¼Œè¿”å›string[]æ•°ç»„ã€‚æ³¨æ„ï¼šå¦‚æœå¤´é‡Œé¢æœ‰â€œ-â€ ï¼Œä¾‹Accept-Encodingï¼Œåˆ™è¦headerValues[â€œAccept-Encodingâ€]<br>cookie              è¡¨ç¤ºä¸€ä¸ªä¿å­˜äº†æ‰€æœ‰cookieçš„Mapå¯¹è±¡<br>initParam            è¡¨ç¤ºä¸€ä¸ªä¿å­˜äº†æ‰€æœ‰webåº”ç”¨åˆå§‹åŒ–å‚æ•°çš„mapå¯¹è±¡  </p><p>æµ‹è¯•cookieæ—¶ï¼Œä¾‹${cookie.key}å–çš„æ˜¯cookieå¯¹è±¡ï¼Œå¦‚è®¿é—®cookieçš„åç§°å’Œå€¼ï¼Œé¡»${cookie.key.name}æˆ–${cookie.key.value}</p><p>ELè‡ªå®šä¹‰å‡½æ•°ç”¨äºæ‰©å±•ELè¡¨è¾¾å¼çš„åŠŸèƒ½ï¼Œå¯ä»¥è®©ELè¡¨è¾¾å¼å®Œæˆæ™®é€šJavaç¨‹åºä»£ç æ‰€èƒ½å®Œæˆçš„åŠŸèƒ½ã€‚<br>ELè‡ªå®šä¹‰å‡½æ•°å¼€å‘ä¸åº”ç”¨åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š  </p><ol><li>ç¼–å†™ä¸€ä¸ªJavaç±»çš„é™æ€æ–¹æ³•  </li><li>ç¼–å†™æ ‡ç­¾åº“æè¿°ç¬¦ï¼ˆtldï¼‰æ–‡ä»¶ï¼Œåœ¨tldæ–‡ä»¶ä¸­æè¿°è‡ªå®šä¹‰å‡½æ•°</li><li>åœ¨JSPé¡µé¢ä¸­å¯¼å…¥å’Œä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°<br>ç¤ºä¾‹ï¼š${prefixï¼šmethod(params)</li></ol><p>ç¼–å†™å®Œæ ‡ç­¾åº“æè¿°æ–‡ä»¶åï¼Œéœ€è¦å°†å®ƒæ”¾ç½®åˆ°&lt;webåº”ç”¨&gt;\WEB-INFç›®å½•ä¸­æˆ–WEB-INFç›®å½•ä¸‹çš„é™¤äº†classeså’Œlibç›®å½•ä¹‹å¤–çš„ä»»æ„å­ç›®å½•ä¸­ã€‚<br>TLDæ–‡ä»¶ä¸­çš„<uri> å…ƒç´ ç”¨æŒ‡å®šè¯¥TLDæ–‡ä»¶çš„URIï¼Œåœ¨JSPæ–‡ä»¶ä¸­éœ€è¦é€šè¿‡è¿™ä¸ªURIæ¥å¼•å…¥è¯¥æ ‡ç­¾åº“æè¿°æ–‡ä»¶ã€‚<br><function>å…ƒç´ ç”¨äºæè¿°ä¸€ä¸ªELè‡ªå®šä¹‰å‡½æ•°ï¼Œå…¶ä¸­ï¼š<br><name>å­å…ƒç´ ç”¨äºæŒ‡å®šELè‡ªå®šä¹‰å‡½æ•°çš„åç§°ã€‚<br><function-class>å­å…ƒç´ ç”¨äºæŒ‡å®šå®Œæ•´çš„Javaç±»åï¼Œ<br><function-signature>å­å…ƒç´ ç”¨äºæŒ‡å®šJavaç±»ä¸­çš„é™æ€æ–¹æ³•çš„ç­¾åï¼Œæ–¹æ³•ç­¾åå¿…é¡»æŒ‡æ˜æ–¹æ³•çš„è¿”å›å€¼ç±»å‹åŠå„ä¸ªå‚æ•°çš„ç±»å‹ï¼Œå„ä¸ªå‚æ•°ä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚</p><p>å¸¸ç”¨elå‡½æ•°(æ¶‰åŠä¸å­—ç¬¦ä¸²å¤„ç†ç›¸å…³)<br>åœ¨é¡µé¢ä¸­ä½¿ç”¨JSTLå®šä¹‰çš„ELå‡½æ•°ï¼š<br>&lt;%@taglib uri=â€<a href="http://java.sun.com/jsp/jstl/functions&quot;">http://java.sun.com/jsp/jstl/functions&quot;</a> prefix=â€fnâ€%&gt;</p><p><strong>fn:toLowerCase</strong></p><p>fn:toLowerCaseå‡½æ•°å°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­åŒ…å«çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå°å†™å½¢å¼ï¼Œå¹¶è¿”å›è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ ä¸²ç±»å‹çš„å‚æ•°ï¼Œä¾‹å¦‚<br>fn:toLowerCase(â€œWww.IT315.orgâ€) çš„è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²â€œ<a href="http://www.it315.orgâ€/">www.it315.orgâ€</a><br>fn:toLowerCase(â€œâ€)çš„è¿”å›å€¼ä¸ºç©ºå­—ç¬¦ä¸²</p><p><strong>fn:toUpperCase</strong></p><p>fn:toUpperCaseå‡½æ•°å°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­åŒ…å«çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™å½¢å¼ï¼Œå¹¶è¿”å›è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼š<br>fn:toUpperCase(â€œWww.IT315.orgâ€) çš„è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²â€œWWW.IT315.ORGâ€<br>fn:toUpperCase(â€œâ€)çš„è¿”å›å€¼ä¸ºç©ºå­—ç¬¦ä¸²</p><p><strong>fn:trim</strong></p><p>fn:trimå‡½æ•°åˆ é™¤ä¸€ä¸ªå­—ç¬¦ä¸²çš„é¦–å°¾çš„ç©ºæ ¼ï¼Œå¹¶è¿”å›åˆ é™¤ç©ºæ ¼åçš„ç»“æœå­—ç¬¦ä¸²ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œfn:trimå‡½æ•°ä¸èƒ½åˆ é™¤å­—ç¬¦ä¸²ä¸­é—´ä½ç½®çš„ç©ºæ ¼ã€‚<br>ä¾‹å¦‚ï¼Œfn:trim(â€œ   <a href="http://www.it315.org/">www.it315.org</a>  â€œ) çš„è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²â€œ<a href="http://www.it/">www.it</a> 315.orgâ€ã€‚</p><p><strong>fn:length</strong></p><p>fn:lengthå‡½æ•°è¿”å›ä¸€ä¸ªé›†åˆæˆ–æ•°ç»„å¤§å°ï¼Œæˆ–è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­åŒ…å«çš„å­—ç¬¦çš„ä¸ªæ•°ï¼Œè¿”å›å€¼ä¸ºintç±»å‹ã€‚fn:lengthå‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥æ˜¯&lt;c:forEach&gt;æ ‡ç­¾çš„items  </p><p>å±æ€§æ”¯æŒçš„ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬ä»»æ„ç±»å‹çš„æ•°ç»„ã€java.util.Collectionã€java.util.Iteratorã€java.util.Enumerationã€java.util.Mapç­‰ç±»çš„å®ä¾‹å¯¹è±¡å’Œå­—ç¬¦ä¸²ã€‚<br>å¦‚æœfn:lengthå‡½æ•°çš„å‚æ•°ä¸ºnullæˆ–è€…æ˜¯å…ƒç´ ä¸ªæ•°ä¸º0çš„é›†åˆæˆ–æ•°ç»„å¯¹è±¡ï¼Œåˆ™å‡½æ•°è¿”å›0ï¼›å¦‚æœå‚æ•°æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™å‡½æ•°è¿”å›0ã€‚  </p><p><strong>fn:split</strong></p><p>fn:splitå‡½æ•°ä»¥æŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„å¹¶è¿”å›è¿™ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚<br>fn:splitå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¦åˆ†å‰²çš„å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºä½œä¸ºåˆ†éš”ç¬¦çš„å­—ç¬¦ä¸²ã€‚<br>ä¾‹å¦‚ï¼Œfn:split(â€œ<a href="http://www.it315.org&quot;/">www.it315.org&quot;</a>, â€œ.â€)[1]çš„è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²â€œit315â€ã€‚  </p><p><strong>fn:join</strong></p><p>fn:joinå‡½æ•°ä»¥ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›åˆå¹¶åçš„ç»“æœå­—ç¬¦ä¸²ã€‚fn:joinå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æ“ä½œçš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä½œä¸ºåˆ†éš”ç¬¦çš„å­—ç¬¦ä¸²ã€‚<br>å¦‚æœfn:joinå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™fn:joinå‡½æ•°çš„è¿”å›å€¼ç›´æ¥å°†å…ƒç´ è¿æ¥èµ·æ¥ã€‚ä¾‹å¦‚ï¼š<br>å‡è®¾stringArrayæ˜¯ä¿å­˜åœ¨WebåŸŸä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå€¼ä¸º{â€œwwwâ€,â€it315â€,â€orgâ€}çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œåˆ™fn:join(stringArray, â€œ.â€)è¿”å›å­—ç¬¦ä¸²â€œ<a href="http://www.it315.orgâ€/">www.it315.orgâ€</a><br>fn:join(fn:split(â€œwww,it315,orgâ€, â€œ,â€), â€œ.â€) çš„è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²â€œ<a href="http://www.it315.orgâ€/">www.it315.orgâ€</a></p><p><strong>fn:indexOf</strong></p><p>fn:indexOfå‡½æ•°è¿”å›æŒ‡å®šå­—ç¬¦ä¸²åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•å€¼ï¼Œè¿”å›å€¼ä¸ºintç±»å‹ã€‚fn:indexOfå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°å­—ç¬¦ä¸²ä¸­åŒ…å«ç¬¬äºŒä¸ªå‚æ•°å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆï¼Œä¸ç®¡ç¬¬äºŒä¸ªå‚æ•°å­—ç¬¦ä¸²åœ¨ç¬¬ä¸€ä¸ªå‚æ•°å­—ç¬¦ä¸²ä¸­å‡ºç°å‡ æ¬¡ï¼Œfn:indexOfå‡½æ•°æ€»æ˜¯è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•å€¼ï¼›å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸­ä¸åŒ…å«ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™fn:indexOfå‡½æ•°è¿”å›-1ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œåˆ™fn:indexOfå‡½æ•°æ€»æ˜¯è¿”å›0ã€‚ä¾‹å¦‚ï¼š<br>fn:indexOf(â€œ<a href="http://www.it315.org&quot;,&quot;t3&quot;/">www.it315.org&quot;,&quot;t3&quot;</a>) çš„è¿”å›å€¼ä¸º5</p><p><strong>fn:contains</strong></p><p>fn:containså‡½æ•°æ£€æµ‹ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”ç±»å‹ã€‚fn:containså‡½æ•°åœ¨æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰æ—¶æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚<br>fn:containså‡½æ•°æ¥æ”¶ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°å­—ç¬¦ä¸²ä¸­åŒ…å«ç¬¬äºŒä¸ªå‚æ•°å­—ç¬¦ä¸²ï¼Œåˆ™fn:containså‡½æ•°è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°çš„å€¼ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œåˆ™fn:containså‡½æ•°æ€»æ˜¯è¿”å›trueã€‚å®é™…ä¸Šï¼Œfn:contains(string, substring)ç­‰ä»·äºfn:indexOf(string, substring) != -1ã€‚<br>å¿½ç•¥å¤§å°çš„ELå‡½æ•°ï¼šfn:containsIgnoreCase   </p><p><strong>fn:startsWith</strong></p><p>fn:startsWithå‡½æ•°ç”¨äºæ£€æµ‹ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å§‹çš„ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”ç±»å‹ã€‚<br>fn:startsWithå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°å­—ç¬¦ä¸²ä»¥ç¬¬äºŒä¸ªå‚æ•°å­—ç¬¦ä¸²å¼€å§‹ï¼Œåˆ™å‡½æ•°è¿”å›trueï¼Œå¦åˆ™å‡½æ•°è¿”å›falseã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œåˆ™<br>fn:startsWithå‡½æ•°æ€»æ˜¯è¿”å›trueã€‚ä¾‹å¦‚ï¼š<br>fn:startsWith(â€œ<a href="http://www.it315.org&quot;,&quot;it315&quot;)çš„è¿”å›å€¼ä¸ºfalse/">www.it315.org&quot;,&quot;it315&quot;)çš„è¿”å›å€¼ä¸ºfalse</a><br>ä¸ä¹‹å¯¹åº”çš„ELå‡½æ•°ï¼šfn:endsWith   </p><p><strong>fn:replace</strong></p><p>fn:replaceå‡½æ•°å°†ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­åŒ…å«çš„æŒ‡å®šå­å­—ç¬¦ä¸²æ›¿æ¢ä¸ºå…¶å®ƒçš„æŒ‡å®šå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æ›¿æ¢åçš„ç»“æœå­—ç¬¦ä¸²ã€‚fn:replaceæ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¦æ“ä½œçš„æºå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæºå­—ç¬¦ä¸²ä¸­è¦è¢«æ›¿æ¢çš„å­å­—ç¬¦ä¸²ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºè¦è¢«æ›¿æ¢æˆçš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼š<br>fn:replace(â€œwww it315 orgâ€, â€œ â€œ, â€œ.â€)çš„è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²â€œ<a href="http://www.it315.orgâ€/">www.it315.orgâ€</a></p><p><strong>fn:substring</strong>  </p><p>fn:substringå‡½æ•°ç”¨äºæˆªå–ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­å­—ç¬¦ä¸²å¹¶è¿”å›æˆªå–åˆ°çš„å­å­—ç¬¦ä¸²ã€‚fn:substringå‡½æ•°æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨äºæŒ‡å®šè¦æ“ä½œçš„æºå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨äºæŒ‡å®šæˆªå–å­å­—ç¬¦ä¸²å¼€å§‹çš„ç´¢å¼•å€¼ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ç”¨äºæŒ‡å®šæˆªå–å­å­—ç¬¦ä¸²ç»“æŸçš„ç´¢å¼•å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°å’Œç¬¬ä¸‰ä¸ªå‚æ•°éƒ½æ˜¯intç±»å‹ï¼Œå…¶å€¼éƒ½ä»0å¼€å§‹ã€‚ä¾‹å¦‚ï¼š<br>fn:substring(â€œ<a href="http://www.it315.org&quot;/">www.it315.org&quot;</a>, 4, 9) çš„è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²â€œit315â€</p><p><strong>fn:substringAfter</strong></p><p>fn:substringAfterå‡½æ•°ç”¨äºæˆªå–å¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šå­å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°ä¹‹åçš„å­å­—ç¬¦ä¸²ã€‚fn:substringAfterå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè¦æ“ä½œçš„æºå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæŒ‡å®šçš„å­å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š<br>fn:substringAfter(â€œ<a href="http://www.it315.orgâ€/">www.it315.orgâ€</a>, â€œ.â€)çš„è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²â€œit315.orgâ€ã€‚<br>ä¸ä¹‹å¯¹åº”çš„ELå‡½æ•°ä¸ºï¼šfn:substringBefore   </p><p>&lt;c:if test=â€${fn:contains(str,subStr)}â€&gt;  </p><p>fn:containså‡½æ•°æ£€æµ‹ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”ç±»å‹ã€‚fn:containså‡½æ•°åœ¨æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰æ—¶æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚<br>fn:containså‡½æ•°æ¥æ”¶ä¸¤ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°å­—ç¬¦ä¸²ä¸­åŒ…å«ç¬¬äºŒä¸ªå‚æ•°å­—ç¬¦ä¸²ï¼Œåˆ™fn:containså‡½æ•°è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°çš„å€¼ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œåˆ™fn:containså‡½æ•°æ€»æ˜¯è¿”å›trueã€‚å®é™…ä¸Šï¼Œfn:contains(string, substring)ç­‰ä»·äºfn:indexOf(string, substring) != -1ã€‚  </p><p>å¿½ç•¥å¤§å°çš„ELå‡½æ•°ï¼šfn:containsIgnoreCase</p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javawebå­¦ä¹ 6-JSPæ ‡ç­¾</title>
    <link href="/2018/03/10/2018-02-10-javaweb6/"/>
    <url>/2018/03/10/2018-02-10-javaweb6/</url>
    
    <content type="html"><![CDATA[<h2 id="è‡ªå®šä¹‰æ ‡ç­¾"><a href="#è‡ªå®šä¹‰æ ‡ç­¾" class="headerlink" title="è‡ªå®šä¹‰æ ‡ç­¾"></a>è‡ªå®šä¹‰æ ‡ç­¾</h2><p>ä¸»è¦ç”¨äºç§»é™¤Jspé¡µé¢ä¸­çš„javaä»£ç ã€‚  </p><p>ç§»é™¤jspé¡µé¢ä¸­çš„javaä»£ç ï¼Œåªéœ€è¦å®Œæˆä¸¤ä¸ªæ­¥éª¤ï¼š  </p><ul><li>ç¼–å†™ä¸€ä¸ªå®ç°Tagæ¥å£çš„Javaç±»ï¼Œå¹¶è¦†ç›–doStartTagæ–¹æ³•ï¼ŒæŠŠjspé¡µé¢ä¸­çš„javaä»£ç å†™åˆ°doStartTagæ–¹æ³•ä¸­ã€‚</li><li>ç¼–å†™æ ‡ç­¾åº“æè¿°ç¬¦ï¼ˆtldï¼‰æ–‡ä»¶ï¼Œåœ¨tldæ–‡ä»¶ä¸­å¯¹è‡ªå®šä¹‰æ ‡ç­¾è¿›è¡Œæè¿°ã€‚</li></ul><p><strong>Tagæ¥å£çš„æ‰§è¡Œæµç¨‹</strong>  </p><p>JSPå¼•æ“å°†é‡åˆ°è‡ªå®šä¹‰æ ‡ç­¾æ—¶ï¼Œé¦–å…ˆåˆ›å»ºæ ‡ç­¾å¤„ç†å™¨ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œç„¶åæŒ‰ç…§JSPè§„èŒƒå®šä¹‰çš„é€šä¿¡è§„åˆ™ä¾æ¬¡è°ƒç”¨å®ƒçš„æ–¹æ³•ã€‚<br>1.public void setPageContext(PageContextÂ pc)ï¼Œ JSPå¼•æ“å®ä¾‹åŒ–æ ‡ç­¾å¤„ç†å™¨åï¼Œå°†è°ƒç”¨setPageContextæ–¹æ³•å°†JSPé¡µé¢çš„pageContextå¯¹è±¡ä¼ é€’ç»™æ ‡ç­¾å¤„ç†å™¨ï¼Œæ ‡ç­¾å¤„ç†å™¨ä»¥åå¯ä»¥é€šè¿‡è¿™ä¸ªpageContextå¯¹è±¡ä¸JSPé¡µé¢è¿›è¡Œé€šä¿¡ã€‚<br>2.public void setParent(TagÂ t)ï¼ŒsetPageContextæ–¹æ³•æ‰§è¡Œå®Œåï¼ŒWEBå®¹å™¨æ¥ç€è°ƒç”¨çš„setParentæ–¹æ³•å°†å½“å‰æ ‡ç­¾çš„çˆ¶æ ‡ç­¾ä¼ é€’ç»™å½“å‰æ ‡ç­¾å¤„ç†å™¨ï¼Œå¦‚æœå½“å‰æ ‡ç­¾æ²¡æœ‰çˆ¶æ ‡ç­¾ï¼Œåˆ™ä¼ é€’ç»™setParentæ–¹æ³•çš„å‚æ•°å€¼ä¸ºnullã€‚<br>3.public int doStartTag()ï¼Œè°ƒç”¨äº†setPageContextæ–¹æ³•å’ŒsetParentæ–¹æ³•ä¹‹åï¼ŒWEBå®¹å™¨æ‰§è¡Œåˆ°è‡ªå®šä¹‰æ ‡ç­¾çš„å¼€å§‹æ ‡è®°æ—¶ï¼Œå°±ä¼šè°ƒç”¨æ ‡ç­¾å¤„ç†å™¨çš„doStartTagæ–¹æ³•ã€‚<br>4.public int doEndTag()ï¼ŒWEBå®¹å™¨æ‰§è¡Œå®Œè‡ªå®šä¹‰æ ‡ç­¾çš„æ ‡ç­¾ä½“åï¼Œå°±ä¼šæ¥ç€å»æ‰§è¡Œè‡ªå®šä¹‰æ ‡ç­¾çš„ç»“æŸæ ‡è®°ï¼Œæ­¤æ—¶ï¼ŒWEBå®¹å™¨ä¼šå»è°ƒç”¨æ ‡ç­¾å¤„ç†å™¨çš„doEndTagæ–¹æ³•ã€‚<br>5.public void release()ï¼Œé€šå¸¸WEBå®¹å™¨æ‰§è¡Œå®Œè‡ªå®šä¹‰æ ‡ç­¾åï¼Œæ ‡ç­¾å¤„ç†å™¨ä¼šé©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸ºå…¶å®ƒè¯·æ±‚æœåŠ¡å™¨ï¼Œç›´è‡³åœæ­¢webåº”ç”¨æ—¶ï¼Œwebå®¹å™¨æ‰ä¼šè°ƒç”¨releaseæ–¹æ³•ã€‚  </p><p><strong>è‡ªå®šä¹‰æ ‡ç­¾åŠŸèƒ½æ‰©å±•</strong>  </p><p>é€šè¿‡è‡ªå®šä¹‰æ ‡ç­¾å¯ä»¥æ§åˆ¶æ ‡ç­¾åçš„jspé¡µé¢æ˜¯å¦æ‰§è¡Œã€‚</p><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs erb"><span class="xml">                           //Javaç±»</span><br><span class="xml">  public int doEndTag() throws JspException &#123;</span><br><span class="xml">    return SKIP_PAGE;</span><br><span class="xml">  &#125;                      </span><br><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">tag</span>&gt;</span>                    //tld</span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>æ•´ä¸ªjspé¡µé¢æ ‡ç­¾åçš„å†…å®¹æ˜¯å¦è¾“å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>skipPage<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tag-class</span>&gt;</span>cn.itcast.web.tag.TagDemo2<span class="hljs-tag">&lt;/<span class="hljs-name">tag-class</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">body-content</span>&gt;</span>JSP<span class="hljs-tag">&lt;/<span class="hljs-name">body-content</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">tag</span>&gt;</span>                </span><br><br><span class="xml">                         //å®ç°</span><br><span class="xml">&lt;%</span><span class="ruby">@ page language=<span class="hljs-string">&quot;java&quot;</span>  pageEncoding=<span class="hljs-string">&quot;UTF-8&quot;</span></span><span class="xml">%&gt;</span><br><span class="xml">&lt;%</span><span class="ruby">@ taglib prefix=<span class="hljs-string">&quot;itcast&quot;</span> uri=<span class="hljs-string">&quot;http://www.hgnc.net/jsp2-tag&quot;</span></span><span class="xml">%&gt;</span><br><br><span class="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">HTML</span> <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ•´ä¸ªjspæ˜¯å¦è¾“å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml">  uuu</span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">itcast:skipPage</span>&gt;</span>kkkkkkkkkkkkl<span class="hljs-tag">&lt;/<span class="hljs-name">itcast:skipPage</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml">gggg</span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>é€šè¿‡è‡ªå®šä¹‰æ ‡ç­¾å¯ä»¥æ§åˆ¶jspé¡µé¢æŸä¸€éƒ¨åˆ†å†…å®¹é‡å¤æ‰§è¡Œã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs typescript">int x;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> int doAfterBody() throws JspException &#123;<br><span class="hljs-keyword">if</span>(x--&gt;<span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span> IterationTag.EVAL_BODY_AGAIN;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> IterationTag.SKIP_BODY;<br>&#125;<br><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> int doStartTag() throws JspException &#123;<br>x=<span class="hljs-number">5</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.EVAL_BODY_INCLUDE;<br>&#125;<br>&lt;tag&gt;<br>    &lt;description&gt;å¾ªç¯è¾“å‡ºæ ‡ç­¾ä½“&lt;/description&gt;<br>    &lt;name&gt;loopbody&lt;/name&gt;<br>    &lt;tag-<span class="hljs-class"><span class="hljs-keyword">class</span>&gt;<span class="hljs-title">cn</span>.<span class="hljs-title">itcast</span>.<span class="hljs-title">web</span>.<span class="hljs-title">tag</span>.<span class="hljs-title">TagDemo4</span>&lt;/<span class="hljs-title">tag</span>-<span class="hljs-title">class</span>&gt;</span><br><span class="hljs-class">    &lt;<span class="hljs-title">body</span>-<span class="hljs-title">content</span>&gt;<span class="hljs-title">JSP</span>&lt;/<span class="hljs-title">body</span>-<span class="hljs-title">content</span>&gt;</span><br><span class="hljs-class">&lt;/<span class="hljs-title">tag</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡è‡ªå®šä¹‰æ ‡ç­¾å¯ä»¥ä¿®æ”¹jspé¡µé¢å†…å®¹è¾“å‡ºã€‚</p><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs aspectj"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doStartTag</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JspException </span>&#123;<br><span class="hljs-keyword">return</span> BodyTag.EVAL_BODY_BUFFERED;<br>&#125;<br><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">doEndTag</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JspException </span>&#123;<br>BodyContent bc=<span class="hljs-keyword">this</span>.getBodyContent();<br>String content=bc.getString();<br>content=content.toUpperCase();<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-keyword">this</span>.pageContext.getOut().write(content);<br>&#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br><span class="hljs-comment">// TODO Auto-generated catch block</span><br>e.printStackTrace();<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.<span class="hljs-title">doEndTag</span><span class="hljs-params">()</span></span>;<br>&#125;<br>&lt;itcast:modibody&gt;<br>kkkkkkkkkkkkl&lt;br /&gt;<br>&lt;/itcast:modibody&gt;<br></code></pre></td></tr></table></figure><h2 id="ç®€å•æ ‡ç­¾"><a href="#ç®€å•æ ‡ç­¾" class="headerlink" title="ç®€å•æ ‡ç­¾"></a>ç®€å•æ ‡ç­¾</h2><p>ç”±äºä¼ ç»Ÿæ ‡ç­¾ä½¿ç”¨ä¸‰ä¸ªæ ‡ç­¾æ¥å£æ¥å®Œæˆä¸åŒçš„åŠŸèƒ½ï¼Œæ˜¾å¾—è¿‡äºç¹çï¼Œä¸åˆ©äºæ ‡ç­¾æŠ€æœ¯çš„æ¨å¹¿ï¼Œ SUNå…¬å¸ä¸ºé™ä½æ ‡ç­¾æŠ€æœ¯çš„å­¦ä¹ éš¾åº¦ï¼Œåœ¨JSP 2.0ä¸­å®šä¹‰äº†ä¸€ä¸ªæ›´ä¸ºç®€å•ã€ä¾¿äºç¼–å†™å’Œè°ƒç”¨çš„SimpleTagæ¥å£æ¥å®ç°æ ‡ç­¾çš„åŠŸèƒ½ã€‚å®ç°SimpleTagæ¥å£çš„æ ‡ç­¾é€šå¸¸ç§°ä¸ºç®€å•æ ‡ç­¾ã€‚ç®€å•æ ‡ç­¾å…±å®šä¹‰äº†5ä¸ªæ–¹æ³•ï¼š<br>setJspContextæ–¹æ³•ï¼ŒsetParentå’ŒgetParentæ–¹æ³•ï¼ŒsetJspBodyæ–¹æ³•ï¼ŒdoTagæ–¹æ³•</p><p><strong>SimpleTagæ¥å£æ–¹æ³•çš„æ‰§è¡Œé¡ºåº</strong><br>å½“webå®¹å™¨å¼€å§‹æ‰§è¡Œæ ‡ç­¾æ—¶ï¼Œä¼šè°ƒç”¨å¦‚ä¸‹æ–¹æ³•å®Œæˆæ ‡ç­¾çš„åˆå§‹åŒ–<br>WEBå®¹å™¨è°ƒç”¨æ ‡ç­¾å¤„ç†å™¨å¯¹è±¡çš„setJspContextæ–¹æ³•ï¼Œå°†ä»£è¡¨JSPé¡µé¢çš„pageContextå¯¹è±¡ä¼ é€’ç»™æ ‡ç­¾å¤„ç†å™¨å¯¹è±¡ã€‚<br>WEBå®¹å™¨è°ƒç”¨æ ‡ç­¾å¤„ç†å™¨å¯¹è±¡çš„setParentæ–¹æ³•ï¼Œå°†çˆ¶æ ‡ç­¾å¤„ç†å™¨å¯¹è±¡ä¼ é€’ç»™è¿™ä¸ªæ ‡ç­¾å¤„ç†å™¨å¯¹è±¡ã€‚æ³¨æ„ï¼Œåªæœ‰åœ¨æ ‡ç­¾å­˜åœ¨çˆ¶æ ‡ç­¾çš„æƒ…å†µä¸‹ï¼ŒWEBå®¹å™¨æ‰ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚<br>å¦‚æœè°ƒç”¨æ ‡ç­¾æ—¶è®¾ç½®äº†å±æ€§ï¼Œå®¹å™¨å°†è°ƒç”¨æ¯ä¸ªå±æ€§å¯¹åº”çš„setteræ–¹æ³•æŠŠå±æ€§å€¼ä¼ é€’ç»™æ ‡ç­¾å¤„ç†å™¨å¯¹è±¡ã€‚å¦‚æœæ ‡ç­¾çš„å±æ€§å€¼æ˜¯ELè¡¨è¾¾å¼æˆ–è„šæœ¬è¡¨è¾¾å¼ï¼Œåˆ™WEBå®¹å™¨é¦–å…ˆè®¡ç®—è¡¨è¾¾å¼çš„å€¼ï¼Œç„¶åæŠŠå€¼ä¼ é€’ç»™æ ‡ç­¾å¤„ç†å™¨å¯¹è±¡ã€‚<br>å¦‚æœç®€å•æ ‡ç­¾æœ‰æ ‡ç­¾ä½“ï¼Œå®¹å™¨å°†è°ƒç”¨setJspBodyæ–¹æ³•æŠŠä»£è¡¨æ ‡ç­¾ä½“çš„JspFragmentå¯¹è±¡ä¼ é€’è¿›æ¥ã€‚<br>æ‰§è¡Œæ ‡ç­¾æ—¶ï¼š<br>å®¹å™¨è°ƒç”¨æ ‡ç­¾å¤„ç†å™¨çš„doTag()æ–¹æ³•ï¼Œå¼€å‘äººå‘˜åœ¨æ–¹æ³•ä½“å†…é€šè¿‡æ“ä½œJspFragmentå¯¹è±¡ï¼Œå°±å¯ä»¥å®ç°æ˜¯å¦æ‰§è¡Œã€è¿­ä»£ã€ä¿®æ”¹æ ‡ç­¾ä½“çš„ç›®çš„ã€‚  </p><p><strong>JspFragmentç±»</strong><br>javax.servlet.jsp.tagext.JspFragmentç±»æ˜¯åœ¨JSP2.0ä¸­å®šä¹‰çš„ï¼Œå®ƒçš„å®ä¾‹å¯¹è±¡ä»£è¡¨JSPé¡µé¢ä¸­çš„ä¸€æ®µç¬¦åˆJSPè¯­æ³•è§„èŒƒçš„JSPç‰‡æ®µï¼Œè¿™æ®µJSPç‰‡æ®µä¸­ä¸èƒ½åŒ…å«JSPè„šæœ¬å…ƒç´ ã€‚  </p><p>WEBå®¹å™¨åœ¨å¤„ç†ç®€å•æ ‡ç­¾çš„æ ‡ç­¾ä½“æ—¶ï¼Œä¼šæŠŠæ ‡ç­¾ä½“å†…å®¹ç”¨ä¸€ä¸ªJspFragmentå¯¹è±¡è¡¨ç¤ºï¼Œå¹¶è°ƒç”¨æ ‡ç­¾å¤„ç†å™¨å¯¹è±¡çš„setJspBodyæ–¹æ³•æŠŠJspFragmentå¯¹è±¡ä¼ é€’ç»™æ ‡ç­¾å¤„ç†å™¨å¯¹è±¡ã€‚JspFragmentç±»ä¸­åªå®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š  </p><p>getJspContextæ–¹æ³•<br>ç”¨äºè¿”å›ä»£è¡¨è°ƒç”¨é¡µé¢çš„JspContextå¯¹è±¡.  </p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">invoke</span>(<span class="hljs-params">java.io.WriterÂ <span class="hljs-keyword">out</span></span>)  </span><br></code></pre></td></tr></table></figure><p>ç”¨äºæ‰§è¡ŒJspFragmentå¯¹è±¡æ‰€ä»£è¡¨çš„JSPä»£ç ç‰‡æ®µ<br>å‚æ•°outç”¨äºæŒ‡å®šå°†JspFragmentå¯¹è±¡çš„æ‰§è¡Œç»“æœå†™å…¥åˆ°å“ªä¸ªè¾“å‡ºæµå¯¹è±¡ä¸­ï¼Œå¦‚æœä¼ é€’ç»™å‚æ•°outçš„å€¼ä¸ºnullï¼Œåˆ™å°†æ‰§è¡Œç»“æœå†™å…¥åˆ°JspContext.getOut()æ–¹æ³•è¿”å›çš„è¾“å‡ºæµå¯¹è±¡ä¸­ã€‚(ç®€è€Œè¨€ä¹‹ï¼Œå¯ä»¥ç†è§£ä¸ºå†™ç»™æµè§ˆå™¨)  </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs scala">æ˜¾ç¤ºæ ‡ç­¾ä½“<br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleDemo1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleTagSupport</span> </span>&#123;<br><span class="hljs-meta">@Override</span><br>public void doTag() <span class="hljs-keyword">throws</span> <span class="hljs-type">JspException</span>, <span class="hljs-type">IOException</span> &#123;<br><span class="hljs-type">JspFragment</span> jf=<span class="hljs-keyword">this</span>.getJspBody();<br>jf.invoke(<span class="hljs-keyword">this</span>.getJspContext().getOut());<br><span class="hljs-keyword">super</span>.doTag();<br>&#125;<br>&#125;<br>ä¸æ˜¾ç¤ºæ ‡ç­¾ä½“<br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleDemo1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleTagSupport</span> </span>&#123;<br><span class="hljs-meta">@Override</span><br>public void doTag() <span class="hljs-keyword">throws</span> <span class="hljs-type">JspException</span>, <span class="hljs-type">IOException</span> &#123;<br><br>&#125;<br>&#125;<br><span class="hljs-comment">//é‡å¤æ˜¾ç¤º</span><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleDemo2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleTagSupport</span> </span>&#123;<br><span class="hljs-meta">@Override</span><br>public void doTag() <span class="hljs-keyword">throws</span> <span class="hljs-type">JspException</span>, <span class="hljs-type">IOException</span> &#123;<br><span class="hljs-type">JspFragment</span> jf=<span class="hljs-keyword">this</span>.getJspBody();<br><span class="hljs-keyword">for</span>(int i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">5</span>;i++)<br>jf.invoke(<span class="hljs-keyword">this</span>.getJspContext().getOut());<br><span class="hljs-comment">//ä¸è¿™ä¸ªç­‰ä»·jf.invoke(null);</span><br><span class="hljs-keyword">super</span>.doTag();<br>&#125;<br>&#125;<br><span class="hljs-comment">//ä¿®æ”¹æ ‡ç­¾å†…å®¹</span><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleDemo3</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleTagSupport</span> </span>&#123;<br><span class="hljs-meta">@Override</span><br>public void doTag() <span class="hljs-keyword">throws</span> <span class="hljs-type">JspException</span>, <span class="hljs-type">IOException</span> &#123;<br><span class="hljs-type">JspFragment</span> jf=<span class="hljs-keyword">this</span>.getJspBody();<br><span class="hljs-type">StringWriter</span> sw=<span class="hljs-keyword">new</span> <span class="hljs-type">StringWriter</span>();<br>jf.invoke(sw);<br><br><span class="hljs-type">String</span> content=sw.toString();<br>content=content.toUpperCase();<br><br><span class="hljs-keyword">this</span>.getJspContext().getOut().write(content);<br>&#125;<br>&#125;<br><span class="hljs-comment">//åœæ­¢æ˜¾ç¤ºæ ‡ç­¾åé¢æ–‡æ¡£å†…å®¹</span><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleDemo4</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleTagSupport</span> </span>&#123;<br><span class="hljs-meta">@Override</span><br>public void doTag() <span class="hljs-keyword">throws</span> <span class="hljs-type">JspException</span>, <span class="hljs-type">IOException</span> &#123;<br><span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-type">SkipPageException</span>();<br>&#125;<br>&#125;<br>    &lt;uri&gt;http:<span class="hljs-comment">//www.hgnc.net/jsp2-tagSimple&lt;/uri&gt;</span><br>    &lt;tag&gt;<br>        &lt;name&gt;showbody&lt;/name&gt;<br>        &lt;tag-<span class="hljs-class"><span class="hljs-keyword">class</span><span class="hljs-title">&gt;cn</span>.<span class="hljs-title">itcast</span>.<span class="hljs-title">web</span>.<span class="hljs-title">simpletag</span>.<span class="hljs-title">SimpleDemo1&lt;/tag-class&gt;</span></span><br><span class="hljs-class">        <span class="hljs-title">&lt;body-content&gt;scriptless&lt;/body-content&gt;</span></span><br><span class="hljs-class">    <span class="hljs-title">&lt;/tag&gt;</span></span><br><span class="hljs-class"><span class="hljs-title">&lt;%@</span> <span class="hljs-title">page</span> <span class="hljs-title">language=</span>&quot;<span class="hljs-title">java</span>&quot; <span class="hljs-title">pageEncoding=</span>&quot;<span class="hljs-title">UTF-8</span>&quot;<span class="hljs-title">%&gt;</span></span><br><span class="hljs-class"><span class="hljs-title">&lt;%@</span> <span class="hljs-title">taglib</span> <span class="hljs-title">prefix=</span>&quot;<span class="hljs-title">itcast</span>&quot; <span class="hljs-title">uri=</span>&quot;<span class="hljs-title">http</span></span>:<span class="hljs-comment">//www.hgnc.net/jsp2-tagSimple&quot;%&gt;</span><br><br>&lt;!<span class="hljs-type">DOCTYPE</span> <span class="hljs-type">HTML</span> <span class="hljs-type">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span>&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;ç®€å•æ ‡ç­¾&lt;/title&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>&lt;itcast:showbody&gt;ssssssssssssss<br>&lt;/itcast:showbody&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><p><strong>invokeæ–¹æ³•è¯¦è§£</strong><br>invokeæ–¹æ³•å¯ä»¥è¯´æ˜¯JspFragmentæœ€é‡è¦çš„æ–¹æ³•ï¼Œåˆ©ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥æ§åˆ¶æ˜¯å¦æ‰§è¡Œå’Œè¾“å‡ºæ ‡ç­¾ä½“çš„å†…å®¹ã€æ˜¯å¦è¿­ä»£æ‰§è¡Œæ ‡ç­¾ä½“çš„å†…å®¹æˆ–å¯¹æ ‡ç­¾ä½“çš„æ‰§è¡Œç»“æœè¿›è¡Œä¿®æ”¹åå†è¾“å‡ºã€‚ä¾‹å¦‚ï¼š<br>åœ¨æ ‡ç­¾å¤„ç†å™¨ä¸­å¦‚æœæ²¡æœ‰è°ƒç”¨invokeæ–¹æ³•ï¼Œå…¶ç»“æœå°±ç›¸å½“äºå¿½ç•¥æ ‡ç­¾ä½“å†…å®¹ï¼›<br>åœ¨æ ‡ç­¾å¤„ç†å™¨ä¸­é‡å¤è°ƒç”¨invokeæ–¹æ³•ï¼Œåˆ™æ ‡ç­¾ä½“å†…å®¹å°†ä¼šè¢«é‡å¤æ‰§è¡Œï¼›<br>è‹¥æƒ³åœ¨æ ‡ç­¾å¤„ç†å™¨ä¸­ä¿®æ”¹æ ‡ç­¾ä½“å†…å®¹ï¼Œåªéœ€åœ¨è°ƒç”¨invokeæ–¹æ³•æ—¶æŒ‡å®šä¸€ä¸ªå¯å–å‡ºç»“æœæ•°æ®çš„è¾“å‡ºæµå¯¹è±¡ï¼ˆä¾‹å¦‚StringWriterï¼‰ï¼Œè®©æ ‡ç­¾ä½“çš„æ‰§è¡Œç»“æœè¾“å‡ºåˆ°è¯¥è¾“å‡ºæµå¯¹è±¡ä¸­ï¼Œç„¶åä»è¯¥è¾“å‡ºæµå¯¹è±¡ä¸­å–å‡ºæ•°æ®è¿›è¡Œä¿®æ”¹åå†è¾“å‡ºåˆ°ç›®æ ‡è®¾å¤‡ï¼Œå³å¯è¾¾åˆ°ä¿®æ”¹æ ‡ç­¾ä½“çš„ç›®çš„ã€‚  </p><p><strong>å¼€å‘å¸¦å±æ€§çš„æ ‡ç­¾</strong><br>è‡ªå®šä¹‰æ ‡ç­¾å¯ä»¥å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ï¼Œè¿™æ ·ï¼Œåœ¨JSPé¡µé¢ä¸­åº”ç”¨è‡ªå®šä¹‰æ ‡ç­¾æ—¶å°±å¯ä»¥è®¾ç½®è¿™äº›å±æ€§çš„å€¼ï¼Œé€šè¿‡è¿™äº›å±æ€§ä¸ºæ ‡ç­¾å¤„ç†å™¨ä¼ é€’å‚æ•°ä¿¡æ¯ï¼Œä»è€Œæé«˜æ ‡ç­¾çš„çµæ´»æ€§å’Œå¤ç”¨æ€§ã€‚<br>è¦æƒ³è®©ä¸€ä¸ªè‡ªå®šä¹‰æ ‡ç­¾å…·æœ‰å±æ€§ï¼Œé€šå¸¸éœ€è¦å®Œæˆä¸¤ä¸ªä»»åŠ¡ï¼š<br>åœ¨æ ‡ç­¾å¤„ç†å™¨ä¸­ç¼–å†™æ¯ä¸ªå±æ€§å¯¹åº”çš„setteræ–¹æ³•<br>åœ¨TLDæ–‡ä»¶ä¸­ææœ¯æ ‡ç­¾çš„å±æ€§  </p><p>ä¸ºè‡ªå®šä¹‰æ ‡ç­¾å®šä¹‰å±æ€§æ—¶ï¼Œæ¯ä¸ªå±æ€§éƒ½å¿…é¡»æŒ‰ç…§JavaBeançš„å±æ€§å‘½åæ–¹å¼ï¼Œåœ¨æ ‡ç­¾å¤„ç†å™¨ä¸­å®šä¹‰å±æ€§åå¯¹åº”çš„setteræ–¹æ³•ï¼Œç”¨æ¥æ¥æ”¶JSPé¡µé¢è°ƒç”¨è‡ªå®šä¹‰æ ‡ç­¾æ—¶ä¼ é€’è¿›æ¥çš„å±æ€§å€¼ã€‚ ä¾‹å¦‚å±æ€§urlï¼Œåœ¨æ ‡ç­¾å¤„ç†å™¨ç±»ä¸­å°±è¦å®šä¹‰ç›¸åº”çš„setUrl(String url)æ–¹æ³•ã€‚  </p><p>åœ¨æ ‡ç­¾å¤„ç†å™¨ä¸­å®šä¹‰ç›¸åº”çš„setæ–¹æ³•åï¼ŒJSPå¼•æ“åœ¨è§£ææ‰§è¡Œå¼€å§‹æ ‡ç­¾å‰ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨doStartTagæ–¹æ³•å‰ï¼Œä¼šè°ƒç”¨setå±æ€§æ–¹æ³•ï¼Œä¸ºæ ‡ç­¾è®¾ç½®å±æ€§ã€‚  </p><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vbscript-html"><span class="vbscript">&lt;%@ page language=<span class="hljs-string">&quot;java&quot;</span> pageEncoding=<span class="hljs-string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="vbscript">&lt;%@page import=<span class="hljs-string">&quot;java.util.Date&quot;</span>%&gt;</span><br><span class="vbscript">&lt;%@ taglib prefix=<span class="hljs-string">&quot;itcast&quot;</span> uri=<span class="hljs-string">&quot;http:\//www.hgnc.net/jsp2-tagSimple&quot;</span>%&gt;</span><br><span class="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">HTML</span> <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¸¦å±æ€§æ ‡ç­¾<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">itcast:prop</span> <span class="hljs-attr">times</span>=<span class="hljs-string">&quot;5&quot;</span> <span class="hljs-attr">date</span>=<span class="hljs-string">&quot;</span></span></span><span class="vbscript">&lt;%=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()%&gt;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>kkkkkkkkkkkkl<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">itcast:prop</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">tag</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>prop<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tag-class</span>&gt;</span>cn.itcast.web.simpletag.SimpleDemo5<span class="hljs-tag">&lt;/<span class="hljs-name">tag-class</span>&gt;</span>   <br>    <span class="hljs-tag">&lt;<span class="hljs-name">body-content</span>&gt;</span>scriptless<span class="hljs-tag">&lt;/<span class="hljs-name">body-content</span>&gt;</span>     <br>    <span class="hljs-tag">&lt;<span class="hljs-name">attribute</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>times<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">required</span>&gt;</span>yes<span class="hljs-tag">&lt;/<span class="hljs-name">required</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">attribute</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">attribute</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>date<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">required</span>&gt;</span>yes<span class="hljs-tag">&lt;/<span class="hljs-name">required</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">rtexprvalue</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">rtexprvalue</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">attribute</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">tag</span>&gt;</span>  <br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.web.simpletag;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.StringWriter;<br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-keyword">import</span> javax.servlet.jsp.JspException;<br><span class="hljs-keyword">import</span> javax.servlet.jsp.SkipPageException;<br><span class="hljs-keyword">import</span> javax.servlet.jsp.tagext.JspFragment;<br><span class="hljs-keyword">import</span> javax.servlet.jsp.tagext.SimpleTagSupport;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleDemo5</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SimpleTagSupport</span> </span>&#123;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> times;<br><span class="hljs-keyword">private</span> Date date;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setTimes</span><span class="hljs-params">(<span class="hljs-keyword">int</span> times)</span> </span>&#123;<br><span class="hljs-keyword">this</span>.times = times;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setDate</span><span class="hljs-params">(Date date)</span> </span>&#123;<br><span class="hljs-keyword">this</span>.date = date;<br>&#125;<br><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doTag</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JspException, IOException </span>&#123;<br><span class="hljs-keyword">this</span>.getJspContext().getOut().write(date.toString());<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;times;i++)<br><span class="hljs-keyword">this</span>.getJspBody().invoke(<span class="hljs-keyword">null</span>);<br><span class="hljs-comment">//throw new SkipPageException();</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ¡ˆä¾‹</strong><br>ä½¿ç”¨æ ‡ç­¾æ§åˆ¶é¡µé¢é€»è¾‘æ¡ˆä¾‹ï¼š</p><h2 id="JSTLæ ‡ç­¾åº“"><a href="#JSTLæ ‡ç­¾åº“" class="headerlink" title="JSTLæ ‡ç­¾åº“"></a>JSTLæ ‡ç­¾åº“</h2><p>æ ¸å¿ƒæ ‡ç­¾ï¼Œå›½é™…åŒ–æ ‡ç­¾ï¼Œæ•°æ®åº“æ ‡ç­¾ï¼ŒXmlæ ‡ç­¾ï¼ŒJstlå‡½æ•°ï¼ˆelå‡½æ•°ï¼‰</p><p>ä¸€äº›å¸¸è§çš„ï¼š</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs llvm">&lt;<span class="hljs-keyword">c</span>:out&gt;<br>&lt;<span class="hljs-keyword">c</span>:set&gt;<br>&lt;<span class="hljs-keyword">c</span>:remove&gt;<br>&lt;<span class="hljs-keyword">c</span>:<span class="hljs-keyword">catch</span>&gt;<br>&lt;<span class="hljs-keyword">c</span>:if&gt;<br>&lt;<span class="hljs-keyword">c</span>:choose&gt;<br>&lt;<span class="hljs-keyword">c</span>:forEach&gt;<br>&lt;<span class="hljs-keyword">c</span>:param&gt;<br>&lt;<span class="hljs-keyword">c</span>:url&gt;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1074. Reversing Linked List (25) -PATç”²çº§</title>
    <link href="/2018/02/19/2018-02-19-PAT-1074/"/>
    <url>/2018/02/19/2018-02-19-PAT-1074/</url>
    
    <content type="html"><![CDATA[<p>Given a constant K and a singly linked list L, you are supposed to reverse the links of every K elements on L. For example, given L being 1â†’2â†’3â†’4â†’5â†’6, if K = 3, then you must output 3â†’2â†’1â†’6â†’5â†’4; if K = 4, you must output 4â†’3â†’2â†’1â†’5â†’6.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains the address of the first node, a positive N (&lt;= 105) which is the total number of nodes, and a positive K (&lt;=N) which is the length of the sublist to be reversed. The address of a node is a 5-digit nonnegative integer, and NULL is represented by -1.</p><p>Then N lines follow, each describes a node in the format:</p><p>Address Data Next</p><p>where Address is the position of the node, Data is an integer, and Next is the position of the next node.</p><p><strong>Output Specification:</strong></p><p>For each case, output the resulting ordered linked list. Each node occupies a line, and is printed in the same format as in the input.</p><p><strong>Sample Input:</strong><br>00100 6 4<br>00000 4 99999<br>00100 1 12309<br>68237 6 -1<br>33218 3 00000<br>99999 5 68237<br>12309 2 33218<br><strong>Sample Output:</strong><br>00000 4 33218<br>33218 3 12309<br>12309 2 00100<br>00100 1 99999<br>99999 5 68237<br>68237 6 -1  </p><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šnä¸ªç‚¹å’Œèµ·å§‹åœ°å€ï¼Œæ¯è¡Œè¡¨ç¤ºä¸€ä¸ªç‚¹åœ°å€ï¼Œå€¼ï¼Œä¸‹ä¸€ä¸ªç‚¹åœ°å€ï¼Œé€†ç½®é“¾è¡¨(æ¯kä¸ªæ•°)ã€‚<br>åˆ†æï¼šæ°´é¢˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n,a,k,p,num=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> now[<span class="hljs-number">100005</span>],next[<span class="hljs-number">100005</span>],list[<span class="hljs-number">100005</span>],ans[<span class="hljs-number">100005</span>];<br>    cin&gt;&gt;p&gt;&gt;n&gt;&gt;k;<br>    <span class="hljs-keyword">while</span>(n--)&#123;<br>        cin&gt;&gt;a;cin&gt;&gt;now[a]&gt;&gt;next[a];<br>    &#125;<br>    <span class="hljs-keyword">while</span>(p!=<span class="hljs-number">-1</span>)&#123;<br>        list[num]=ans[num]=p;<br>        p=next[p];<br>        num++;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;(num-num%k);i++)&#123;<br>        ans[i]=list[i/k*k+k<span class="hljs-number">-1</span>-i%k];<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;num<span class="hljs-number">-1</span>;i++)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d %05d\n&quot;</span>,ans[i],now[ans[i]],ans[i+<span class="hljs-number">1</span>]);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d -1&quot;</span>,ans[num<span class="hljs-number">-1</span>],now[ans[num<span class="hljs-number">-1</span>]]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1073. Scientific Notation (20) -PATç”²çº§</title>
    <link href="/2018/02/19/2018-02-27-PAT-1073/"/>
    <url>/2018/02/19/2018-02-27-PAT-1073/</url>
    
    <content type="html"><![CDATA[<p>Scientific notation is the way that scientists easily handle very large numbers or very small numbers. The notation matches the regular expression [+-][1-9]â€.â€[0-9]+E[+-][0-9]+ which means that the integer portion has exactly one digit, there is at least one digit in the fractional portion, and the number and its exponentâ€™s signs are always provided even when they are positive.</p><p>Now given a real number A in scientific notation, you are supposed to print A in the conventional notation while keeping all the significant figures.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, there is one line containing the real number A in scientific notation. The number is no more than 9999 bytes in length and the exponentâ€™s absolute value is no more than 9999.</p><p><strong>Output Specification:</strong></p><p>For each test case, print in one line the input number A in the conventional notation, with all the significant figures kept, including trailing zeros,</p><p><strong>Sample Input 1:</strong><br>+1.23400E-03<br><strong>Sample Output 1:</strong><br>0.00123400<br><strong>Sample Input 2:</strong><br>-1.2E+10<br><strong>Sample Output 2:</strong><br>-12000000000  </p><p>é¢˜ç›®å¤§æ„ï¼šå°†ç§‘å­¦è®¡æ•°æ³•è½¬æ¢ä¸ºä¸€èˆ¬å½¢å¼ã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œæ¨¡æ‹Ÿã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;functional&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x7FFFFFFF</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">15</span>;<br><span class="hljs-keyword">char</span> s[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    <span class="hljs-keyword">int</span> start = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span> (s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;-&#x27;</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-&quot;</span>);<br>    string ans = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">int</span> point = <span class="hljs-number">0</span>, add = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (s[start] != <span class="hljs-string">&#x27;E&#x27;</span>)&#123;<br>        <span class="hljs-keyword">if</span> (s[start] == <span class="hljs-string">&#x27;.&#x27;</span>) point = ans.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">else</span> ans += s[start];<br>        start++;<br>    &#125;<br>    start++;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = start + <span class="hljs-number">1</span>; s[i]; i++) add = add * <span class="hljs-number">10</span> + s[i] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>    <span class="hljs-keyword">if</span> (s[start] == <span class="hljs-string">&#x27;-&#x27;</span>) add = -add;<br>    <span class="hljs-keyword">if</span> (point + add &lt; <span class="hljs-number">0</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0.&quot;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = point + add; i &lt; <span class="hljs-number">0</span>; i++)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0&quot;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ans.<span class="hljs-built_in">size</span>(); i++)  &#123;<br>        <span class="hljs-keyword">if</span> (i == point + add) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;.&quot;</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, ans[i]);<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = ans.<span class="hljs-built_in">size</span>(); i &lt; point + add; i++)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1071. Speech Patterns (25) -PATç”²çº§</title>
    <link href="/2018/02/19/2018-02-19-PAT-1071/"/>
    <url>/2018/02/19/2018-02-19-PAT-1071/</url>
    
    <content type="html"><![CDATA[<p>People often have a preference among synonyms of the same word. For example, some may prefer â€œthe policeâ€, while others may prefer â€œthe copsâ€. Analyzing such patterns can help to narrow down a speakerâ€™s identity, which is useful when validating, for example, whether itâ€™s still the same person behind an online avatar.</p><p>Now given a paragraph of text sampled from someoneâ€™s speech, can you find the personâ€™s most commonly used word?</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, there is one line of text no more than 1048576 characters in length, terminated by a carriage return â€˜\nâ€™. The input contains at least one alphanumerical character, i.e., one character from the set [0-9 A-Z a-z].</p><p><strong>Output Specification:</strong></p><p>For each test case, print in one line the most commonly occurring word in the input text, followed by a space and the number of times it has occurred in the input. If there are more than one such words, print the lexicographically smallest one. The word should be printed in all lower case. Here a â€œwordâ€ is defined as a continuous sequence of alphanumerical characters separated by non-alphanumerical characters or the line beginning/end.</p><p>Note that words are case insensitive.</p><p><strong>Sample Input:</strong><br>Can1: â€œCan a can can a can?  It can!â€<br><strong>Sample Output:</strong><br>can 5</p><p>é¢˜ç›®å¤§æ„ï¼šç»Ÿè®¡å‡ºç°æ¬¡æ•°æœ€å¤šçš„å•è¯ï¼Œåˆæ³•çš„å•è¯ä¸ºå­—æ¯+æ•°å­—çš„ç»„åˆï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚<br>åˆ†æï¼šæ°´é¢˜ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    map&lt;string,<span class="hljs-keyword">int</span>&gt;mymap;<br>    string s=<span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">char</span> c;<br><br>    <span class="hljs-keyword">while</span>((c=<span class="hljs-built_in">getchar</span>())!=<span class="hljs-string">&#x27;\n&#x27;</span>)&#123;<br>        <span class="hljs-keyword">if</span>((c&gt;=<span class="hljs-string">&#x27;A&#x27;</span>&amp;&amp;c&lt;=<span class="hljs-string">&#x27;Z&#x27;</span>)||(c&gt;=<span class="hljs-string">&#x27;a&#x27;</span>&amp;&amp;c&lt;=<span class="hljs-string">&#x27;z&#x27;</span>)||(c&gt;=<span class="hljs-string">&#x27;0&#x27;</span>&amp;&amp;c&lt;=<span class="hljs-string">&#x27;9&#x27;</span>))&#123;<br>            <span class="hljs-keyword">if</span>(c&gt;=<span class="hljs-string">&#x27;A&#x27;</span>&amp;&amp;c&lt;=<span class="hljs-string">&#x27;Z&#x27;</span>)c+=<span class="hljs-number">32</span>;<br>            s+=c;<br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-keyword">if</span>(s.<span class="hljs-built_in">length</span>())&#123;<br>                mymap[s]++;<br>                s=<span class="hljs-string">&quot;&quot;</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(s.<span class="hljs-built_in">length</span>())mymap[s]++;<br>    <span class="hljs-keyword">int</span> max=<span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(map&lt;string,<span class="hljs-keyword">int</span>&gt;::iterator it=mymap.<span class="hljs-built_in">begin</span>();it!=mymap.<span class="hljs-built_in">end</span>();it++)&#123;<br>        <span class="hljs-keyword">if</span>(it-&gt;second&gt;max)&#123;<br>            max=it-&gt;second;<br>            s=it-&gt;first;<br>        &#125;<br>    &#125;<br>    cout&lt;&lt;s&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>&lt;&lt;max&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1070. Mooncake (25) -PATç”²çº§</title>
    <link href="/2018/02/13/2018-02-13-PAT-1070/"/>
    <url>/2018/02/13/2018-02-13-PAT-1070/</url>
    
    <content type="html"><![CDATA[<p>Mooncake is a Chinese bakery product traditionally eaten during the Mid-Autumn Festival. Many types of fillings and crusts can be found in traditional mooncakes according to the regionâ€™s culture. Now given the inventory amounts and the prices of all kinds of the mooncakes, together with the maximum total demand of the market, you are supposed to tell the maximum profit that can be made.</p><p>Note: partial inventory storage can be taken. The sample shows the following situation: given three kinds of mooncakes with inventory amounts being 180, 150, and 100 thousand tons, and the prices being 7.5, 7.2, and 4.5 billion yuans. If the market demand can be at most 200 thousand tons, the best we can do is to sell 150 thousand tons of the second kind of mooncake, and 50 thousand tons of the third kind. Hence the total profit is 7.2 + 4.5/2 = 9.45 (billion yuans).</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains 2 positive integers N (&lt;=1000), the number of different kinds of mooncakes, and D (&lt;=500 thousand tons), the maximum total demand of the market. Then the second line gives the positive inventory amounts (in thousand tons), and the third line gives the positive prices (in billion yuans) of N kinds of mooncakes. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, print the maximum profit (in billion yuans) in one line, accurate up to 2 decimal places.</p><p><strong>Sample Input:</strong><br>3 200<br>180 150 100<br>7.5 7.2 4.5<br><strong>Sample Output:</strong><br>9.45</p><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šå®¹é‡ï¼Œæ¯ç§æœˆé¥¼çš„é‡å’Œä»·æ ¼ï¼Œæ€ä¹ˆå–æœˆé¥¼æœ€èµšé’±ã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œè´ªå¿ƒã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><br>    <span class="hljs-keyword">double</span> num,pri,w;<br>&#125;moon[<span class="hljs-number">1005</span>];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(node a,node b)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> a.w&gt;b.w;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,d;<br>    cin&gt;&gt;n&gt;&gt;d;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>        cin&gt;&gt;moon[i].num;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        cin&gt;&gt;moon[i].pri;<br>        moon[i].w=moon[i].pri/moon[i].num;<br>    &#125;<br>    <span class="hljs-built_in">sort</span>(moon,moon+n,cmp);<br>    <span class="hljs-keyword">double</span> pro=<span class="hljs-number">0.0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        <span class="hljs-keyword">if</span>(d&gt;moon[i].num)&#123;           <span class="hljs-comment">//å®¹é‡è¶³å¤Ÿ</span><br>            pro+=moon[i].pri;<br>            d-=moon[i].num;<br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            pro+=moon[i].w*d;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.2lf&quot;</span>,pro);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hyper-vä¸Šçš„Ubuntuå®‰è£…</title>
    <link href="/2018/02/13/2018-02-13-Ubuntu/"/>
    <url>/2018/02/13/2018-02-13-Ubuntu/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ¶ˆæ²‰äº†å‡ å¤©æ²¡æœ‰æ›´åšï¼Œè¿™é‡Œå…ˆè¡¥ä¸Šä¸€ç¯‡åˆ©ç”¨win10è‡ªå¸¦çš„è™šæ‹Ÿæœº(Hyper-v)å®‰è£…Ubuntuç³»ç»Ÿçš„æ•™ç¨‹ï¼Œä¸ºäº†ä¸‹å­¦æœŸçš„Linuxå­¦ä¹ æ‰“ä¸‹ä¸€ç‚¹åŸºç¡€ï¼Œæ¥ä¸‹æ¥å‡ å¤©é‡Œä¸€å®šä¼šå¥½å¥½åˆ·é¢˜å¥½å¥½å†™é¡¹ç›®ä»£ç çš„QAQ</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>é¦–å…ˆæ‰“å¼€â€æ§åˆ¶é¢æ¿â€ï¼Œåœ¨â€ç¨‹åºå’ŒåŠŸèƒ½â€å­èœå•ä¸­é€‰æ‹©â€å¯ç”¨æˆ–å…³é—­windowsåŠŸèƒ½â€ã€‚<br><img src="/img/Ubuntu1.jpg" alt="img">  </p><p>åœ¨â€å¯åŠ¨æˆ–å…³é—­WindowsåŠŸèƒ½â€å­èœå•ä¸­å‹¾é€‰â€Hyperâ€æŠŠå®ƒå±•å¼€éƒ½å‹¾é€‰ä¸Šï¼Œç„¶åâ€ç¡®å®šâ€é‡å¯ç”µè„‘ã€‚<br><img src="/img/Ubuntu2.jpg" alt="img"><br><strong>ps:å¦‚æœä¸èƒ½æ‰“é’©ï¼Œåªæ˜¯æ¡†æ¡†ä¸ºé»‘è‰²ï¼Œéœ€è¦åœ¨BIOSä¸­å¼€å¯è™šæ‹ŸåŒ–è®¾ç½®!!!</strong><br><img src="/img/Ubuntu6.jpg" alt="img"></p><p>ç­‰è®¡ç®—æœºé‡å¯å®Œæˆï¼Œæˆ‘ä»¬å°±ä¼šçœ‹åˆ°å¼€å§‹èœå•ä¸­æœ‰â€Hyper-vç®¡ç†å™¨â€ã€‚<br><img src="/img/Ubuntu3.jpg" alt="img">  </p><p>åŒå‡»æ‰“å¼€è™šæ‹Ÿæœºï¼Œç‚¹å‡» â€œæ“ä½œâ€ -&gt; â€œæ–°å»ºâ€ -&gt; â€œè™šæ‹Ÿæœºâ€ï¼Œä¸€ç›´ä¸‹ä¸€æ­¥å°±å¯ä»¥å®Œæˆè™šæ‹Ÿæœºçš„åˆ›å»ºäº†æ²¡ä»€ä¹ˆæ³¨æ„äº‹é¡¹â€¦ä¸ªäººç”µè„‘æ¯”è¾ƒèœå°±åªåˆ†äº†2Gçš„è™šæ‹Ÿå†…å­˜å’Œä»¥åŠåˆ†äº†10Gè™šæ‹Ÿç¡¬ç›˜ã€‚<br><img src="/img/Ubuntu4.jpg" alt="img"><br>ç„¶åæ–°å»ºä¸€ä¸ªè™šæ‹Ÿäº¤æ¢æœºï¼Œé€‰æ‹©â€å¤–ç½‘â€ï¼Œåœ¨è®¾ç½®ä¸­æ·»åˆ°è™šæ‹Ÿæœºé‡Œã€‚</p><p>åœ¨Linuxå®˜ç½‘ä¸Šä¸‹è½½Ubuntuçš„iosé•œåƒï¼Œåœ¨è®¾ç½®ä¸­å¯¼å…¥ï¼Œç„¶åå°±å¯ä»¥å¯åŠ¨è™šæ‹Ÿæœºäº†!</p><p>Ubuntuçš„å®‰è£…è¿‡ç¨‹ä¹Ÿåªéœ€è¦å®Œå…¨æŒ‰ç…§é»˜è®¤å¾€ä¸‹ä¸€æ­¥æ­¥èµ°å°±å¯ä»¥å®Œæˆäº†ï¼Œç„¶åæŒ‰ç…§è¦æ±‚é‡å¯å°±è¿›å…¥åˆ°äº†Ubuntuç³»ç»Ÿï¼Œå¤§åŠŸå‘Šæˆ!??<br><img src="/img/Ubuntu5.jpg" alt="img">  </p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>ä¸­å›½é£çš„ Ubuntu Kylin å¯ä»¥è¯´æ˜¯å¾ˆå¥½çœ‹äº†<del>æºœäº†</del></p>]]></content>
    
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1068. Find More Coins (30) -PATç”²çº§</title>
    <link href="/2018/02/09/2018-02-27-PAT-1068/"/>
    <url>/2018/02/09/2018-02-27-PAT-1068/</url>
    
    <content type="html"><![CDATA[<p>Eva loves to collect coins from all over the universe, including some other planets like Mars. One day she visited a universal shopping mall which could accept all kinds of coins as payments. However, there was a special requirement of the payment: for each bill, she must pay the exact amount. Since she has as many as 104 coins with her, she definitely needs your help. You are supposed to tell her, for any given amount of money, whether or not she can find some coins to pay for it.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains 2 positive numbers: N (&lt;=104, the total number of coins) and M(&lt;=102, the amount of money Eva has to pay). The second line contains N face values of the coins, which are all positive numbers. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, print in one line the face values V1 &lt;= V2 &lt;= â€¦ &lt;= Vk such that V1 + V2 + â€¦ + Vk = M. All the numbers must be separated by a space, and there must be no extra space at the end of the line. If such a solution is not unique, output the smallest sequence. If there is no solution, output â€œNo Solutionâ€ instead.</p><p>Note: sequence {A[1], A[2], â€¦} is said to be â€œsmallerâ€ than sequence {B[1], B[2], â€¦} if there exists k &gt;= 1 such that A[i]=B[i] for all i &lt; k, and A[k] &lt; B[k].</p><p><strong>Sample Input 1:</strong><br>8 9<br>5 9 8 7 2 3 4 1<br><strong>Sample Output 1:</strong><br>1 3 5<br><strong>Sample Input 2:</strong><br>4 8<br>7 2 4 3<br><strong>Sample Output 2:</strong><br>No Solution  </p><p>é¢˜ç›®å¤§æ„ï¼šè¾“å‡ºæœ€å°çš„ä¸€ç»„æ•°å’Œä¸ºmã€‚<br>åˆ†æï¼š01èƒŒåŒ…ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a,<span class="hljs-keyword">int</span> b)</span></span>&#123;<span class="hljs-keyword">return</span> a&gt;b;&#125;<br><span class="hljs-keyword">int</span> dp[<span class="hljs-number">10005</span>],w[<span class="hljs-number">10005</span>],aa[<span class="hljs-number">10005</span>][<span class="hljs-number">10005</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,m;<br>    cin&gt;&gt;n&gt;&gt;m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>        cin&gt;&gt;w[i];<br>    <span class="hljs-built_in">sort</span>(w+<span class="hljs-number">1</span>,w+n+<span class="hljs-number">1</span>,cmp);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=m;j&gt;=w[i];j--)&#123;<br>        <span class="hljs-keyword">if</span>(dp[j]&lt;=dp[j-w[i]]+w[i])&#123;<br>            dp[j]=dp[j-w[i]]+w[i];<br>            aa[i][j]=<span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(dp[m]!=m)cout&lt;&lt;<span class="hljs-string">&quot;No Solution&quot;</span>;<br>    <span class="hljs-keyword">else</span>&#123;<br>        vector&lt;<span class="hljs-keyword">int</span>&gt;arr;<br>        <span class="hljs-keyword">int</span> v=m,index=n;<br>        <span class="hljs-keyword">while</span>(v)&#123;<br>            <span class="hljs-keyword">if</span>(aa[index][v])&#123;<br>                arr.<span class="hljs-built_in">push_back</span>(w[index]);<br>                v-=w[index];<br>            &#125;<br>            index--;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;arr.<span class="hljs-built_in">size</span>();i++)&#123;<br>            <span class="hljs-keyword">if</span>(i)cout&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>;<br>            cout&lt;&lt;arr[i];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1064. Complete Binary Search Tree (30) -PATç”²çº§</title>
    <link href="/2018/02/09/2018-02-09-PAT-1064/"/>
    <url>/2018/02/09/2018-02-09-PAT-1064/</url>
    
    <content type="html"><![CDATA[<p>A Binary Search Tree (BST) is recursively defined as a binary tree which has the following properties:</p><ul><li>The left subtree of a node contains only nodes with keys less than the nodeâ€™s key.  </li><li>The right subtree of a node contains only nodes with keys greater than or equal to the nodeâ€™s key.  </li><li>Both the left and right subtrees must also be binary search trees.</li></ul><p>A Complete Binary Tree (CBT) is a tree that is completely filled, with the possible exception of the bottom level, which is filled from left to right.</p><p>Now given a sequence of distinct non-negative integer keys, a unique BST can be constructed if it is required that the tree must also be a CBT. You are supposed to output the level order traversal sequence of this BST.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains a positive integer N (&lt;=1000). Then N distinct non-negative integer keys are given in the next line. All the numbers in a line are separated by a space and are no greater than 2000.</p><p><strong>Output Specification:</strong></p><p>For each test case, print in one line the level order traversal sequence of the corresponding complete binary search tree. All the numbers in a line must be separated by a space, and there must be no extra space at the end of the line.</p><p><strong>Sample Input:</strong><br>10<br>1 2 3 4 5 6 7 8 9 0<br><strong>Sample Output:</strong><br>6 3 8 1 5 7 9 0 2 4</p><p>é¢˜ç›®å¤§æ„ï¼šç»™ä¸€æ£µå®Œå…¨äºŒå‰æœç´¢æ ‘æ±‚å…¶å±‚æ¬¡éå†ã€‚<br>åˆ†æï¼šäºŒå‰æœç´¢æ ‘æ’åºåä¸ºä¸­åºï¼Œç„¶åæ ¹æ®rootæ¨å‡ºå…¶å±‚æ¬¡éå†ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;math.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>vector&lt;<span class="hljs-keyword">int</span>&gt; in, level;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">levelorder</span><span class="hljs-params">(<span class="hljs-keyword">int</span> start, <span class="hljs-keyword">int</span> end, <span class="hljs-keyword">int</span> index)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span>(start &gt; end) <span class="hljs-keyword">return</span> ;<br>    <span class="hljs-keyword">int</span> n = end - start + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> l =<span class="hljs-built_in">log</span>(n + <span class="hljs-number">1</span>) / <span class="hljs-built_in">log</span>(<span class="hljs-number">2</span>);<br>    <span class="hljs-keyword">int</span> leave = n - (<span class="hljs-built_in">pow</span>(<span class="hljs-number">2</span>, l) - <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">int</span> root = start + <span class="hljs-built_in">pow</span>(<span class="hljs-number">2</span>, l - <span class="hljs-number">1</span>) - <span class="hljs-number">1</span> + <span class="hljs-built_in">min</span>((<span class="hljs-keyword">int</span>)<span class="hljs-built_in">pow</span>(<span class="hljs-number">2</span>, l - <span class="hljs-number">1</span>), leave);<br>    level[index] = in[root];<br>    <span class="hljs-built_in">levelorder</span>(start, root - <span class="hljs-number">1</span>, <span class="hljs-number">2</span> * index + <span class="hljs-number">1</span>);<br>    <span class="hljs-built_in">levelorder</span>(root + <span class="hljs-number">1</span>, end, <span class="hljs-number">2</span> * index + <span class="hljs-number">2</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    in.<span class="hljs-built_in">resize</span>(n);<br>    level.<span class="hljs-built_in">resize</span>(n);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; n; i++)<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;in[i]);<br>    <span class="hljs-built_in">sort</span>(in.<span class="hljs-built_in">begin</span>(), in.<span class="hljs-built_in">end</span>());<br>    <span class="hljs-built_in">levelorder</span>(<span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, level[<span class="hljs-number">0</span>]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, level[i]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1062. Talent and Virtue (25) -PATç”²çº§</title>
    <link href="/2018/02/09/2018-02-09-PAT-1062/"/>
    <url>/2018/02/09/2018-02-09-PAT-1062/</url>
    
    <content type="html"><![CDATA[<p>About 900 years ago, a Chinese philosopher Sima Guang wrote a history book in which he talked about peopleâ€™s talent and virtue. According to his theory, a man being outstanding in both talent and virtue must be a â€œsageï¼ˆåœ£äººï¼‰â€; being less excellent but with oneâ€™s virtue outweighs talent can be called a â€œnoblemanï¼ˆå›å­ï¼‰â€; being good in neither is a â€œfool manï¼ˆæ„šäººï¼‰â€; yet a fool man is better than a â€œsmall manï¼ˆå°äººï¼‰â€ who prefers talent than virtue.</p><p>Now given the grades of talent and virtue of a group of people, you are supposed to rank them according to Sima Guangâ€™s theory.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case first gives 3 positive integers in a line: N (&lt;=105), the total number of people to be ranked; L (&gt;=60), the lower bound of the qualified grades â€“ that is, only the ones whose grades of talent and virtue are both not below this line will be ranked; and H (&lt;100), the higher line of qualification â€“ that is, those with both grades not below this line are considered as the â€œsagesâ€, and will be ranked in non-increasing order according to their total grades. Those with talent grades below H but virtue grades not are cosidered as the â€œnoblemenâ€, and are also ranked in non-increasing order according to their total grades, but they are listed after the â€œsagesâ€. Those with both grades below H, but with virtue not lower than talent are considered as the â€œfool menâ€. They are ranked in the same way but after the â€œnoblemenâ€. The rest of people whose grades both pass the L line are ranked after the â€œfool menâ€.</p><p>Then N lines follow, each gives the information of a person in the format:</p><p>ID_Number Virtue_Grade Talent_Grade<br>where ID_Number is an 8-digit number, and both grades are integers in [0, 100]. All the numbers are separated by a space.<br><strong>Output Specification:</strong>  </p><p>The first line of output must give M (&lt;=N), the total number of people that are actually ranked. Then M lines follow, each gives the information of a person in the same format as the input, according to the ranking rules. If there is a tie of the total grade, they must be ranked with respect to their virtue grades in non-increasing order. If there is still a tie, then output in increasing order of their IDâ€™s.</p><p><strong>Sample Input:</strong><br>14 60 80<br>10000001 64 90<br>10000002 90 60<br>10000011 85 80<br>10000003 85 80<br>10000004 80 85<br>10000005 82 77<br>10000006 83 76<br>10000007 90 78<br>10000008 75 79<br>10000009 59 90<br>10000010 88 45<br>10000012 80 100<br>10000013 90 99<br>10000014 66 60<br><strong>Sample Output:</strong><br>12<br>10000013 90 99<br>10000012 80 100<br>10000003 85 80<br>10000011 85 80<br>10000004 80 85<br>10000007 90 78<br>10000006 83 76<br>10000005 82 77<br>10000002 90 60<br>10000014 66 60<br>10000008 75 79<br>10000001 64 90</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">stu</span>&#123;</span><br>    <span class="hljs-keyword">int</span> num,d,c;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt;(stu &amp;A)&#123;<br>        <span class="hljs-keyword">if</span>(d+c != A.d+A.c)<br>            <span class="hljs-keyword">return</span> d+c&gt;A.d+A.c;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(d != A.d)<br>            <span class="hljs-keyword">return</span> d&gt;A.d;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> num&lt;A.num;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,l,h;<br>    <span class="hljs-keyword">int</span> cnt=<span class="hljs-number">0</span>;<br>    vector&lt;stu&gt; v1,v2,v3,v4;<br>    stu temp;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d %d&quot;</span>,&amp;n,&amp;l,&amp;h);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d %d&quot;</span>,&amp;temp.num,&amp;temp.d,&amp;temp.c);<br>        <span class="hljs-keyword">if</span>((temp.d&gt;=l)&amp;&amp;(temp.c&gt;=l))&#123;<br>            cnt++;<br>            <span class="hljs-keyword">if</span>((temp.d&gt;=h)&amp;&amp;(temp.c&gt;=h))<br>                v1.<span class="hljs-built_in">push_back</span>(temp);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(temp.d&gt;=h)<br>                v2.<span class="hljs-built_in">push_back</span>(temp);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(temp.d&gt;=temp.c)<br>                v3.<span class="hljs-built_in">push_back</span>(temp);<br>            <span class="hljs-keyword">else</span> v4.<span class="hljs-built_in">push_back</span>(temp);<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">sort</span>(v1.<span class="hljs-built_in">begin</span>(),v1.<span class="hljs-built_in">end</span>());<br>    <span class="hljs-built_in">sort</span>(v2.<span class="hljs-built_in">begin</span>(),v2.<span class="hljs-built_in">end</span>());<br>    <span class="hljs-built_in">sort</span>(v3.<span class="hljs-built_in">begin</span>(),v3.<span class="hljs-built_in">end</span>());<br>    <span class="hljs-built_in">sort</span>(v4.<span class="hljs-built_in">begin</span>(),v4.<span class="hljs-built_in">end</span>());<br>    vector&lt;stu&gt;::iterator itr;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,cnt);<br>    <span class="hljs-keyword">for</span>(itr=v1.<span class="hljs-built_in">begin</span>();itr!=v1.<span class="hljs-built_in">end</span>();++itr)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d %d\n&quot;</span>,itr-&gt;num,itr-&gt;d,itr-&gt;c);<br>    <span class="hljs-keyword">for</span>(itr=v2.<span class="hljs-built_in">begin</span>();itr!=v2.<span class="hljs-built_in">end</span>();++itr)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d %d\n&quot;</span>,itr-&gt;num,itr-&gt;d,itr-&gt;c);<br>    <span class="hljs-keyword">for</span>(itr=v3.<span class="hljs-built_in">begin</span>();itr!=v3.<span class="hljs-built_in">end</span>();++itr)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d %d\n&quot;</span>,itr-&gt;num,itr-&gt;d,itr-&gt;c);<br>    <span class="hljs-keyword">for</span>(itr=v4.<span class="hljs-built_in">begin</span>();itr!=v4.<span class="hljs-built_in">end</span>();++itr)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d %d\n&quot;</span>,itr-&gt;num,itr-&gt;d,itr-&gt;c);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1061. Dating (20) -PATç”²çº§</title>
    <link href="/2018/02/09/2018-02-09-PAT-1061/"/>
    <url>/2018/02/09/2018-02-09-PAT-1061/</url>
    
    <content type="html"><![CDATA[<p>Sherlock Holmes received a note with some strange strings: â€œLetâ€™s date! 3485djDkxh4hhGE 2984akDfkkkkggEdsb s&amp;hgsfdk d&amp;Hyscvnmâ€. It took him only a minute to figure out that those strange strings are actually referring to the coded time â€œThursday 14:04â€ â€“ since the first common capital English letter (case sensitive) shared by the first two strings is the 4th capital letter â€˜Dâ€™, representing the 4th day in a week; the second common character is the 5th capital letter â€˜Eâ€™, representing the 14th hour (hence the hours from 0 to 23 in a day are represented by the numbers from 0 to 9 and the capital letters from A to N, respectively); and the English letter shared by the last two strings is â€˜sâ€™ at the 4th position, representing the 4th minute. Now given two pairs of strings, you are supposed to help Sherlock decode the dating time.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case gives 4 non-empty strings of no more than 60 characters without white space in 4 lines.</p><p><strong>Output Specification:</strong></p><p>For each test case, print the decoded time in one line, in the format â€œDAY HH:MMâ€, where â€œDAYâ€ is a 3-character abbreviation for the days in a week â€“ that is, â€œMONâ€ for Monday, â€œTUEâ€ for Tuesday, â€œWEDâ€ for Wednesday, â€œTHUâ€ for Thursday, â€œFRIâ€ for Friday, â€œSATâ€ for Saturday, and â€œSUNâ€ for Sunday. It is guaranteed that the result is unique for each case.</p><p><strong>Sample Input:</strong><br>3485djDkxh4hhGE<br>2984akDfkkkkggEdsb<br>s&amp;hgsfdk<br>d&amp;Hyscvnm<br><strong>Sample Output:</strong><br>THU 14:04</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string s1,s2,s3,s4;<br>    <span class="hljs-keyword">int</span> ans,k=<span class="hljs-number">0</span>,i,j,mark=<span class="hljs-number">0</span>;<br>    cin&gt;&gt;s1&gt;&gt;s2&gt;&gt;s3&gt;&gt;s4;<br><br>    <span class="hljs-keyword">int</span> len1=s1.<span class="hljs-built_in">size</span>()&lt;s2.<span class="hljs-built_in">size</span>()?s1.<span class="hljs-built_in">size</span>():s2.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-keyword">int</span> len2=s3.<span class="hljs-built_in">size</span>()&lt;s4.<span class="hljs-built_in">size</span>()?s3.<span class="hljs-built_in">size</span>():s4.<span class="hljs-built_in">size</span>();<br><br>     <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;s1.<span class="hljs-built_in">size</span>()&amp;&amp;i&lt;s2.<span class="hljs-built_in">size</span>();i++)&#123;<br>            <span class="hljs-keyword">if</span>(s1[i]==s2[i]&amp;&amp;(s1[i]&gt;=<span class="hljs-string">&#x27;A&#x27;</span>&amp;&amp;s1[i]&lt;=<span class="hljs-string">&#x27;G&#x27;</span>))&#123;<br>                      <span class="hljs-built_in"><span class="hljs-keyword">switch</span></span>(s1[i])&#123;<br>                         <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;A&#x27;</span>:  cout&lt;&lt;<span class="hljs-string">&quot;MON &quot;</span>;<span class="hljs-keyword">break</span>;<br>                         <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;B&#x27;</span>:  cout&lt;&lt;<span class="hljs-string">&quot;TUE &quot;</span>;<span class="hljs-keyword">break</span>;<br>                         <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;C&#x27;</span>:  cout&lt;&lt;<span class="hljs-string">&quot;WED &quot;</span>;<span class="hljs-keyword">break</span>;<br>                         <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;D&#x27;</span>:  cout&lt;&lt;<span class="hljs-string">&quot;THU &quot;</span>;<span class="hljs-keyword">break</span>;<br>                         <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;E&#x27;</span>:  cout&lt;&lt;<span class="hljs-string">&quot;FRI &quot;</span>;<span class="hljs-keyword">break</span>;<br>                         <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;F&#x27;</span>:  cout&lt;&lt;<span class="hljs-string">&quot;SAT &quot;</span>;<span class="hljs-keyword">break</span>;<br>                         <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;G&#x27;</span>:  cout&lt;&lt;<span class="hljs-string">&quot;SUN &quot;</span>;<span class="hljs-keyword">break</span>;<br>                                    &#125;<br>                         mark=i;<br>                         <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>    &#125;<br>    <span class="hljs-keyword">for</span>(i=mark+<span class="hljs-number">1</span>;i&lt;len1;i++)&#123;<br>        <span class="hljs-keyword">if</span>(s1[i]==s2[i]&amp;&amp;(s1[i]&gt;=<span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp;s1[i]&lt;=<span class="hljs-string">&#x27;N&#x27;</span> || s1[i]&gt;=<span class="hljs-string">&#x27;0&#x27;</span>&amp;&amp;s1[i]&lt;=<span class="hljs-string">&#x27;9&#x27;</span>))&#123;<br>            <span class="hljs-keyword">if</span>(s1[i]&gt;=<span class="hljs-string">&#x27;A&#x27;</span>&amp;&amp;s1[i]&lt;=<span class="hljs-string">&#x27;N&#x27;</span>)&#123;<br>                <span class="hljs-keyword">int</span> x=s1[i]-<span class="hljs-string">&#x27;A&#x27;</span>+<span class="hljs-number">10</span>;<br>                cout&lt;&lt;x/<span class="hljs-number">10</span>&lt;&lt;x%<span class="hljs-number">10</span>&lt;&lt;<span class="hljs-string">&quot;:&quot;</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">int</span> y=s1[i]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>                cout&lt;&lt;y/<span class="hljs-number">10</span>&lt;&lt;y%<span class="hljs-number">10</span>&lt;&lt;<span class="hljs-string">&quot;:&quot;</span>;<br>            &#125;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;len2;i++)&#123;<br>          <span class="hljs-keyword">if</span>(s3[i]==s4[i]&amp;&amp;(s3[i]&gt;=<span class="hljs-string">&#x27;A&#x27;</span>&amp;&amp;s3[i]&lt;=<span class="hljs-string">&#x27;Z&#x27;</span>||s3[i]&gt;=<span class="hljs-string">&#x27;a&#x27;</span>&amp;&amp;s3[i]&lt;=<span class="hljs-string">&#x27;z&#x27;</span>))&#123;<br>            cout&lt;&lt;i/<span class="hljs-number">10</span>&lt;&lt;i%<span class="hljs-number">10</span>&lt;&lt;endl;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1060. Are They Equal (25) -PATç”²çº§</title>
    <link href="/2018/02/09/2018-02-09-PAT-1060/"/>
    <url>/2018/02/09/2018-02-09-PAT-1060/</url>
    
    <content type="html"><![CDATA[<p>If a machine can save only 3 significant digits, the float numbers 12300 and 12358.9 are considered equal since they are both saved as 0.123*105 with simple chopping. Now given the number of significant digits on a machine and two float numbers, you are supposed to tell if they are treated equal in that machine.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case which gives three numbers N, A and B, where N (&lt;100) is the number of significant digits, and A and B are the two float numbers to be compared. Each float number is non-negative, no greater than 10100, and that its total digit number is less than 100.</p><p><strong>Output Specification:</strong></p><p>For each test case, print in a line â€œYESâ€ if the two numbers are treated equal, and then the number in the standard form â€œ0.d1â€¦dN*10^kâ€ (d1&gt;0 unless the number is 0); or â€œNOâ€ if they are not treated equal, and then the two numbers in their standard form. All the terms must be separated by a space, with no extra space at the end of a line.</p><p>Note: Simple chopping is assumed without rounding.</p><p><strong>Sample Input 1:</strong><br>3 12300 12358.9<br><strong>Sample Output 1:</strong><br>YES 0.123<em>10^5<br><strong>Sample Input 2:</strong><br>3 120 128<br><strong>Sample Output 2:</strong><br>NO 0.120</em>10^3 0.128*10^3</p><p>é¢˜ç›®å¤§æ„ï¼šåˆ¤æ–­aï¼Œbä¿ç•™nä½çš„ç§‘å­¦è®¡æ•°æ³•æ˜¯å¦ç›¸åŒã€‚<br>åˆ†æï¼šæš´åŠ›ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, p = <span class="hljs-number">0</span>, q = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> a[<span class="hljs-number">10000</span>], b[<span class="hljs-number">10000</span>], A[<span class="hljs-number">10000</span>], B[<span class="hljs-number">10000</span>];<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%s%s&quot;</span>, &amp;n, a, b);<br>    <span class="hljs-keyword">int</span> cnta = <span class="hljs-built_in">strlen</span>(a), cntb = <span class="hljs-built_in">strlen</span>(b);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">strlen</span>(a); i++) &#123;<br>        <span class="hljs-keyword">if</span>(a[i] == <span class="hljs-string">&#x27;.&#x27;</span>) &#123;<br>            cnta = i;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">strlen</span>(b); i++) &#123;<br>        <span class="hljs-keyword">if</span>(b[i] == <span class="hljs-string">&#x27;.&#x27;</span>) &#123;<br>            cntb = i;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">int</span> indexa = <span class="hljs-number">0</span>, indexb = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(a[p] == <span class="hljs-string">&#x27;0&#x27;</span> || a[p] == <span class="hljs-string">&#x27;.&#x27;</span>) p++;<br>    <span class="hljs-keyword">while</span>(b[q] == <span class="hljs-string">&#x27;0&#x27;</span> || b[q] == <span class="hljs-string">&#x27;.&#x27;</span>) q++;<br>    <span class="hljs-keyword">if</span>(cnta &gt;= p)<br>        cnta = cnta - p;<br>    <span class="hljs-keyword">else</span><br>        cnta = cnta - p + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(cntb &gt;= q)<br>        cntb = cntb - q;<br>    <span class="hljs-keyword">else</span><br>        cntb = cntb - q + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(p == <span class="hljs-built_in">strlen</span>(a))<br>        cnta = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(q == <span class="hljs-built_in">strlen</span>(b))<br>        cntb = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(indexa &lt; n) &#123;<br>        <span class="hljs-keyword">if</span>(a[p] != <span class="hljs-string">&#x27;.&#x27;</span> &amp;&amp; p &lt; <span class="hljs-built_in">strlen</span>(a))<br>            A[indexa++] = a[p];<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(p &gt;= <span class="hljs-built_in">strlen</span>(a))<br>            A[indexa++] = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        p++;<br>    &#125;<br>    <span class="hljs-keyword">while</span>(indexb &lt; n) &#123;<br>        <span class="hljs-keyword">if</span>(b[q] != <span class="hljs-string">&#x27;.&#x27;</span> &amp;&amp; q &lt; <span class="hljs-built_in">strlen</span>(b))<br>            B[indexb++] = b[q];<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(q &gt;= <span class="hljs-built_in">strlen</span>(b))<br>            B[indexb++] = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        q++;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">strcmp</span>(A, B) == <span class="hljs-number">0</span> &amp;&amp; cnta == cntb)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;YES 0.%s*10^%d&quot;</span>, A, cnta);<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;NO 0.%s*10^%d 0.%s*10^%d&quot;</span> , A, cnta, B, cntb);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1059. Prime Factors (25) -PATç”²çº§</title>
    <link href="/2018/02/09/2018-02-09-PAT-1059/"/>
    <url>/2018/02/09/2018-02-09-PAT-1059/</url>
    
    <content type="html"><![CDATA[<p>Given any positive integer N, you are supposed to find all of its prime factors, and write them in the format N = p1^k1 * p2^k2 *â€¦*pm^km.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case which gives a positive integer N in the range of long int.</p><p><strong>Output Specification:</strong></p><p>Factor N in the format N = p1^k1 * p2^k2 *â€¦*pm^km, where piâ€™s are prime factors of N in increasing order, and the exponent ki is the number of pi â€“ hence when there is only one pi, ki is 1 and must NOT be printed out.</p><p><strong>Sample Input:</strong><br>97532468<br><strong>Sample Output:</strong><br>97532468=2^2<em>11</em>17<em>101</em>1291</p><p>é¢˜ç›®å¤§æ„ï¼šè¾“å‡ºnçš„è´¨å› å­ã€‚<br>åˆ†æï¼šå»ºç«‹ä¸€ä¸ªç´ æ•°è¡¨ï¼Œæš´åŠ›ï¼Œæ³¨æ„1çš„æƒ…å†µã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br>vector&lt;<span class="hljs-keyword">int</span>&gt;<span class="hljs-built_in">prime</span>(<span class="hljs-number">500000</span>,<span class="hljs-number">1</span>);<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>;i*i&lt;<span class="hljs-number">500000</span>;i++)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">2</span>;j*i&lt;<span class="hljs-number">500000</span>;j++)<br>            prime[i*j]=<span class="hljs-number">0</span>;<br>    ll n;<br>    cin&gt;&gt;n;<br>    cout&lt;&lt;n&lt;&lt;<span class="hljs-string">&#x27;=&#x27;</span>;<br>    <span class="hljs-keyword">if</span>(n==<span class="hljs-number">1</span>)&#123;cout&lt;&lt;<span class="hljs-string">&#x27;1&#x27;</span>;<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;<br>    <span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>,k=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(n&gt;=<span class="hljs-number">2</span>)&#123;<br>        <span class="hljs-keyword">int</span> cnt=<span class="hljs-number">0</span>,flag=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(prime[i]&amp;&amp;n%i==<span class="hljs-number">0</span>)&#123;<br>            cnt++;<br>            n/=i;<br>            flag=<span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)&#123;<br>            <span class="hljs-keyword">if</span>(k)cout&lt;&lt;<span class="hljs-string">&#x27;*&#x27;</span>;<br>            k=<span class="hljs-number">1</span>;<br>            cout&lt;&lt;i;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(cnt&gt;<span class="hljs-number">1</span>)cout&lt;&lt;<span class="hljs-string">&#x27;^&#x27;</span>&lt;&lt;cnt;<br>        i++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1058. A+B in Hogwarts (20) -PATç”²çº§</title>
    <link href="/2018/02/09/2018-02-09-PAT-1058/"/>
    <url>/2018/02/09/2018-02-09-PAT-1058/</url>
    
    <content type="html"><![CDATA[<p>If you are a fan of Harry Potter, you would know the world of magic has its own currency system â€“ as Hagrid explained it to Harry, â€œSeventeen silver Sickles to a Galleon and twenty-nine Knuts to a Sickle, itâ€™s easy enough.â€ Your job is to write a program to compute A+B where A and B are given in the standard form of â€œGalleon.Sickle.Knutâ€ (Galleon is an integer in [0, 107], Sickle is an integer in [0, 17), and Knut is an integer in [0, 29)).</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case which occupies a line with A and B in the standard form, separated by one space.</p><p><strong>Output Specification:</strong></p><p>For each test case you should output the sum of A and B in one line, with the same format as the input.</p><p><strong>Sample Input:</strong><br>3.2.1 10.16.27<br><strong>Sample Output:</strong><br>14.1.28</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs perl"><span class="hljs-comment">#include&lt;stdio.h&gt;</span><br><span class="hljs-comment">#define ll long long</span><br><span class="hljs-keyword">int</span> main()&#123;<br>    ll a,b,c,d,e,f;<br>    ll sum=<span class="hljs-number">0</span>;<br>    scanf(<span class="hljs-string">&quot;%lld.%lld.%lld %lld.%lld.%lld&quot;</span>,&amp;a,&amp;b,&amp;c,&amp;d,&amp;e,&amp;f);<br>    sum+=(a+d)*<span class="hljs-number">17</span>*<span class="hljs-number">29</span>+(b+e)*<span class="hljs-number">29</span>+c+f;<br>    <span class="hljs-keyword">printf</span>(<span class="hljs-string">&quot;%lld.%lld.%lld&quot;</span>,sum/(<span class="hljs-number">17</span>*<span class="hljs-number">29</span>),sum%(<span class="hljs-number">17</span>*<span class="hljs-number">29</span>)/<span class="hljs-number">29</span>,sum%29);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1056. Mice and Rice (25) -PATç”²çº§</title>
    <link href="/2018/02/06/2018-02-06-PAT-1056/"/>
    <url>/2018/02/06/2018-02-06-PAT-1056/</url>
    
    <content type="html"><![CDATA[<p>Mice and Rice is the name of a programming contest in which each programmer must write a piece of code to control the movements of a mouse in a given map. The goal of each mouse is to eat as much rice as possible in order to become a FatMouse.</p><p>First the playing order is randomly decided for NP programmers. Then every NG programmers are grouped in a match. The fattest mouse in a group wins and enters the next turn. All the losers in this turn are ranked the same. Every NG winners are then grouped in the next match until a final winner is determined.</p><p>For the sake of simplicity, assume that the weight of each mouse is fixed once the programmer submits his/her code. Given the weights of all the mice and the initial playing order, you are supposed to output the ranks for the programmers.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains 2 positive integers: NP and NG (&lt;= 1000), the number of programmers and the maximum number of mice in a group, respectively. If there are less than NG mice at the end of the playerâ€™s list, then all the mice left will be put into the last group. The second line contains NP distinct non-negative numbers Wi (i=0,â€¦NP-1) where each Wi is the weight of the i-th mouse respectively. The third line gives the initial playing order which is a permutation of 0,â€¦NP-1 (assume that the programmers are numbered from 0 to NP-1). All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, print the final ranks in a line. The i-th number is the rank of the i-th programmer, and all the numbers must be separated by a space, with no extra space at the end of the line.</p><p><strong>Sample Input:</strong><br>11 3<br>25 18 0 46 37 3 19 22 57 56 10<br>6 0 8 7 10 5 9 1 4 2 3<br><strong>Sample Output:</strong><br>5 5 5 2 5 5 5 3 1 3 5  </p><p>é¢˜ç›®å¤§æ„ï¼šnpä¸ºè€é¼ çš„æ•°é‡ï¼Œngä¸ºæ¯ç»„æœ€å¤šgä¸ªè€é¼ ã€‚å…ˆç»™å‡ºnpä¸ªè€é¼ çš„é‡é‡ï¼Œå†ç»™å‡ºè€é¼ çš„åˆå§‹é¡ºåºï¼ˆç¬¬iåçš„è€é¼ æ˜¯ç¬¬jå·ï¼Œjä»0å¼€å§‹ï¼‰ã€‚æ¯ngä¸ªè€é¼ åˆ†ä¸ºä¸€ç»„ï¼Œå¯¹äºæ¯ç»„è€é¼ ï¼Œé€‰å‡ºæœ€é‡çš„é‚£ä¸ªï¼Œæ™‹çº§ä¸‹ä¸€è½®æ¯”èµ›ï¼Œç„¶åä¾æ¬¡å†ä»¥npä¸ªè€é¼ ä¸€ç»„åˆ†ç±»ï¼Œç„¶åé€‰å‡ºé‡é‡æœ€å¤§çš„ã€‚ã€‚ã€‚ç›´åˆ°åªå‰©ä¸‹ä¸€åªè€é¼ ï¼Œæ’åä¸º1.è¾“å‡ºä¸ºè€é¼ çš„æ’åï¼Œè¿™ä¸ªæ’åæ˜¯æŒ‰ç…§åŸè¾“å…¥è€é¼ çš„é¡ºåºè¾“å‡ºçš„ã€‚<br>åˆ†æï¼šå¾…è¡¥â€¦</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span>  </span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span>  </span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;  <br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>  </span>&#123;  <br>    <span class="hljs-keyword">int</span> np,ng;  <br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;np,&amp;ng);  <br>    vector&lt;<span class="hljs-keyword">int</span>&gt;weight,order,rank;  <br>    weight.<span class="hljs-built_in">resize</span>(np),order.<span class="hljs-built_in">resize</span>(np),rank.<span class="hljs-built_in">resize</span>(np);  <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;np;++i)  <br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;weight[i]);  <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;np;++i)  <br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;order[i]);  <br>    <span class="hljs-keyword">int</span> curRank=<span class="hljs-number">0</span>;  <br>    <span class="hljs-keyword">while</span>(order.<span class="hljs-built_in">size</span>()&gt;<span class="hljs-number">1</span>)&#123;  <br>        <span class="hljs-comment">//if there are n competiter,then ceil(n/ng) is the number of competiter   </span><br>        <span class="hljs-comment">//who will enter the next turn,the other&#x27;s rank = ceil(n/ng)+1  </span><br>        curRank=order.<span class="hljs-built_in">size</span>()/ng+<span class="hljs-number">1</span>;  <br>        <span class="hljs-keyword">if</span>(order.<span class="hljs-built_in">size</span>()%ng&gt;<span class="hljs-number">0</span>)  <br>            ++curRank;  <br>        vector&lt;<span class="hljs-keyword">int</span>&gt;next;  <br>        next.<span class="hljs-built_in">clear</span>();  <br>        <span class="hljs-keyword">int</span> n=<span class="hljs-number">0</span>;  <br>        <span class="hljs-keyword">while</span>(n&lt;order.<span class="hljs-built_in">size</span>())  &#123;<span class="hljs-comment">//find the competiter of the next turn  </span><br>            <span class="hljs-keyword">int</span> max=<span class="hljs-number">-1</span>,index=<span class="hljs-number">0</span>;  <br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;ng &amp;&amp; n&lt;order.<span class="hljs-built_in">size</span>();++i,++n)  &#123;<span class="hljs-comment">//ng competiter a group to find the winner and push to the next turn  </span><br>                rank[order[n]]=curRank;  <br>                <span class="hljs-keyword">if</span>(weight[order[n]]&gt;max)  &#123;  <br>                    max=weight[order[n]];  <br>                    index=order[n];  <br>                &#125;  <br>            &#125;  <br>            next.<span class="hljs-built_in">push_back</span>(index);  <br>        &#125;  <br>        order=next;  <br>    &#125;  <br>    rank[order[<span class="hljs-number">0</span>]]=<span class="hljs-number">1</span>;  <br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,rank[<span class="hljs-number">0</span>]);  <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;np;++i)  <br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>,rank[i]);  <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <br>&#125;  <br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1054. The Dominant Color (20) -PATç”²çº§</title>
    <link href="/2018/02/06/2018-02-06-PAT-1053/"/>
    <url>/2018/02/06/2018-02-06-PAT-1053/</url>
    
    <content type="html"><![CDATA[<p>Behind the scenes in the computerâ€™s memory, color is always talked about as a series of 24 bits of information for each pixel. In an image, the color with the largest proportional area is called the dominant color. A strictly dominant color takes more than half of the total area. Now given an image of resolution M by N (for example, 800x600), you are supposed to point out the strictly dominant color.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains 2 positive numbers: M (&lt;=800) and N (&lt;=600) which are the resolutions of the image. Then N lines follow, each contains M digital colors in the range [0, 224). It is guaranteed that the strictly dominant color exists for each input image. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, simply print the dominant color in a line.</p><p><strong>Sample Input:</strong><br>5 3<br>0 0 255 16777215 24<br>24 24 0 0 24<br>24 0 24 24 24<br><strong>Sample Output:</strong><br>24</p><p>é¢˜ç›®å¤§æ„ï¼šåœ¨çŸ©é˜µä¸­æ‰¾å‡ºç°æ¬¡æ•°æœ€å¤šçš„é¢œè‰²ã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n,m,a,k,max=<span class="hljs-number">-1</span>;<br>    map&lt;<span class="hljs-keyword">int</span>,<span class="hljs-keyword">int</span>&gt;my;<br>    cin&gt;&gt;n&gt;&gt;m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n*m;i++)&#123;<br>        cin&gt;&gt;a;<br>        my[a]++;<br>        <span class="hljs-keyword">if</span>(my[a]&gt;max)&#123;max=my[a];k=a;&#125;<br>    &#125;<br>    cout&lt;&lt;k;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1052. Linked List Sorting (25) -PATç”²çº§</title>
    <link href="/2018/02/06/2018-02-06-PAT-1052/"/>
    <url>/2018/02/06/2018-02-06-PAT-1052/</url>
    
    <content type="html"><![CDATA[<p>A linked list consists of a series of structures, which are not necessarily adjacent in memory. We assume that each structure contains an integer key and a Next pointer to the next structure. Now given a linked list, you are supposed to sort the structures according to their key values in increasing order.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains a positive N (&lt; 105) and an address of the head node, where N is the total number of nodes in memory and the address of a node is a 5-digit positive integer. NULL is represented by -1.</p><p>Then N lines follow, each describes a node in the format:</p><p>Address Key Next</p><p>where Address is the address of the node in memory, Key is an integer in [-105, 105], and Next is the address of the next node. It is guaranteed that all the keys are distinct and there is no cycle in the linked list starting from the head node.</p><p><strong>Output Specification:</strong></p><p>For each test case, the output format is the same as that of the input, where N is the total number of nodes in the list and all the nodes must be sorted order.</p><p><strong>Sample Input:</strong><br>5 00001<br>11111 100 -1<br>00001 0 22222<br>33333 100000 11111<br>12345 -1 33333<br>22222 1000 12345<br><strong>Sample Output:</strong><br>5 12345<br>12345 -1 00001<br>00001 0 11111<br>11111 100 22222<br>22222 1000 33333<br>33333 100000 -1  </p><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¦æ±‚è¾“å‡ºæ’åºåçš„é“¾è¡¨åŠå…¶é•¿åº¦å’Œé¦–åœ°å€ã€‚<br>åˆ†æï¼šç”¨ä¸€ä¸ªnodeç»“æ„ä½“å­˜å€¼å’Œåœ°å€ï¼Œå†æ‹¿ä¸€ä¸ªmapå°†å€¼å’Œå…¶nodeè¿èµ·æ¥ï¼Œé‡‡ç”¨cmpæ’åºåå°†é“¾è¡¨å­˜å…¥æ–°çš„ç»“æ„ä½“bä¸­å³å¯ã€‚æ³¨æ„åˆ¤æ–­ç©ºé“¾è¡¨æƒ…å†µ&amp;é¢˜ç›®æœ‰äº›ç‚¹ä¼šä¸åœ¨é“¾è¡¨ä¸Šï¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> key,now,next;<br>&#125;a[<span class="hljs-number">100005</span>],b[<span class="hljs-number">100005</span>];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(node a,node b)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> a.key&lt;b.key;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n,s;<br>    cin&gt;&gt;n&gt;&gt;s;<br>    map&lt;<span class="hljs-keyword">int</span>,node&gt;mymap;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        cin&gt;&gt;a[i].now&gt;&gt;a[i].key&gt;&gt;a[i].next;<br>        mymap[a[i].now]=a[i];<br>    &#125;<br>    <span class="hljs-keyword">if</span>(s==<span class="hljs-number">-1</span>)&#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0 -1\n&quot;</span>);<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;&#125;<br>    <span class="hljs-keyword">int</span> t=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(s!=<span class="hljs-number">-1</span>)&#123;<br>        b[t].now=mymap[s].now;<br>        b[t].key=mymap[s].key;<br>        b[t].next=mymap[s].next;<br>        s=mymap[s].next;<br>        t++;<br>    &#125;<br>    <span class="hljs-built_in">sort</span>(b,b+t,cmp);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %05d\n&quot;</span>,t, b[<span class="hljs-number">0</span>].now);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;t<span class="hljs-number">-1</span>;i++)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d %05d\n&quot;</span>, b[i].now,b[i].key,b[i+<span class="hljs-number">1</span>].now);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d -1\n&quot;</span>, b[t<span class="hljs-number">-1</span>].now,b[t<span class="hljs-number">-1</span>].key);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1051. Pop Sequence (25) -PATç”²çº§</title>
    <link href="/2018/02/06/2018-02-06-PAT-1051/"/>
    <url>/2018/02/06/2018-02-06-PAT-1051/</url>
    
    <content type="html"><![CDATA[<p>Given a stack which can keep M numbers at most. Push N numbers in the order of 1, 2, 3, â€¦, N and pop randomly. You are supposed to tell if a given sequence of numbers is a possible pop sequence of the stack. For example, if M is 5 and N is 7, we can obtain 1, 2, 3, 4, 5, 6, 7 from the stack, but not 3, 2, 1, 7, 5, 6, 4.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains 3 numbers (all no more than 1000): M (the maximum capacity of the stack), N (the length of push sequence), and K (the number of pop sequences to be checked). Then K lines follow, each contains a pop sequence of N numbers. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each pop sequence, print in one line â€œYESâ€ if it is indeed a possible pop sequence of the stack, or â€œNOâ€ if not.</p><p><strong>Sample Input:</strong><br>5 7 5<br>1 2 3 4 5 6 7<br>3 2 1 7 5 6 4<br>7 6 5 4 3 2 1<br>5 6 4 3 7 2 1<br>1 7 6 5 4 3 2<br><strong>Sample Output:</strong><br>YES<br>NO<br>NO<br>YES<br>NO  </p><p>é¢˜ç›®å¤§æ„ï¼šç»™nä¸ªæ•°ï¼š1ï¼Œ2â€¦n,æ ˆçš„å®¹é‡ï¼Œé—®æ˜¯å¦æ˜¯åˆæ³•çš„å‡ºæ ˆåºåˆ—ã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œæ¨¡æ‹Ÿå‡ºæ ˆï¼Œæ³¨æ„åˆ¤æ–­æ ˆæ»¡ï¼Œæ ˆé¦–å’Œå¯¹åº”ä½ç½®æ•°ç›¸ç­‰æ—¶å¼¹å‡ºã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> maxn,len,k;<br>    cin&gt;&gt;maxn&gt;&gt;len&gt;&gt;k;<br>    <span class="hljs-keyword">while</span>(k--)&#123;<br>        <span class="hljs-keyword">int</span> a[len+<span class="hljs-number">1</span>],j=<span class="hljs-number">1</span>;<br>        stack&lt;<span class="hljs-keyword">int</span>&gt;s;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=len;i++)<br>            cin&gt;&gt;a[i];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=len;i++)&#123;<br>            s.<span class="hljs-built_in">push</span>(i);<br>            <span class="hljs-keyword">if</span>(s.<span class="hljs-built_in">size</span>()&gt;maxn)<span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">while</span>(!s.<span class="hljs-built_in">empty</span>()&amp;&amp;s.<span class="hljs-built_in">top</span>()==a[j])&#123;<br>                s.<span class="hljs-built_in">pop</span>();<br>                j++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(j==len+<span class="hljs-number">1</span>)cout&lt;&lt;<span class="hljs-string">&quot;YES&quot;</span>&lt;&lt;endl;<br>        <span class="hljs-keyword">else</span> cout&lt;&lt;<span class="hljs-string">&quot;NO&quot;</span>&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1050. String Subtraction (20) -PATç”²çº§</title>
    <link href="/2018/02/06/2018-02-06-PAT-1050/"/>
    <url>/2018/02/06/2018-02-06-PAT-1050/</url>
    
    <content type="html"><![CDATA[<p>Given two strings S1 and S2, S = S1 - S2 is defined to be the remaining string after taking all the characters in S2 from S1. Your task is simply to calculate S1 - S2 for any given strings. However, it might not be that simple to do it fast.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case consists of two lines which gives S1 and S2, respectively. The string lengths of both strings are no more than 104. It is guaranteed that all the characters are visible ASCII codes and white space, and a new line character signals the end of a string.</p><p><strong>Output Specification:</strong></p><p>For each test case, print S1 - S2 in one line.</p><p><strong>Sample Input:</strong><br>They are students.<br>aeiou<br><strong>Sample Output:</strong><br>Thy r stdnts.  </p><p>é¢˜ç›®å¤§æ„ï¼šå­—ç¬¦ä¸²a-bã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    string s1,s2;<br>    <span class="hljs-built_in">getline</span>(cin,s1);<br>    <span class="hljs-built_in">getline</span>(cin,s2);<br>    <span class="hljs-keyword">int</span> flag[<span class="hljs-number">150</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;s2.<span class="hljs-built_in">length</span>();i++)<br>        flag[s2[i]]=<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;s1.<span class="hljs-built_in">length</span>();i++)&#123;<br>        <span class="hljs-keyword">if</span>(flag[s1[i]])<span class="hljs-keyword">continue</span>;<br>        cout&lt;&lt;s1[i];<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1049. Counting Ones (30) -PATç”²çº§</title>
    <link href="/2018/02/06/2018-02-06-PAT-1049/"/>
    <url>/2018/02/06/2018-02-06-PAT-1049/</url>
    
    <content type="html"><![CDATA[<p>The task is simple: given any positive integer N, you are supposed to count the total number of 1â€™s in the decimal form of the integers from 1 to N. For example, given N being 12, there are five 1â€™s in 1, 10, 11, and 12.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case which gives the positive N (&lt;=230).</p><p><strong>Output Specification:</strong></p><p>For each test case, print the number of 1â€™s in one line.</p><p><strong>Sample Input:</strong><br>12<br><strong>Sample Output:</strong><br>5  </p><p>é¢˜ç›®å¤§æ„ï¼šæ±‚1~nä¸€å…±å«æœ‰å¤šå°‘ä¸ª1ã€‚<br>åˆ†æï¼šæ•°å­¦é¢˜ï¼Œç”±ä½åˆ°é«˜ä½æš´åŠ›å³å¯ï¼Œè®¾nowä¸ºå½“å‰ä½çš„æ•°ï¼Œl,rä¸ºå·¦å³æ•°ï¼Œåˆ†ç±»è®¨è®ºï¼Œç´¯åŠ ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n,l=<span class="hljs-number">0</span>,r=<span class="hljs-number">0</span>,a=<span class="hljs-number">1</span>,now=<span class="hljs-number">1</span>,ans=<span class="hljs-number">0</span>;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">while</span>(n/a)&#123;<br>        l=n/(a*<span class="hljs-number">10</span>),now=n/a%<span class="hljs-number">10</span>,r=n%a;<br>        <span class="hljs-keyword">if</span>(now==<span class="hljs-number">0</span>)ans+=l*a;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(now==<span class="hljs-number">1</span>)ans+=l*a+r+<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> ans+=(l+<span class="hljs-number">1</span>)*a;<br>        a*=<span class="hljs-number">10</span>;<br>    &#125;<br>    cout&lt;&lt;ans;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Tomcatå®‰è£…åŠEclipseé…ç½®</title>
    <link href="/2018/02/04/2018-02-04-config/"/>
    <url>/2018/02/04/2018-02-04-config/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç”±äºä¹‹å‰æ‰‹è´±åˆ æ‰äº†ç”µè„‘é‡Œä¸Eclipseç¯å¢ƒå˜é‡æœ‰å…³çš„ä¸œè¥¿ï¼Œå¯¼è‡´å…¶ä¸èƒ½ä½¿ç”¨ï¼Œç´¢æ€§å¸æ‰ä¸‹äº†Eclipse JEEç”¨æ¥å­¦ä¹ Java Webç›¸å…³çŸ¥è¯†ï¼Œä»Šæ—©åˆæ‰“ç®—å®‰è£…Tomcatå¤§å¹²ä¸€åœºï¼Œç»“æœåœ¨è¿™ååå¤å¤çš„å®‰è£…é…ç½®ç¯å¢ƒå˜é‡ä¸Šå¡äº†ä¸€ä¸ªæ—©ä¸Šï¼Œå› ä¸ºè‡ªå·±çš„ä¸€äº›è„‘æ®‹è¡Œä¸ºé‡åˆ°å„ç§å„æ ·å¥‡è‘©çš„æŠ¥é”™ï¼Œç°å°†æœ¬æ¬¡ç»å†è®°å½•äºæ­¤ï¼Œç³»ç»Ÿæ•´ç†ä¸€ä¸‹æ•´ä¸ªæ­£è§„çš„é…ç½®é—®é¢˜ä»¥åŠé‡åˆ°çš„æŠ¥é”™é‡‡å–çš„è§£å†³æ–¹æ¡ˆï¼Œæ–‡ä¸­å¤šå¤„å†…å®¹ä»å¤§ä½¬é‚£è¿ç§»è¿‡æ¥~</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>æ•´ä¸ªæµç¨‹åº”å¤§è‡´åˆ†ä¸ºä¸‰æ­¥  </p><ul><li>JDKå®‰è£…å’Œé…ç½®  </li><li>Tomcatå®‰è£…å’Œé…ç½®  </li><li>Elipseå®‰è£…å’Œé…ç½®  </li></ul><p>ps:ä¸‰æ— çš„æƒ…å†µä¸‹æ‰æŒ‰æ­¤é¡ºåºæ“ä½œï¼Œå¦‚æœå·²æœ‰å…¶ä¸€æˆ–äºŒåˆ™è·³è¿‡å¯¹åº”æ“ä½œã€‚</p><p><strong>JDKå®‰è£…ä¸é…ç½®</strong> å…·ä½“æµç¨‹å‚ç…§ <a href="https://jingyan.baidu.com/article/bea41d435bc695b4c41be648.html">https://jingyan.baidu.com/article/bea41d435bc695b4c41be648.html</a>  </p><ol><li>åœ¨å®˜ç½‘ä¸Šä¸‹è½½JDKå¹¶å®‰è£…  </li><li>é…ç½®ä¸‰ä¸ªç¯å¢ƒå˜é‡java_homeï¼Œpathå’Œclasspathï¼ˆéƒ½å†™åœ¨ç³»ç»Ÿå˜é‡é‡Œï¼Œæ— åˆ™æ–°å»ºï¼Œæœ‰åˆ™åŠ åˆ†å·ï¼‰<br><img src="/img/config1.jpg" alt="img">  </li><li>JDKé…ç½®å®Œæˆåï¼Œå¯åœ¨cmdä¸­è¾“å…¥java -versionæŸ¥çœ‹javaç‰ˆæœ¬æ£€éªŒæ˜¯å¦æˆåŠŸ  </li></ol><p><strong>Tomcatå®‰è£…ä¸é…ç½®</strong>  </p><ol><li><p>åœ¨å®˜ç½‘ä¸Šä¸‹è½½Tomcatå¹¶å®‰è£… <a href="http://tomcat.apache.org/download-80.cgi#8.5.5">http://tomcat.apache.org/download-80.cgi#8.5.5</a><br><img src="/img/config2.jpg" alt="img">  </p></li><li><p>é…ç½®å››ä¸ªç¯å¢ƒå˜é‡CATALINA_HOMEã€CATALINA_BASEã€CATALINA_TMPDIRã€pathã€‚<br><img src="/img/config3.jpg" alt="img">  </p></li><li><p>Tomcaté…ç½®å®Œæˆåï¼Œåœ¨cmdä¸­è¾“å…¥startup.batï¼Œä¹‹åä¼šå¼¹å‡ºtomcatå‘½ä»¤æ¡†ï¼Œè¾“å‡ºå¯åŠ¨æ—¥å¿—ã€‚ä¹Ÿå¯ä»¥æ‰¾åˆ°è¯¥æ–‡ä»¶æ‰‹åŠ¨è¿è¡Œã€‚  </p></li><li><p>æ‰“å¼€æµè§ˆå™¨è¾“å…¥<a href="http://localhost:8080/%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%BF%9B%E5%85%A5tomcat%E6%AC%A2%E8%BF%8E%E7%95%8C%E9%9D%A2%EF%BC%8C%E9%82%A3%E4%B9%88%E6%81%AD%E5%96%9C%E4%BD%A0%EF%BC%8C%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F%E3%80%82">http://localhost:8080/ï¼Œå¦‚æœè¿›å…¥tomcatæ¬¢è¿ç•Œé¢ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œé…ç½®æˆåŠŸã€‚</a><br><img src="/img/config4.jpg" alt="img"><br>ps:æ³¨æ„å›¾ä¸­åœˆåœˆï¼Œåœ¨xmlä¸­åˆ›å»ºç”¨æˆ·åå’Œå¯†ç ã€‚  </p></li></ol><p><strong>Eclipse JEEå®‰è£…ä¸é…ç½®</strong>  </p><ol><li><p>åœ¨å®˜ç½‘ä¸Šä¸‹è½½Eclipse JEEå¹¶å®‰è£… <a href="http://www.eclipse.org/downloads/eclipse-packages/">http://www.eclipse.org/downloads/eclipse-packages/</a><br>å¦‚æœå·²æœ‰Eclipseï¼Œå¯â€å‡çº§â€ä¸ºJEEï¼šæ‰“å¼€Eclipseï¼Œä¾æ¬¡é€‰æ‹©Help -&gt; Install New SoftWareï¼Œåœ¨å¼¹å‡ºçš„çª—å£çš„ work with ä¸­è¾“å…¥ <a href="http://download.eclipse.org/releases/neon">http://download.eclipse.org/releases/neon</a>  (neonæ˜¯Eclipseç‰ˆæœ¬å)ï¼Œå›è½¦ç­‰å¾…ä¸€ä¼šï¼Œå°±å¯ä»¥çœ‹åˆ°å¾ˆå¤šæ’ä»¶ï¼Œæ‹‰åˆ°æœ€ä¸‹é¢æ‰“å¼€  Web, XML, Java EE and OSGi Enterprise Development ï¼Œå‹¾é€‰ä¸‹é¢æ‰€ç¤ºå››ä¸ªæ’ä»¶ï¼Œå†ç‚¹å‡»ä¸‹æ–¹çš„Next ç­‰å¾…å®‰è£…é‡å¯å°±å¯ä»¥äº†ã€‚å…¶å®ƒæ’ä»¶å®‰è£…ç±»ä¼¼ï¼Œåªè¦å‹¾é€‰ä¸åŒæ’ä»¶å³å¯ã€‚<br><img src="/img/config5.jpg" alt="img">  </p></li><li><p>å‰é¢æ˜¯JDKå’ŒTomcatçš„é…ç½®ï¼Œç°åœ¨è¦ç”¨EclipseæŠŠå®ƒä»¬è¿èµ·æ¥ï¼ï¼ï¼<br>è¿JDKè§ <a href="http://blog.csdn.net/clj198606061111/article/details/11881575">http://blog.csdn.net/clj198606061111/article/details/11881575</a><br>è¿Tomcat&amp;é¡¹ç›®éƒ¨ç½²è§ <a href="http://blog.csdn.net/yerenyuan_pku/article/details/51830104">http://blog.csdn.net/yerenyuan_pku/article/details/51830104</a><br>~~  å†…å®¹è¾ƒå¤šç›´æ¥ä¸Šé“¾æ¥â€¦ä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°æ“ä½œå®Œæˆï¼</p></li></ol><h2 id="ä¸€äº›é‡åˆ°çš„é—®é¢˜"><a href="#ä¸€äº›é‡åˆ°çš„é—®é¢˜" class="headerlink" title="ä¸€äº›é‡åˆ°çš„é—®é¢˜"></a>ä¸€äº›é‡åˆ°çš„é—®é¢˜</h2><p>å¦‚æœæœ‰ä¸è§„èŒƒçš„æ“ä½œï¼Œå°†ä¼šå¯¼è‡´ç”Ÿæˆä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼Œæ‰€ä»¥ä¸è¦ç›²ç›®ä¹±ç‚¹ï¼Œå…ˆä¸ä¸Šè¿°æ­¥éª¤æ¯”è¾ƒæœ‰æ²¡æœ‰ä¸ä¸€æ ·æˆ–æœªå®Œæˆçš„åœ°æ–¹ã€‚</p><ol><li><p>Tomcatå¯åŠ¨startup.batæ—¶é—ªé€€åŸå› åŠè§£å†³æ–¹æ¡ˆï¼š <a href="http://blog.csdn.net/qq496013218/article/details/74517593">http://blog.csdn.net/qq496013218/article/details/74517593</a><br>å…·ä½“åŸå› ï¼štomcatåœ¨å¯åŠ¨æ—¶ï¼Œéœ€è¦è¯»å–ç¯å¢ƒå˜é‡å’Œé…ç½®ä¿¡æ¯ï¼Œå¦‚æœç¼ºå°‘Javaç¯å¢ƒï¼Œå³ç¼ºå°‘JAVA_HOMEç¯å¢ƒå˜é‡ï¼Œåˆ™ä¼šå‡ºç°é—ªé€€ç°è±¡ã€‚  </p></li><li><p>è¿è¡Œcmdæ—¶æŠ¥é”™ï¼šError: could not find java.dll  Error:could not find java SE Runtime Environment/<br>è§£å†³æ–¹æ¡ˆï¼š<a href="http://blog.csdn.net/hyr83960944/article/details/37592041">http://blog.csdn.net/hyr83960944/article/details/37592041</a>    </p></li><li><p>è¿è¡ŒJSPæŠ¥é”™ï¼šThe superclass â€œjavax.servlet.http.HttpServletâ€ was not found on the Java Build Path<br>è§£å†³æ–¹æ¡ˆï¼š<a href="http://blog.csdn.net/testcs_dn/article/details/36455669">http://blog.csdn.net/testcs_dn/article/details/36455669</a>   </p></li><li><p>è¿è¡ŒJSPæŠ¥é”™ï¼šSeveral ports (8005, 8080, 8009) required by Tomcat v6.0 Server at localhost are already in use.<br>è§£å†³æ–¹æ¡ˆï¼š<a href="http://blog.csdn.net/zhouyingge1104/article/details/7243363">http://blog.csdn.net/zhouyingge1104/article/details/7243363</a>   </p></li><li><p>è¡¥ï¼šä»Šå¤©æ‰“å¼€eclipseè«ååˆå¼¹äº†é”™ï¼Œé—®é¢˜å‡ºåœ¨äº†eclipseå’Œjdkçš„è¿æ¥ä¸Šï¼Œè«åå¤±æ•ˆäº†ã€‚<br>æ‰“å¼€eclispeæŠ¥é”™ï¼šjava was started but returned exit code=2â€¦â€¦.<br>è§£å†³æ–¹æ¡ˆï¼š<a href="https://jingyan.baidu.com/article/9989c746255627f648ecfe83.html">https://jingyan.baidu.com/article/9989c746255627f648ecfe83.html</a></p></li></ol><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>åº”ä¸¥æ ¼æŒ‰ç…§æ­¥éª¤æ“ä½œï¼Œä¸è¦è®¤ä¸ºèƒ½æ­£å¸¸è¿è¡Œä¹‹å‰çš„æ­¥éª¤å°±éƒ½æ˜¯å¯¹çš„äº†ï¼Œæ¯”å¦‚tomcatè¿è¡Œæ˜¯éœ€è¦JAVA_HOMEå˜é‡çš„ï¼Œjavaæ˜¯ä¸éœ€è¦é…ç½®JAVA_HOMEçš„ï¼Œæ‰€ä»¥ä¹‹å‰æˆ‘å³ä½¿åœ¨JAVA_HOMEå¤„å‡ºäº†é—®é¢˜ï¼Œä½†æ˜¯Eclipseä»æ—§èƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘è¿è¡Œç¨‹åºã€‚è¯¦è§ï¼š<a href="http://bbs.csdn.net/topics/390696441">http://bbs.csdn.net/topics/390696441</a>   </p><p><strong>ç»“ï¼š</strong> æœ¬äººèœé¸¡ï¼Œå¦‚æœ‰é”™è¯¯ä¹‹å¤„æœ›å¤§ä½¬æŒ‡å‡ºå¤šå¤šåŒ…æ¶µ QAQ</p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1048. Find Coins (25) -PATç”²çº§</title>
    <link href="/2018/02/03/2018-02-03-PAT-1048/"/>
    <url>/2018/02/03/2018-02-03-PAT-1048/</url>
    
    <content type="html"><![CDATA[<p>Eva loves to collect coins from all over the universe, including some other planets like Mars. One day she visited a universal shopping mall which could accept all kinds of coins as payments. However, there was a special requirement of the payment: for each bill, she could only use exactly two coins to pay the exact amount. Since she has as many as 105 coins with her, she definitely needs your help. You are supposed to tell her, for any given amount of money, whether or not she can find two coins to pay for it.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains 2 positive numbers: N (&lt;=105, the total number of coins) and M(&lt;=103, the amount of money Eva has to pay). The second line contains N face values of the coins, which are all positive numbers no more than 500. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, print in one line the two face values V1 and V2 (separated by a space) such that V1 + V2 = M and V1 &lt;= V2. If such a solution is not unique, output the one with the smallest V1. If there is no solution, output â€œNo Solutionâ€ instead.</p><p><strong>Sample Input 1:</strong><br>8 15<br>1 2 8 7 2 4 11 15<br><strong>Sample Output 1:</strong><br>4 11<br><strong>Sample Input 2:</strong><br>7 14<br>1 8 7 2 4 11 15<br><strong>Sample Output 2:</strong><br>No Solution  </p><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šnä¸ªæ•°æ‰¾å‡ºä¸€ç»„iï¼Œjèƒ½ç»„æˆmçš„ï¼Œå¦‚æœæœ‰å¤šç»„ï¼Œè¾“å‡ºiæœ€å°çš„ï¼Œæ‰¾ä¸åˆ°è¾“å‡ºâ€No Solutionâ€ã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œç”¨numå­˜æ•°çš„ä¸ªæ•°ï¼Œæ³¨æ„i=j=m/2çš„æƒ…å†µå³å¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,m,tmp;<br>    <span class="hljs-keyword">int</span> num[<span class="hljs-number">1005</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>,&amp;n,&amp;m);<br>    <span class="hljs-keyword">while</span>(n--)&#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;tmp);<br>        num[tmp]++;<br>    &#125;<br>    <span class="hljs-keyword">int</span> flag=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;=m;i++)&#123;<br>        <span class="hljs-keyword">if</span>(i*<span class="hljs-number">2</span>==m&amp;&amp;num[i]==<span class="hljs-number">1</span>)<span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">if</span>(num[i]&amp;&amp;num[m-i])&#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>,i,m-i);<br>            flag=<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(!flag)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No Solution&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1047. Student List for Course (25) -PATç”²çº§</title>
    <link href="/2018/02/03/2018-02-03-PAT-1047/"/>
    <url>/2018/02/03/2018-02-03-PAT-1047/</url>
    
    <content type="html"><![CDATA[<p>Zhejiang University has 40000 students and provides 2500 courses. Now given the registered course list of each student, you are supposed to output the student name lists of all the courses.</p><p>Input Specification:</p><p>Each input file contains one test case. For each case, the first line contains 2 numbers: N (&lt;=40000), the total number of students, and K (&lt;=2500), the total number of courses. Then N lines follow, each contains a studentâ€™s name (3 capital English letters plus a one-digit number), a positive number C (&lt;=20) which is the number of courses that this student has registered, and then followed by C course numbers. For the sake of simplicity, the courses are numbered from 1 to K.</p><p>Output Specification:</p><p>For each test case, print the student name lists of all the courses in increasing order of the course numbers. For each course, first print in one line the course number and the number of registered students, separated by a space. Then output the studentsâ€™ names in alphabetical order. Each name occupies a line.</p><p><strong>Sample Input:</strong><br>10 5<br>ZOE1 2 4 5<br>ANN0 3 5 2 1<br>BOB5 5 3 4 2 1 5<br>JOE4 1 2<br>JAY9 4 1 2 5 4<br>FRA8 3 4 2 5<br>DON2 2 4 5<br>AMY7 1 5<br>KAT3 3 5 4 2<br>LOR6 4 2 4 1 5<br><strong>Sample Output:</strong><br>1 4<br>ANN0<br>BOB5<br>JAY9<br>LOR6<br>2 7<br>ANN0<br>BOB5<br>FRA8<br>JAY9<br>JOE4<br>KAT3<br>LOR6<br>3 1<br>BOB5<br>4 7<br>BOB5<br>DON2<br>FRA8<br>JAY9<br>KAT3<br>LOR6<br>ZOE1<br>5 9<br>AMY7<br>ANN0<br>BOB5<br>DON2<br>FRA8<br>JAY9<br>KAT3<br>LOR6<br>ZOE1  </p><p>é¢˜ç›®å¤§æ„ï¼šç»™å‡ºå­¦ç”Ÿé€‰çš„è¯¾ï¼Œè¾“å‡ºæ¯é—¨è¯¾çš„å­¦ç”Ÿï¼ŒæŒ‰å­—å…¸åºã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œvectoræ•°ç»„+cmpã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">char</span> name[<span class="hljs-number">40005</span>][<span class="hljs-number">5</span>];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a,<span class="hljs-keyword">int</span> b)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">strcmp</span>(name[a],name[b])&lt;<span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,m,k,temp;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>,&amp;n,&amp;m);<br>    vector&lt;<span class="hljs-keyword">int</span>&gt;v[<span class="hljs-number">2505</span>];   <span class="hljs-comment">// course</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>         <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s %d&quot;</span>,name[i],&amp;k);<br>        <span class="hljs-keyword">while</span>(k--)&#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;temp);<br>            v[temp].<span class="hljs-built_in">push_back</span>(i);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++)&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span>,i,v[i].<span class="hljs-built_in">size</span>());<br>        <span class="hljs-built_in">sort</span>(v[i].<span class="hljs-built_in">begin</span>(),v[i].<span class="hljs-built_in">end</span>(),cmp);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;v[i].<span class="hljs-built_in">size</span>();j++)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>,name[v[i][j]]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1046. Shortest Distance (20) -PATç”²çº§</title>
    <link href="/2018/02/03/2018-02-03-PAT-1046/"/>
    <url>/2018/02/03/2018-02-03-PAT-1046/</url>
    
    <content type="html"><![CDATA[<p>The task is really simple: given N exits on a highway which forms a simple cycle, you are supposed to tell the shortest distance between any pair of exits.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains an integer N (in [3, 105]), followed by N integer distances D1 D2 â€¦ DN, where Di is the distance between the i-th and the (i+1)-st exits, and DN is between the N-th and the 1st exits. All the numbers in a line are separated by a space. The second line gives a positive integer M (&lt;=104), with M lines follow, each contains a pair of exit numbers, provided that the exits are numbered from 1 to N. It is guaranteed that the total round trip distance is no more than 107.</p><p><strong>Output Specification:</strong></p><p>For each test case, print your results in M lines, each contains the shortest distance between the corresponding given pair of exits.</p><p><strong>Sample Input:</strong><br>5 1 2 4 14 9<br>3<br>1 3<br>2 5<br>4 1<br><strong>Sample Output:</strong><br>3<br>10<br>7  </p><p>é¢˜ç›®å¤§æ„ï¼šæ±‚ä¸€ä¸ªç¯å†…a-&gt;bæœ€çŸ­è·ç¦»ã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œæ¯”è¾ƒa-&gt;bå’Œb-&gt;aå³å¯ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,m,a,b,w;<br>    <span class="hljs-keyword">int</span> sum[<span class="hljs-number">100005</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)&#123;<br>        cin&gt;&gt;w;<br>        sum[i+<span class="hljs-number">1</span>]=sum[i]+w;<br>    &#125;<br>    cin&gt;&gt;m;<br>    <span class="hljs-keyword">while</span>(m--)&#123;<br>        cin&gt;&gt;a&gt;&gt;b;<br>        <span class="hljs-keyword">if</span>(a&gt;b)<span class="hljs-built_in">swap</span>(a,b);<br>        <span class="hljs-keyword">int</span> k=sum[b]-sum[a];<br>        <span class="hljs-keyword">int</span> kk=sum[n+<span class="hljs-number">1</span>]-k;<br>        cout&lt;&lt;<span class="hljs-built_in">min</span>(k,kk)&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1045. Favorite Color Stripe (30) -PATç”²çº§</title>
    <link href="/2018/02/02/2018-02-02-PAT-1045/"/>
    <url>/2018/02/02/2018-02-02-PAT-1045/</url>
    
    <content type="html"><![CDATA[<p>Eva is trying to make her own color stripe out of a given one. She would like to keep only her favorite colors in her favorite order by cutting off those unwanted pieces and sewing the remaining parts together to form her favorite color stripe.</p><p>It is said that a normal human eye can distinguish about less than 200 different colors, so Evaâ€™s favorite colors are limited. However the original stripe could be very long, and Eva would like to have the remaining favorite stripe with the maximum length. So she needs your help to find her the best result.</p><p>Note that the solution might not be unique, but you only have to tell her the maximum length. For example, given a stripe of colors {2 2 4 1 5 5 6 3 1 1 5 6}. If Evaâ€™s favorite colors are given in her favorite order as {2 3 1 5 6}, then she has 4 possible best solutions {2 2 1 1 1 5 6}, {2 2 1 5 5 5 6}, {2 2 1 5 5 6 6}, and {2 2 3 1 1 5 6}.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains a positive integer N (&lt;=200) which is the total number of colors involved (and hence the colors are numbered from 1 to N). Then the next line starts with a positive integer M (&lt;=200) followed by M Evaâ€™s favorite color numbers given in her favorite order. Finally the third line starts with a positive integer L (&lt;=10000) which is the length of the given stripe, followed by L colors on the stripe. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, simply print in a line the maximum length of Evaâ€™s favorite stripe.</p><p><strong>Sample Input:</strong><br>6<br>5 2 3 1 5 6<br>12 2 2 4 1 5 5 6 3 1 1 5 6<br><strong>Sample Output:</strong><br>7  </p><p>é¢˜ç›®å¤§æ„ï¼šå…±né¢—ç å­ï¼Œç»™å®šmé¢—å–œæ¬¢çš„ä»¥åŠåºåˆ—ï¼Œç»™å®šé•¿åº¦ä¸ºlçš„ç ä¸²ï¼Œåœ¨å½“ä¸­æ‰¾å‡ºåªå«æœ‰å–œæ¬¢ç å­çš„æ»¡è¶³å…ˆåé¡ºåºçš„æœ€é•¿ç ä¸²ã€‚<br>åˆ†æï¼šæ ‡è®°å–œæ¬¢çš„ç å­çš„ä¸‹æ ‡ï¼Œå³e[2]=1,e[3]=2â€¦åœ¨ç ä¸²ä¸­åˆ å»ä¸å–œæ¬¢çš„ç å­ï¼Œå°†å‰©ä¸‹ä»¥ä¸‹æ ‡å­˜å…¥æ–°æ•°ç»„ï¼Œè¿™æ—¶é—®é¢˜å°±è½¬åŒ–ä¸ºæ±‚æœ€é•¿ä¸ä¸‹é™å­åºåˆ—ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,m,x;<br>    <span class="hljs-keyword">int</span> e[<span class="hljs-number">205</span>]=&#123;<span class="hljs-number">0</span>&#125;,a[<span class="hljs-number">10005</span>],dp[<span class="hljs-number">10005</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>    cin&gt;&gt;n&gt;&gt;m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++)&#123;<br>        cin&gt;&gt;x;<br>        e[x]=i;<br>    &#125;<br>    cin&gt;&gt;m;<br>    <span class="hljs-keyword">int</span> t=<span class="hljs-number">0</span>,res=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;m;i++)&#123;<br>        cin&gt;&gt;x;<br>        <span class="hljs-keyword">if</span>(!e[x])<span class="hljs-keyword">continue</span>;<br>        a[t++]=e[x];<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;t;i++)&#123;<br>        dp[i]=<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;i;j++)<br>            <span class="hljs-keyword">if</span>(a[j]&lt;=a[i])dp[i]=<span class="hljs-built_in">max</span>(dp[i],dp[j]+<span class="hljs-number">1</span>);<br>        res=<span class="hljs-built_in">max</span>(res,dp[i]);<br>    &#125;<br>    cout&lt;&lt;res;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1044. Shopping in Mars (25) -PATç”²çº§</title>
    <link href="/2018/02/02/2018-02-02-PAT-1044/"/>
    <url>/2018/02/02/2018-02-02-PAT-1044/</url>
    
    <content type="html"><![CDATA[<p>Shopping in Mars is quite a different experience. The Mars people pay by chained diamonds. Each diamond has a value (in Mars dollars M$). When making the payment, the chain can be cut at any position for only once and some of the diamonds are taken off the chain one by one. Once a diamond is off the chain, it cannot be taken back. For example, if we have a chain of 8 diamonds with values M$3, 2, 1, 5, 4, 6, 8, 7, and we must pay M$15. We may have 3 options:</p><ol><li>Cut the chain between 4 and 6, and take off the diamonds from the position 1 to 5 (with values 3+2+1+5+4=15).   </li><li>Cut before 5 or after 6, and take off the diamonds from the position 4 to 6 (with values 5+4+6=15).  </li><li>Cut before 8, and take off the diamonds from the position 7 to 8 (with values 8+7=15).<br>Now given the chain of diamond values and the amount that a customer has to pay, you are supposed to list all the paying options for the customer.</li></ol><p>If it is impossible to pay the exact amount, you must suggest solutions with minimum lost.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains 2 numbers: N (&lt;=105), the total number of diamonds on the chain, and M (&lt;=108), the amount that the customer has to pay. Then the next line contains N positive numbers D1 â€¦ DN (Di&lt;=103 for all i=1, â€¦, N) which are the values of the diamonds. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, print â€œi-jâ€ in a line for each pair of i &lt;= j such that Di + â€¦ + Dj = M. Note that if there are more than one solution, all the solutions must be printed in increasing order of i.</p><p>If there is no solution, output â€œi-jâ€ for pairs of i &lt;= j such that Di + â€¦ + Dj &gt; M with (Di + â€¦ + Dj - M) minimized. Again all the solutions must be printed in increasing order of i.</p><p>It is guaranteed that the total value of diamonds is sufficient to pay the given amount.</p><p><strong>Sample Input 1:</strong><br>16 15<br>3 2 1 5 4 6 8 7 16 10 15 11 9 12 14 13<br><strong>Sample Output 1:</strong><br>1-5<br>4-6<br>7-8<br>11-11<br><strong>Sample Input 2:</strong><br>5 13<br>2 4 5 7 9<br><strong>Sample Output 2:</strong><br>2-4<br>4-5  </p><p>é¢˜ç›®å¤§æ„ï¼šåœ¨nä¸ªæ•°çš„åºåˆ—ä¸­æ‰¾å‡ºå’Œä¸ºmçš„æ‰€æœ‰è¿ç»­ç‰‡æ®µï¼Œè‹¥æ²¡æœ‰åˆ™è¾“å‡ºèƒ½ç»„æˆçš„å¤§äºmçš„æœ€å°æ•°ã€‚<br>åˆ†æï¼šç”¨sumæ•°ç»„å»è®°å½•å‰iä¸ªæ•°çš„å’Œï¼Œè€ƒè™‘ä¼šè¶…æ—¶ç”¨äºŒåˆ†æŸ¥æ‰¾å»è·å¾—i-&gt;jå’Œä¸ºmçš„ç‰‡æ®µã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">int</span> n,m,j,tmp;<br><span class="hljs-keyword">int</span> sum[<span class="hljs-number">100005</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Try</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span></span>&#123;     <span class="hljs-comment">// æ‰¾å‡º(i,mid)&gt;=mçš„æœ€å°mid</span><br>    <span class="hljs-keyword">int</span> l=i,r=n;<br>    <span class="hljs-keyword">while</span>(l&lt;r)&#123;<br>        <span class="hljs-keyword">int</span> mid=(l+r)/<span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span>(sum[mid]-sum[i<span class="hljs-number">-1</span>]&gt;=m)<br>            r=mid;<br>        <span class="hljs-keyword">else</span> l=mid+<span class="hljs-number">1</span>;<br>    &#125;<br>    j=r,tmp=sum[j]-sum[i<span class="hljs-number">-1</span>];<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> a[<span class="hljs-number">100005</span>];<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)&#123;<br>        cin&gt;&gt;a[i];<br>        sum[i]=sum[i<span class="hljs-number">-1</span>]+a[i];<br>    &#125;<br>    <span class="hljs-keyword">int</span> min=sum[n];<br>    vector&lt;<span class="hljs-keyword">int</span>&gt;result;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)&#123;<br>        <span class="hljs-built_in">Try</span>(i);<br>        <span class="hljs-keyword">if</span>(tmp&gt;min)<span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">if</span>(tmp&gt;=m)&#123;           <span class="hljs-comment">// minä¸ºå¤§äºmçš„æœ€å°å’Œ</span><br>            <span class="hljs-keyword">if</span>(tmp&lt;min)&#123;<br>                result.<span class="hljs-built_in">clear</span>();<br>                min=tmp;<br>            &#125;<br>            result.<span class="hljs-built_in">push_back</span>(i);<br>            result.<span class="hljs-built_in">push_back</span>(j);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;result.<span class="hljs-built_in">size</span>();i+=<span class="hljs-number">2</span>)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d-%d\n&quot;</span>, result[i], result[i+<span class="hljs-number">1</span>]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1043. Is It a Binary Search Tree (25) -PATç”²çº§</title>
    <link href="/2018/02/02/2018-02-02-PAT-1043/"/>
    <url>/2018/02/02/2018-02-02-PAT-1043/</url>
    
    <content type="html"><![CDATA[<p>A Binary Search Tree (BST) is recursively defined as a binary tree which has the following properties:</p><p>The left subtree of a node contains only nodes with keys less than the nodeâ€™s key.<br>The right subtree of a node contains only nodes with keys greater than or equal to the nodeâ€™s key.<br>Both the left and right subtrees must also be binary search trees.<br>If we swap the left and right subtrees of every node, then the resulting tree is called the Mirror Image of a BST.</p><p>Now given a sequence of integer keys, you are supposed to tell if it is the preorder traversal sequence of a BST or the mirror image of a BST.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains a positive integer N (&lt;=1000). Then N integer keys are given in the next line. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, first print in a line â€œYESâ€ if the sequence is the preorder traversal sequence of a BST or the mirror image of a BST, or â€œNOâ€ if not. Then if the answer is â€œYESâ€, print in the next line the postorder traversal sequence of that tree. All the numbers in a line must be separated by a space, and there must be no extra space at the end of the line.</p><p><strong>Sample Input 1:</strong><br>7<br>8 6 5 7 10 8 11<br><strong>Sample Output 1:</strong><br>YES<br>5 7 6 8 11 10 8<br><strong>Sample Input 2:</strong><br>7<br>8 10 11 8 6 7 5<br><strong>Sample Output 2:</strong><br>YES<br>11 8 10 7 5 6 8<br><strong>Sample Input 3:</strong><br>7<br>8 6 8 5 10 9 11<br><strong>Sample Output 3:</strong><br>NO  </p><p>é¢˜ç›®å¤§æ„ï¼šåˆ¤æ–­åºåˆ—æ˜¯å¦æ˜¯ä¸€é¢—äºŒå‰æœç´¢æ ‘æˆ–å…¶é•œåƒçš„å‰åºåºåˆ—ï¼Œå¦‚æœæ˜¯ï¼Œè¾“å‡ºå…¶ååºåºåˆ—ï¼Œå¦åˆ™è¾“å‡ºNOã€‚<br>åˆ†æï¼šå…ˆå‡è®¾æ˜¯ä¸€é¢—äºŒå‰æœç´¢æ ‘ï¼Œflag=0ï¼Œæ ¹æ®äºŒå‰æœç´¢æ ‘çš„æ€§è´¨å°†åŸåºåˆ—è½¬åŒ–ä¸ºååºåºåˆ—ï¼Œè‹¥é•¿åº¦ä¸ä¸ºnï¼Œè®¾flag=1ï¼Œæ¸…ç©ºæ•°ç»„å†è½¬åŒ–ä¸€æ¬¡ï¼Œä»æ—§ä¸ä¸ºnè¾“å‡ºNOã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>vector&lt;<span class="hljs-keyword">int</span>&gt;pre,post;<br><span class="hljs-keyword">bool</span> flag;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">trans</span><span class="hljs-params">(<span class="hljs-keyword">int</span> root,<span class="hljs-keyword">int</span> tail)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(root&gt;tail)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">int</span> i=root+<span class="hljs-number">1</span>,j=tail;<br>    <span class="hljs-keyword">if</span>(!flag)&#123;             <span class="hljs-comment">//BST</span><br>        <span class="hljs-keyword">while</span>(i&lt;=tail&amp;&amp;pre[root]&gt;pre[i])i++;<br>        <span class="hljs-keyword">while</span>(j&gt;root&amp;&amp;pre[root]&lt;=pre[j])j--;<br>    &#125;<span class="hljs-keyword">else</span>&#123;                    <span class="hljs-comment">//mirror image</span><br>        <span class="hljs-keyword">while</span>(i&lt;=tail&amp;&amp;pre[root]&lt;=pre[i])i++;<br>        <span class="hljs-keyword">while</span>(j&gt;root&amp;&amp;pre[root]&gt;pre[j])j--;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(i-j!=<span class="hljs-number">1</span>)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-built_in">trans</span>(root+<span class="hljs-number">1</span>,j);        <span class="hljs-comment">// leftã€€tree</span><br>    <span class="hljs-built_in">trans</span>(i,tail);          <span class="hljs-comment">// right tree</span><br>    post.<span class="hljs-built_in">push_back</span>(pre[root]);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    cin&gt;&gt;n;<br>    pre.<span class="hljs-built_in">resize</span>(n);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>        cin&gt;&gt;pre[i];<br>    <span class="hljs-built_in">trans</span>(<span class="hljs-number">0</span>,n<span class="hljs-number">-1</span>);<br>    <span class="hljs-keyword">if</span>(post.<span class="hljs-built_in">size</span>()!=n)&#123;<br>        flag=<span class="hljs-number">1</span>;<br>        post.<span class="hljs-built_in">clear</span>();<br>        <span class="hljs-built_in">trans</span>(<span class="hljs-number">0</span>,n<span class="hljs-number">-1</span>);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(post.<span class="hljs-built_in">size</span>()==n)&#123;<br>        cout&lt;&lt;<span class="hljs-string">&quot;YES&quot;</span>&lt;&lt;endl&lt;&lt;post[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;n;i++)<br>            cout&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>&lt;&lt;post[i];<br>    &#125;<br>    <span class="hljs-keyword">else</span> cout&lt;&lt;<span class="hljs-string">&quot;NO&quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javawebå­¦ä¹ 05-JSPæŠ€æœ¯</title>
    <link href="/2018/02/02/2018-02-02-javaweb5/"/>
    <url>/2018/02/02/2018-02-02-javaweb5/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>JSPå…¨ç§°æ˜¯Java Server Pagesï¼Œå®ƒå’ŒservleæŠ€æœ¯ä¸€æ ·ï¼Œéƒ½æ˜¯SUNå…¬å¸å®šä¹‰çš„ä¸€ç§ç”¨äºå¼€å‘åŠ¨æ€webèµ„æºçš„æŠ€æœ¯ã€‚  </p><p>JSPè¿™é—¨æŠ€æœ¯çš„æœ€å¤§çš„ç‰¹ç‚¹åœ¨äºï¼Œå†™jspå°±åƒåœ¨å†™htmlï¼Œä½†ï¼š<br>å®ƒç›¸æ¯”htmlè€Œè¨€ï¼Œhtmlåªèƒ½ä¸ºç”¨æˆ·æä¾›é™æ€æ•°æ®ï¼Œè€ŒJspæŠ€æœ¯å…è®¸åœ¨é¡µé¢ä¸­åµŒå¥—javaä»£ç ï¼Œä¸ºç”¨æˆ·æä¾›åŠ¨æ€æ•°æ®ã€‚<br>ç›¸æ¯”servletè€Œè¨€ï¼Œservletå¾ˆéš¾å¯¹æ•°æ®è¿›è¡Œæ’ç‰ˆï¼Œè€Œjspé™¤äº†å¯ä»¥ç”¨javaä»£ç äº§ç”ŸåŠ¨æ€æ•°æ®çš„åŒæ—¶ï¼Œä¹Ÿå¾ˆå®¹æ˜“å¯¹æ•°æ®è¿›è¡Œæ’ç‰ˆã€‚  </p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p><strong>JSPæ¨¡ç‰ˆå…ƒç´ </strong><br>JSPé¡µé¢ä¸­çš„HTMLå†…å®¹ç§°ä¹‹ä¸ºJSPæ¨¡ç‰ˆå…ƒç´ ã€‚<br>JSPæ¨¡ç‰ˆå…ƒç´ å®šä¹‰äº†ç½‘é¡µçš„åŸºæœ¬éª¨æ¶ï¼Œå³å®šä¹‰äº†é¡µé¢çš„ç»“æ„å’Œå¤–è§‚ã€‚  </p><p><strong>JSPè„šæœ¬è¡¨è¾¾å¼</strong><br>JSPè„šæœ¬è¡¨è¾¾å¼ï¼ˆexpressionï¼‰ç”¨äºå°†ç¨‹åºæ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯<br>    è¯­æ³•ï¼š&lt;%= å˜é‡æˆ–è¡¨è¾¾å¼ %&gt;<br>    ä¸¾ä¾‹ï¼šå½“å‰æ—¶é—´:&lt;%= new java.util.Date() %&gt;<br>JSPå¼•æ“åœ¨ç¿»è¯‘è„šæœ¬è¡¨è¾¾å¼æ—¶ï¼Œä¼šå°†ç¨‹åºæ•°æ®è½¬æˆå­—ç¬¦ä¸²ï¼Œç„¶ååœ¨ç›¸åº”ä½ç½®ç”¨out.print(â€¦) å°†æ•°æ®è¾“ç»™å®¢æˆ·ç«¯ã€‚<br>JSPè„šæœ¬è¡¨è¾¾å¼ä¸­çš„å˜é‡æˆ–è¡¨è¾¾å¼åé¢ä¸èƒ½æœ‰åˆ†å·ï¼ˆ;ï¼‰ã€‚  </p><p><strong>JSPè„šæœ¬ç‰‡æ–­</strong><br>JSPè„šæœ¬ç‰‡æ–­ï¼ˆscriptletï¼‰ç”¨äºåœ¨JSPé¡µé¢ä¸­ç¼–å†™å¤šè¡ŒJavaä»£ç ã€‚è¯­æ³•ï¼š<br>&lt;%<br>        å¤šè¡Œjavaä»£ç <br>%&gt;<br>æ³¨æ„ï¼šJSPè„šæœ¬ç‰‡æ–­ä¸­åªèƒ½å‡ºç°javaä»£ç ï¼Œä¸èƒ½å‡ºç°å…¶å®ƒæ¨¡æ¿å…ƒç´ ï¼Œ JSPå¼•æ“åœ¨ç¿»è¯‘JSPé¡µé¢ä¸­ï¼Œä¼šå°†JSPè„šæœ¬ç‰‡æ–­ä¸­çš„Javaä»£ç å°†è¢«åŸå°ä¸åŠ¨åœ°æ”¾åˆ°Servletçš„_jspServiceæ–¹æ³•ä¸­ã€‚  </p><p><strong>JSPå£°æ˜</strong><br>JSPé¡µé¢ä¸­ç¼–å†™çš„æ‰€æœ‰ä»£ç ï¼Œé»˜è®¤ä¼šç¿»è¯‘åˆ°servletçš„serviceæ–¹æ³•ä¸­ï¼Œ è€ŒJspå£°æ˜ä¸­çš„javaä»£ç è¢«ç¿»è¯‘åˆ°_jspServiceæ–¹æ³•çš„å¤–é¢ã€‚è¯­æ³•ï¼š<br>&lt;%ï¼<br>    javaä»£ç <br>%&gt;<br>æ‰€ä»¥ï¼ŒJSPå£°æ˜å¯ç”¨äºå®šä¹‰JSPé¡µé¢è½¬æ¢æˆçš„Servletç¨‹åºçš„é™æ€ä»£ç å—ã€æˆå‘˜å˜é‡å’Œæ–¹æ³• ã€‚   </p><p>å¤šä¸ªé™æ€ä»£ç å—ã€å˜é‡å’Œå‡½æ•°å¯ä»¥å®šä¹‰åœ¨ä¸€ä¸ªJSPå£°æ˜ä¸­ï¼Œä¹Ÿå¯ä»¥åˆ†åˆ«å•ç‹¬å®šä¹‰åœ¨å¤šä¸ªJSPå£°æ˜ä¸­ã€‚  </p><p>JSPéšå¼å¯¹è±¡çš„ä½œç”¨èŒƒå›´ä»…é™äºServletçš„_jspServiceæ–¹æ³•ï¼Œæ‰€ä»¥åœ¨JSPå£°æ˜ä¸­ä¸èƒ½ä½¿ç”¨è¿™äº›éšå¼å¯¹è±¡ã€‚  </p><p><strong>JSPæ³¨é‡Š</strong><br>JSPæ³¨é‡Šçš„æ ¼å¼ï¼š<br>        &lt;%â€“ æ³¨é‡Šä¿¡æ¯ â€“%&gt;<br>JSPå¼•æ“åœ¨å°†JSPé¡µé¢ç¿»è¯‘æˆServletç¨‹åºæ—¶ï¼Œå¿½ç•¥JSPé¡µé¢ä¸­è¢«æ³¨é‡Šçš„å†…å®¹ã€‚  </p><p><strong>JSPæŒ‡ä»¤</strong><br>JSPæŒ‡ä»¤ï¼ˆdirectiveï¼‰æ˜¯ä¸ºJSPå¼•æ“è€Œè®¾è®¡çš„ï¼Œå®ƒä»¬å¹¶ä¸ç›´æ¥äº§ç”Ÿä»»ä½•å¯è§è¾“å‡ºï¼Œè€Œåªæ˜¯å‘Šè¯‰å¼•æ“å¦‚ä½•å¤„ç†JSPé¡µé¢ä¸­çš„å…¶ä½™éƒ¨åˆ†ã€‚<br>åœ¨JSP 2.0è§„èŒƒä¸­å…±å®šä¹‰äº†ä¸‰ä¸ªæŒ‡ä»¤ï¼š  </p><ul><li>pageæŒ‡ä»¤</li><li>IncludeæŒ‡ä»¤</li><li>taglibæŒ‡ä»¤</li></ul><p>SPæŒ‡ä»¤çš„åŸºæœ¬è¯­æ³•æ ¼å¼ï¼š<br>    &lt;%@ æŒ‡ä»¤ å±æ€§å=â€å€¼â€ %&gt;<br>    ä¸¾ä¾‹ï¼š&lt;%@ page contentType=â€text/html;charset=gb2312â€%&gt;<br>å¦‚æœä¸€ä¸ªæŒ‡ä»¤æœ‰å¤šä¸ªå±æ€§ï¼Œè¿™å¤šä¸ªå±æ€§å¯ä»¥å†™åœ¨ä¸€ä¸ªæŒ‡ä»¤ä¸­ï¼Œä¹Ÿå¯ä»¥åˆ†å¼€å†™ã€‚  </p><p>PageæŒ‡ä»¤<br>pageæŒ‡ä»¤ç”¨äºå®šä¹‰JSPé¡µé¢çš„å„ç§å±æ€§ï¼Œæ— è®ºpageæŒ‡ä»¤å‡ºç°åœ¨JSPé¡µé¢ä¸­çš„ä»€ä¹ˆåœ°æ–¹ï¼Œå®ƒä½œç”¨çš„éƒ½æ˜¯æ•´ä¸ªJSPé¡µé¢ï¼Œä¸ºäº†ä¿æŒç¨‹åºçš„å¯è¯»æ€§å’Œéµå¾ªè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼ŒpageæŒ‡ä»¤æœ€å¥½æ˜¯æ”¾åœ¨æ•´ä¸ªJSPé¡µé¢çš„èµ·å§‹ä½ç½®ã€‚<br>JSP 2.0è§„èŒƒä¸­å®šä¹‰çš„pageæŒ‡ä»¤çš„å®Œæ•´è¯­æ³•ï¼š  </p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs prolog">&lt;<span class="hljs-comment">%@ page</span><br>[ language=<span class="hljs-string">&quot;java&quot;</span> ]<br>[ extends=<span class="hljs-string">&quot;package.class&quot;</span> ]<br>[ import=<span class="hljs-string">&quot;&#123;package.class | package.*&#125;, ...&quot;</span> ]<br>[ session=<span class="hljs-string">&quot;true | false&quot;</span> ]<br>[ buffer=<span class="hljs-string">&quot;none | 8kb | sizekb&quot;</span> ]<br>[ autoFlush=<span class="hljs-string">&quot;true | false&quot;</span> ]<br>[ isThreadSafe=<span class="hljs-string">&quot;true | false&quot;</span> ]<br>[ info=<span class="hljs-string">&quot;text&quot;</span> ]<br>[ errorPage=<span class="hljs-string">&quot;relative_url&quot;</span> ]<br>[ isErrorPage=<span class="hljs-string">&quot;true | false&quot;</span> ]<br>[ contentType=<span class="hljs-string">&quot;mimeType [ ;charset=characterSet ]&quot;</span> | <span class="hljs-string">&quot;text/html ; charset=ISO-8859-1&quot;</span> ]<br>[ pageEncoding=<span class="hljs-string">&quot;characterSet | ISO-8859-1&quot;</span> ]<br>[ isELIgnored=<span class="hljs-string">&quot;true | false&quot;</span> ]<br><span class="hljs-comment">%&gt;</span><br></code></pre></td></tr></table></figure><p>JSP å¼•æ“è‡ªåŠ¨å¯¼å…¥ä¸‹é¢çš„åŒ…ï¼š<br>java.lang.*<br>javax.servlet.*<br>javax.servlet.jsp.*<br>javax.servlet.http.*<br>errorPageå±æ€§çš„è®¾ç½®å€¼å¿…é¡»ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå¦‚æœä»¥â€œ/â€å¼€å¤´ï¼Œè¡¨ç¤ºç›¸å¯¹äºå½“å‰WEBåº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ï¼ˆæ³¨æ„ä¸æ˜¯ç«™ç‚¹æ ¹ç›®å½•ï¼‰ï¼Œå¦åˆ™ï¼Œè¡¨ç¤ºç›¸å¯¹äºå½“å‰é¡µé¢ã€‚<br>å¯ä»¥åœ¨web.xmlæ–‡ä»¶ä¸­ä½¿ç”¨<error-page>å…ƒç´ ä¸ºæ•´ä¸ªWEBåº”ç”¨ç¨‹åºè®¾ç½®é”™è¯¯å¤„ç†é¡µé¢ï¼Œå…¶ä¸­çš„<exception-type>å­å…ƒç´ æŒ‡å®šå¼‚å¸¸ç±»çš„å®Œå…¨é™å®šåï¼Œ<location>å…ƒç´ æŒ‡å®šä»¥â€œ/â€å¼€å¤´çš„é”™è¯¯å¤„ç†é¡µé¢çš„è·¯å¾„ã€‚<br>å¦‚æœè®¾ç½®äº†æŸä¸ªJSPé¡µé¢çš„errorPageå±æ€§ï¼Œé‚£ä¹ˆåœ¨web.xmlæ–‡ä»¶ä¸­è®¾ç½®çš„é”™è¯¯å¤„ç†å°†ä¸å¯¹è¯¥é¡µé¢èµ·ä½œç”¨ã€‚  </p><p>JSPå¼•æ“ä¼šæ ¹æ®pageæŒ‡ä»¤çš„contentTypeå±æ€§ç”Ÿæˆç›¸åº”çš„è°ƒç”¨ServletResponse.setContentTypeæ–¹æ³•çš„è¯­å¥ã€‚<br>pageæŒ‡ä»¤çš„contentTypeå±æ€§è¿˜å…·æœ‰è¯´æ˜JSPæºæ–‡ä»¶çš„å­—ç¬¦ç¼–ç çš„ä½œç”¨ã€‚  </p><p>ä½¿ç”¨pageæŒ‡ä»¤è§£å†³JSPä¸­æ–‡ä¹±ç <br>JSPç¨‹åºå­˜åœ¨æœ‰ä¸Servletç¨‹åºå®Œå…¨ç›¸åŒçš„ä¸­æ–‡ä¹±ç é—®é¢˜<br>è¾“å‡ºå“åº”æ­£æ–‡æ—¶å‡ºç°çš„ä¸­æ–‡ä¹±ç é—®é¢˜<br>è¯»å–æµè§ˆå™¨ä¼ é€’çš„å‚æ•°ä¿¡æ¯æ—¶å‡ºç°çš„ä¸­æ–‡ä¹±ç é—®é¢˜<br>JSPå¼•æ“å°†JSPé¡µé¢ç¿»è¯‘æˆServletæºæ–‡ä»¶æ—¶ä¹Ÿå¯èƒ½å¯¼è‡´ä¸­æ–‡ä¹±ç é—®é¢˜<br>JSPå¼•æ“å°†JSPæºæ–‡ä»¶ç¿»è¯‘æˆçš„Servletæºæ–‡ä»¶é»˜è®¤é‡‡ç”¨UTF-8ç¼–ç ï¼Œè€ŒJSPå¼€å‘äººå‘˜å¯ä»¥é‡‡ç”¨å„ç§å­—ç¬¦é›†ç¼–ç æ¥ç¼–å†™JSPæºæ–‡ä»¶ï¼Œå› æ­¤ï¼ŒJSPå¼•æ“å°†JSPæºæ–‡ä»¶ç¿»è¯‘æˆServletæºæ–‡ä»¶æ—¶ï¼Œéœ€è¦è¿›è¡Œå­—ç¬¦ç¼–ç è½¬æ¢ã€‚<br>å¦‚æœJSPæ–‡ä»¶ä¸­æ²¡æœ‰è¯´æ˜å®ƒé‡‡ç”¨çš„å­—ç¬¦é›†ç¼–ç ï¼ŒJSPå¼•æ“å°†æŠŠå®ƒå½“ä½œé»˜è®¤çš„ISO8859-1å­—ç¬¦é›†ç¼–ç å¤„ç†ã€‚<br>å¦‚ä½•è§£å†³JSPå¼•æ“ç¿»è¯‘JSPé¡µé¢æ—¶çš„ä¸­æ–‡ä¹±ç é—®é¢˜<br>é€šè¿‡pageæŒ‡ä»¤çš„contentTypeå±æ€§è¯´æ˜JSPæºæ–‡ä»¶çš„å­—ç¬¦é›†ç¼–ç <br>pageæŒ‡ä»¤çš„pageEncodingå±æ€§è¯´æ˜JSPæºæ–‡ä»¶çš„å­—ç¬¦é›†ç¼–ç   </p><p>includeæŒ‡ä»¤<br>includeæŒ‡ä»¤ç”¨äºå¼•å…¥å…¶å®ƒJSPé¡µé¢ï¼Œå¦‚æœä½¿ç”¨includeæŒ‡ä»¤å¼•å…¥äº†å…¶å®ƒJSPé¡µé¢ï¼Œé‚£ä¹ˆJSPå¼•æ“å°†æŠŠè¿™ä¸¤ä¸ªJSPç¿»è¯‘æˆä¸€ä¸ªservletã€‚æ‰€ä»¥includeæŒ‡ä»¤å¼•å…¥é€šå¸¸ä¹Ÿç§°ä¹‹ä¸ºé™æ€å¼•å…¥ã€‚åœ¨ç¼–è¯‘æ—¶åŒ…å«<br>è¯­æ³•ï¼š<br>    &lt;%@ include file=â€relativeURLâ€%&gt;<br>    å…¶ä¸­çš„fileå±æ€§ç”¨äºæŒ‡å®šè¢«å¼•å…¥æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚  fileå±æ€§çš„è®¾ç½®å€¼å¿…é¡»ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå¦‚æœä»¥â€œ/â€å¼€å¤´ï¼Œè¡¨ç¤ºç›¸å¯¹äºå½“å‰WEBåº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ï¼ˆæ³¨æ„ä¸æ˜¯ç«™ç‚¹æ ¹ç›®å½•ï¼‰ï¼Œå¦åˆ™ï¼Œè¡¨ç¤ºç›¸å¯¹äºå½“å‰æ–‡ä»¶ã€‚<br>ç»†èŠ‚ï¼š<br>è¢«å¼•å…¥çš„æ–‡ä»¶å¿…é¡»éµå¾ªJSPè¯­æ³•ã€‚<br>è¢«å¼•å…¥çš„æ–‡ä»¶å¯ä»¥ä½¿ç”¨ä»»æ„çš„æ‰©å±•åï¼Œå³ä½¿å…¶æ‰©å±•åæ˜¯htmlï¼ŒJSPå¼•æ“ä¹Ÿä¼šæŒ‰ç…§å¤„ç†jspé¡µé¢çš„æ–¹å¼å¤„ç†å®ƒé‡Œé¢çš„å†…å®¹ï¼Œä¸ºäº†è§æ˜çŸ¥æ„ï¼ŒJSPè§„èŒƒå»ºè®®ä½¿ç”¨.jspfï¼ˆJSP fragmentsï¼‰ä½œä¸ºé™æ€å¼•å…¥æ–‡ä»¶çš„æ‰©å±•åã€‚<br>ç”±äºä½¿ç”¨includeæŒ‡ä»¤å°†ä¼šæ¶‰åŠåˆ°2ä¸ªJSPé¡µé¢ï¼Œå¹¶ä¼šæŠŠ2ä¸ªJSPç¿»è¯‘æˆä¸€ä¸ªservletï¼Œæ‰€ä»¥è¿™2ä¸ªJSPé¡µé¢çš„æŒ‡ä»¤ä¸èƒ½å†²çªï¼ˆé™¤äº†pageEncodingå’Œå¯¼åŒ…é™¤å¤–ï¼‰ã€‚<br>request.getRequestDispatcher(â€œ/a.jspâ€).forward(request,response);//åŠ¨æ€åŒ…å«ï¼Œç¿»è¯‘æˆå¤šä¸ªservletï¼Œè¿è¡Œæ—¶åŒ…å«ã€‚    </p><p>taglibæŒ‡ä»¤<br>TaglibæŒ‡ä»¤ç”¨äºåœ¨JSPé¡µé¢ä¸­å¯¼å…¥æ ‡ç­¾åº“ï¼Œè®²è‡ªå®šä¹‰æ ‡ç­¾æŠ€æœ¯æ—¶è®²ã€‚  </p><p><strong>JSPä¹å¤§éšå¼å¯¹è±¡å¯¹åº”å…³ç³»</strong></p><p>request HttpServletRequest<br>response HttpServletResponse<br>session HttpSession<br>application servletContext<br>config   servletConfig<br>out      JspWriter  â€”â€“&gt;   PrintWriter<br>exception<br>page    this<br>pageContext    </p><p><strong>pageContextå¯¹è±¡</strong>  </p><p>pageContextå¯¹è±¡æ˜¯JSPæŠ€æœ¯ä¸­æœ€é‡è¦çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä»£è¡¨JSPé¡µé¢çš„è¿è¡Œç¯å¢ƒï¼Œè¿™ä¸ªå¯¹è±¡ä¸ä»…å°è£…äº†å¯¹å…¶å®ƒ8å¤§éšå¼å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒè‡ªèº«è¿˜æ˜¯ä¸€ä¸ªåŸŸå¯¹è±¡ï¼Œå¯ä»¥ç”¨æ¥ä¿å­˜æ•°æ®ã€‚å¹¶ä¸”ï¼Œè¿™ä¸ªå¯¹è±¡è¿˜å°è£…äº†webå¼€å‘ä¸­ç»å¸¸æ¶‰åŠåˆ°çš„ä¸€äº›å¸¸ç”¨æ“ä½œï¼Œä¾‹å¦‚å¼•å…¥å’Œè·³è½¬å…¶å®ƒèµ„æºã€æ£€ç´¢å…¶å®ƒåŸŸå¯¹è±¡ä¸­çš„å±æ€§ç­‰ã€‚    </p><p>é€šè¿‡pageContextè·å¾—å…¶ä»–å¯¹è±¡<br>getExceptionæ–¹æ³•è¿”å›exceptionéšå¼å¯¹è±¡<br>getPageæ–¹æ³•è¿”å›pageéšå¼å¯¹è±¡<br>getRequestæ–¹æ³•è¿”å›requestéšå¼å¯¹è±¡<br>getResponseæ–¹æ³•è¿”å›responseéšå¼å¯¹è±¡<br>getServletConfigæ–¹æ³•è¿”å›configéšå¼å¯¹è±¡<br>getServletContextæ–¹æ³•è¿”å›applicationéšå¼å¯¹è±¡<br>getSessionæ–¹æ³•è¿”å›sessionéšå¼å¯¹è±¡<br>getOutæ–¹æ³•è¿”å›outéšå¼å¯¹è±¡<br>pageContextå°è£…å…¶å®ƒ8å¤§å†…ç½®å¯¹è±¡çš„æ„ä¹‰ï¼Œæ€è€ƒï¼šå¦‚æœåœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­ï¼ŒæŠŠpageContextå¯¹è±¡ä¼ é€’ç»™ä¸€ä¸ªæ™®é€šjavaå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªjavaå¯¹è±¡å°†å…·æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ    //ç”¨åœ¨ è‡ªå®šä¹‰æ ‡ç­¾ä¸Š   </p><p>pageContextä½œä¸ºåŸŸå¯¹è±¡<br>pageContextå¯¹è±¡çš„æ–¹æ³•   </p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">public void set<span class="hljs-constructor">Attribute(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.StringÂ <span class="hljs-params">name</span>,<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.ObjectÂ <span class="hljs-params">value</span>)</span>  <br>public java.lang.ObjectÂ get<span class="hljs-constructor">Attribute(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.StringÂ <span class="hljs-params">name</span>)</span>  <br>public voidÂ remove<span class="hljs-constructor">Attribute(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.StringÂ <span class="hljs-params">name</span>)</span><br>pageContextå¯¹è±¡ä¸­è¿˜å°è£…äº†è®¿é—®å…¶å®ƒåŸŸçš„æ–¹æ³•<br>public java.lang.ObjectÂ get<span class="hljs-constructor">Attribute(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.StringÂ <span class="hljs-params">name</span>,<span class="hljs-params">int</span>Â <span class="hljs-params">scope</span>)</span><br>public void set<span class="hljs-constructor">Attribute(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.StringÂ <span class="hljs-params">name</span>, <span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.ObjectÂ <span class="hljs-params">value</span>,<span class="hljs-params">int</span>Â <span class="hljs-params">scope</span>)</span><br>public voidÂ remove<span class="hljs-constructor">Attribute(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.StringÂ <span class="hljs-params">name</span>,<span class="hljs-params">int</span>Â <span class="hljs-params">scope</span>)</span><br></code></pre></td></tr></table></figure><p>ä»£è¡¨å„ä¸ªåŸŸçš„å¸¸é‡<br>PageContext.APPLICATION_SCOPE<br>PageContext.SESSION_SCOPE<br>PageContext.REQUEST_SCOPE<br>PageContext.PAGE_SCOPE<br>findAttributeæ–¹æ³•    ï¼ˆ*é‡ç‚¹ï¼ŒæŸ¥æ‰¾å„ä¸ªåŸŸä¸­çš„å±æ€§ï¼‰  </p><p>å¼•å…¥å’Œè·³è½¬åˆ°å…¶ä»–èµ„æº<br>PageContextç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªforwardæ–¹æ³•å’Œä¸¤ä¸ªincludeæ–¹æ³•æ¥åˆ†åˆ«ç®€åŒ–å’Œæ›¿ä»£RequestDispatcher.forwardæ–¹æ³•å’Œincludeæ–¹æ³•  </p><p>ä¼ é€’ç»™è¿™äº›æ–¹æ³•çš„èµ„æºè·¯å¾„éƒ½åªèƒ½æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå¦‚æœè·¯å¾„ä»¥â€œ/â€å¼€å¤´ï¼Œè¡¨ç¤ºç›¸å¯¹äºå½“å‰WEBåº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ï¼Œå¦åˆ™ï¼Œè¡¨ç¤ºç›¸å¯¹äºå½“å‰JSPæ‰€æ˜ å°„åˆ°çš„è®¿é—®è·¯å¾„ã€‚  </p><p><strong>JSPæ ‡ç­¾</strong><br>è™½ç„¶æˆ‘ä»¬å¸Œæœ›JSPé¡µé¢ä»…ç”¨ä½œæ•°æ®æ˜¾ç¤ºæ¨¡å—ï¼Œä¸è¦åµŒå¥—ä»»ä½•javaä»£ç å¼•å…¥ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œä½†åœ¨å®é™…å¼€å‘ä¸­ä¸å¼•å…¥ä¸€ç‚¹ä¸šåŠ¡é€»è¾‘æ˜¯ä¸å¯èƒ½çš„ï¼Œä½†å¼•å…¥ä¸šåŠ¡é€»è¾‘ä¼šå¯¼è‡´é¡µé¢å‡ºç°éš¾çœ‹javaä»£ç ï¼Œæ€ä¹ˆåŠï¼Ÿ<br>Sunå…¬å¸å…è®¸ç”¨æˆ·å¼€å‘è‡ªå®šä¹‰æ ‡ç­¾å°è£…é¡µé¢çš„javaä»£ç ï¼Œä»¥ä¾¿jspé¡µé¢ä¸å‡ºç°ä¸€è¡Œjavaä»£ç ã€‚å½“ç„¶sunå…¬å¸åœ¨jspé¡µé¢ä¸­ä¹Ÿå†…ç½®äº†ä¸€äº›æ ‡ç­¾(è¿™äº›æ ‡ç­¾å«åšjspæ ‡ç­¾)ï¼Œå¼€å‘äººå‘˜ä½¿ç”¨è¿™äº›æ ‡ç­¾å¯ä»¥å®Œæˆé¡µé¢çš„ä¸€äº›å¸¸ç”¨ä¸šåŠ¡é€»è¾‘ã€‚<br>JSPæ ‡ç­¾ä¹Ÿç§°ä¹‹ä¸ºJsp Action(JSPåŠ¨ä½œ)å…ƒç´ ï¼Œå®ƒç”¨äºåœ¨JSPé¡µé¢ä¸­æä¾›ä¸šåŠ¡é€»è¾‘åŠŸèƒ½ã€‚  </p><p>JSPå¸¸ç”¨æ ‡ç­¾<br>&lt;jsp:include&gt;æ ‡ç­¾<br>&lt;jsp:forward&gt;æ ‡ç­¾<br>&lt;jsp:param&gt;æ ‡ç­¾    </p><p>&lt;jsp:include&gt;æ ‡ç­¾<br>&lt;jsp:include&gt;æ ‡ç­¾ç”¨äºæŠŠå¦å¤–ä¸€ä¸ªèµ„æºçš„è¾“å‡ºå†…å®¹æ’å…¥è¿›å½“å‰JSPé¡µé¢çš„è¾“å‡ºå†…å®¹ä¹‹ä¸­ï¼Œè¿™ç§åœ¨JSPé¡µé¢æ‰§è¡Œæ—¶çš„å¼•å…¥æ–¹å¼ç§°ä¹‹ä¸ºåŠ¨æ€å¼•å…¥ã€‚<br>è¯­æ³•ï¼š<br>    &lt;jsp:include page=â€relativeURL | &lt;%=expression%&gt;â€ flush=â€true|falseâ€ /&gt;  </p><p>pageå±æ€§ç”¨äºæŒ‡å®šè¢«å¼•å…¥èµ„æºçš„ç›¸å¯¹è·¯å¾„ï¼Œå®ƒä¹Ÿå¯ä»¥é€šè¿‡æ‰§è¡Œä¸€ä¸ªè¡¨è¾¾å¼æ¥è·å¾—ã€‚<br>flushå±æ€§æŒ‡å®šåœ¨æ’å…¥å…¶ä»–èµ„æºçš„è¾“å‡ºå†…å®¹æ—¶ï¼Œæ˜¯å¦å…ˆå°†å½“å‰JSPé¡µé¢çš„å·²è¾“å‡ºçš„å†…å®¹åˆ·æ–°åˆ°å®¢æˆ·ç«¯ã€‚    </p><p>&lt;jsp:include&gt;ä¸includeæŒ‡ä»¤çš„æ¯”è¾ƒ<br>&lt;jsp:include&gt;æ ‡ç­¾æ˜¯åŠ¨æ€å¼•å…¥ï¼Œ &lt;jsp:include&gt;æ ‡ç­¾æ¶‰åŠåˆ°çš„2ä¸ªJSPé¡µé¢ä¼šè¢«ç¿»è¯‘æˆ2ä¸ªservletï¼Œè¿™2ä¸ªservletçš„å†…å®¹åœ¨æ‰§è¡Œæ—¶è¿›è¡Œåˆå¹¶ã€‚<br>è€ŒincludeæŒ‡ä»¤æ˜¯é™æ€å¼•å…¥ï¼Œæ¶‰åŠåˆ°çš„2ä¸ªJSPé¡µé¢ä¼šè¢«ç¿»è¯‘æˆä¸€ä¸ªservletï¼Œå…¶å†…å®¹æ˜¯åœ¨æºæ–‡ä»¶çº§åˆ«è¿›è¡Œåˆå¹¶ã€‚  </p><p>ä¸ç®¡æ˜¯&lt;jsp:include&gt;æ ‡ç­¾ï¼Œè¿˜æ˜¯includeæŒ‡ä»¤ï¼Œå®ƒä»¬éƒ½ä¼šæŠŠ2ä¸ªJSPé¡µé¢å†…å®¹åˆå¹¶è¾“å‡ºï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªé¡µé¢ä¸è¦å‡ºç°é‡å¤çš„HTMLå…¨å±€æ¶æ„æ ‡ç­¾ï¼Œå¦åˆ™è¾“å‡ºç»™å®¢æˆ·ç«¯çš„å†…å®¹å°†ä¼šæ˜¯ä¸ªæ ¼å¼æ··ä¹±çš„HTMLæ–‡æ¡£ã€‚<br>&lt;jsp:include&gt;æ ‡ç­¾ï¼šä½¿ç”¨pageå±æ€§æŒ‡å®šè¢«å¼•å…¥èµ„æºã€‚<br>includeæŒ‡ä»¤ï¼šä½¿ç”¨fileå±æ€§æŒ‡å®šè¢«å¼•å…¥èµ„æºã€‚  </p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs awk">å‡è®¾mywebåº”ç”¨çš„æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ªa.jspæ–‡ä»¶å¦‚æœå°†a.jspé¡µé¢æ˜ å°„æˆäº†å¦‚ä¸‹åœ°å€ï¼š  <br>http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8080</span><span class="hljs-regexp">/myweb/</span>dir1/a.html  <br>åœ¨a.jspé¡µé¢ä¸­ä½¿ç”¨äº†å¦‚ä¸‹è¯­å¥å¼•å…¥b.jspæ–‡ä»¶ï¼š  <br>&lt;jsp:include page=<span class="hljs-string">&quot;b.jsp&quot;</span> /&gt;  <br>è¯·é—®ï¼šb.jspè¦ä½äºä»€ä¹ˆä½ç½®ï¼Œä¸Šé¢çš„includeæ‰ä¸ä¼šå‡ºé”™ï¼Ÿã€€  <br>http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8080</span><span class="hljs-regexp">/myweb/</span>b.jspf  bad  <br>http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8080</span><span class="hljs-regexp">/myweb/</span>dir1/b.jspf   ok  <br>å‡è®¾mywebåº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ªa.jspæ–‡ä»¶ï¼Œå¦‚æœå°†a.jspé¡µé¢æ˜ å°„ä¸ºå¦‚ä¸‹åœ°å€ï¼š  <br>http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8080</span><span class="hljs-regexp">/myweb/</span>dir1/a.html  <br>åœ¨a.jspé¡µé¢ä¸­ä½¿ç”¨äº†å¦‚ä¸‹è¯­å¥å¼•å…¥b.jspfæ–‡ä»¶ï¼š  <br>&lt;%@ include file=â€œb.jspfâ€%&gt;  <br>è¯·é—®ï¼š b.jspfè¦ä½äºä»€ä¹ˆä½ç½®ï¼Œä¸Šé¢çš„includeæ‰ä¸ä¼šå‡ºé”™ï¼Ÿ  <br>http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8080</span><span class="hljs-regexp">/myweb/</span>b.jspf   ok  <br>http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8080</span><span class="hljs-regexp">/myweb/</span>dir1/b.jspf   bad  <br></code></pre></td></tr></table></figure><p>&lt;jsp:forward&gt;æ ‡ç­¾<br>&lt;jsp:forward&gt;æ ‡ç­¾ç”¨äºæŠŠè¯·æ±‚è½¬å‘ç»™å¦å¤–ä¸€ä¸ªèµ„æºã€‚<br>è¯­æ³•ï¼š<br>    &lt;jsp:forward page=â€relativeURL | &lt;%=expression%&gt;â€ /&gt;<br>pageå±æ€§ç”¨äºæŒ‡å®šè¯·æ±‚è½¬å‘åˆ°çš„èµ„æºçš„ç›¸å¯¹è·¯å¾„ï¼Œå®ƒä¹Ÿå¯ä»¥é€šè¿‡æ‰§è¡Œä¸€ä¸ªè¡¨è¾¾å¼æ¥è·å¾—ã€‚  </p><p>&lt;jsp:param&gt;æ ‡ç­¾<br>å½“ä½¿ç”¨<a href="jsp:include">jsp:include</a>å’Œ<a href="jsp:forward">jsp:forward</a>æ ‡ç­¾å¼•å…¥æˆ–å°†è¯·æ±‚è½¬å‘ç»™å…¶å®ƒèµ„æºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨<a href="jsp:param">jsp:param</a>æ ‡ç­¾å‘è¿™ä¸ªèµ„æºä¼ é€’å‚æ•°ã€‚<br>è¯­æ³•1ï¼š<br>    &lt;jsp:include page=â€relativeURL | &lt;%=expression%&gt;â€&gt;<br>        &lt;jsp:param name=â€parameterNameâ€ value=â€parameterValue|&lt;%= expression %&gt;â€ /&gt;<br>    &lt;/jsp:include&gt;<br>è¯­æ³•2ï¼š<br>    &lt;jsp:forward page=â€relativeURL | &lt;%=expression%&gt;â€&gt;<br>        &lt;jsp:param name=â€parameterNameâ€ value=â€parameterValue|&lt;%= expression %&gt;â€ /&gt;<br>    &lt;/jsp:include&gt;<br>&lt;jsp:param&gt;æ ‡ç­¾çš„nameå±æ€§ç”¨äºæŒ‡å®šå‚æ•°åï¼Œvalueå±æ€§ç”¨äºæŒ‡å®šå‚æ•°å€¼ã€‚åœ¨&lt;jsp:include&gt;å’Œ<a href="jsp:forward">jsp:forward</a>æ ‡ç­¾ä¸­å¯ä»¥ä½¿ç”¨å¤šä¸ª&lt;jsp:param&gt;æ ‡ç­¾æ¥ä¼ é€’å¤šä¸ªå‚æ•°ã€‚  </p><p><strong>æ˜ å°„JSP</strong></p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-params">&lt;servlet&gt;</span><br><span class="hljs-params">&lt;servlet-name&gt;</span>SimpleJspServlet<span class="hljs-params">&lt;/servlet-name&gt;</span><br><span class="hljs-params">&lt;jsp-file&gt;</span><span class="hljs-meta-keyword">/jsp/</span>simple.jsp<span class="hljs-params">&lt;/jsp-file&gt;</span><br><span class="hljs-params">&lt;load-on-startup&gt;</span><span class="hljs-number">1</span><span class="hljs-params">&lt;/load-on-startup &gt;</span><br><span class="hljs-params">&lt;/servlet&gt;</span><br>â€¦â€¦<br><span class="hljs-params">&lt;servlet-mapping&gt;</span><br><span class="hljs-params">&lt;servlet-name&gt;</span>SimpleJspServlet<span class="hljs-params">&lt;/servlet-name&gt;</span><br><span class="hljs-params">&lt;url-pattern&gt;</span><span class="hljs-meta-keyword">/xxx/</span>yyy.html<span class="hljs-params">&lt;/url-pattern&gt;</span><br><span class="hljs-params">&lt;/servlet-mapping&gt;</span><br></code></pre></td></tr></table></figure><p>å¦‚ä½•æŸ¥æ‰¾JSPé¡µé¢ä¸­çš„é”™è¯¯<br>JSPé¡µé¢ä¸­çš„JSPè¯­æ³•æ ¼å¼æœ‰é—®é¢˜ï¼Œå¯¼è‡´å…¶ä¸èƒ½è¢«ç¿»è¯‘æˆServletæºæ–‡ä»¶ï¼ŒJSPå¼•æ“å°†æç¤ºè¿™ç±»é”™è¯¯å‘ç”Ÿåœ¨JSPé¡µé¢ä¸­çš„ä½ç½®ï¼ˆè¡Œå’Œåˆ—ï¼‰ä»¥åŠç›¸å…³ä¿¡æ¯ã€‚<br>JSPé¡µé¢ä¸­çš„JSPè¯­æ³•æ ¼å¼æ²¡æœ‰é—®é¢˜ï¼Œä½†è¢«ç¿»è¯‘æˆçš„Servletæºæ–‡ä»¶ä¸­å‡ºç°äº†Javaè¯­æ³•é—®é¢˜ï¼Œå¯¼è‡´JSPé¡µé¢ç¿»è¯‘æˆçš„Servletæºæ–‡ä»¶ä¸èƒ½é€šè¿‡ç¼–è¯‘ï¼ŒJSPå¼•æ“ä¹Ÿå°†æç¤ºè¿™ç±»é”™è¯¯å‘ç”Ÿåœ¨JSPé¡µé¢ä¸­çš„ä½ç½®ï¼ˆè¡Œå’Œåˆ—ï¼‰ä»¥åŠç›¸å…³ä¿¡æ¯ã€‚<br>JSPé¡µé¢ç¿»è¯‘æˆçš„Servletç¨‹åºåœ¨è¿è¡Œæ—¶å‡ºç°å¼‚å¸¸ï¼Œè¿™ä¸æ™®é€šJavaç¨‹åºçš„è¿è¡Œæ—¶é”™è¯¯å®Œå…¨ä¸€æ ·ï¼ŒJavaè™šæ‹Ÿæœºå°†æç¤ºé”™è¯¯å‘ç”Ÿåœ¨Servletæºæ–‡ä»¶ä¸­çš„ä½ç½®ï¼ˆè¡Œå’Œåˆ—ï¼‰ä»¥åŠç›¸å…³ä¿¡æ¯ã€‚     </p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1041. Be Unique (20) -PATç”²çº§</title>
    <link href="/2018/02/01/2018-02-01-PAT-1041/"/>
    <url>/2018/02/01/2018-02-01-PAT-1041/</url>
    
    <content type="html"><![CDATA[<p>Being unique is so important to people on Mars that even their lottery is designed in a unique way. The rule of winning is simple: one bets on a number chosen from [1, 104]. The first one who bets on a unique number wins. For example, if there are 7 people betting on 5 31 5 88 67 88 17, then the second one who bets on 31 wins.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case contains a line which begins with a positive integer N (&lt;=105) and then followed by N bets. The numbers are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, print the winning number in a line. If there is no winner, print â€œNoneâ€ instead.</p><p><strong>Sample Input 1:</strong><br>7 5 31 5 88 67 88 17<br><strong>Sample Output 1:</strong><br>31<br><strong>Sample Input 2:</strong><br>5 888 666 666 888 888<br><strong>Sample Output 2:</strong><br>None  </p><p>é¢˜ç›®å¤§æ„ï¼šæ‰¾ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°ã€‚<br>åˆ†æï¼šæ°´é¢˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-comment">//freopen(&quot;in.txt&quot;,&quot;r&quot;,stdin);</span><br>    <span class="hljs-keyword">int</span> n,i;<br>    <span class="hljs-keyword">int</span> num[<span class="hljs-number">10005</span>]=&#123;<span class="hljs-number">0</span>&#125;,a[<span class="hljs-number">100005</span>];<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        cin&gt;&gt;a[i];<br>        num[a[i]]++;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        <span class="hljs-keyword">if</span>(num[a[i]]==<span class="hljs-number">1</span>)&#123;<br>            cout&lt;&lt;a[i];<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(i==n)cout&lt;&lt;<span class="hljs-string">&quot;None&quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1039. Course List for Student (25) -PATç”²çº§</title>
    <link href="/2018/02/01/2018-02-01-PAT-1039/"/>
    <url>/2018/02/01/2018-02-01-PAT-1039/</url>
    
    <content type="html"><![CDATA[<p>Zhejiang University has 40000 students and provides 2500 courses. Now given the student name lists of all the courses, you are supposed to output the registered course list for each student who comes for a query.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains 2 positive integers: N (&lt;=40000), the number of students who look for their course lists, and K (&lt;=2500), the total number of courses. Then the student name lists are given for the courses (numbered from 1 to K) in the following format: for each course i, first the course index i and the number of registered students Ni (&lt;= 200) are given in a line. Then in the next line, Ni student names are given. A student name consists of 3 capital English letters plus a one-digit number. Finally the last line contains the N names of students who come for a query. All the names and numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, print your results in N lines. Each line corresponds to one student, in the following format: first print the studentâ€™s name, then the total number of registered courses of that student, and finally the indices of the courses in increasing order. The query results must be printed in the same order as input. All the data in a line must be separated by a space, with no extra space at the end of the line.</p><p><strong>Sample Input:</strong><br>11 5<br>4 7<br>BOB5 DON2 FRA8 JAY9 KAT3 LOR6 ZOE1<br>1 4<br>ANN0 BOB5 JAY9 LOR6<br>2 7<br>ANN0 BOB5 FRA8 JAY9 JOE4 KAT3 LOR6<br>3 1<br>BOB5<br>5 9<br>AMY7 ANN0 BOB5 DON2 FRA8 JAY9 KAT3 LOR6 ZOE1<br>ZOE1 ANN0 BOB5 JOE4 JAY9 FRA8 DON2 AMY7 KAT3 LOR6 NON9<br><strong>Sample Output:</strong><br>ZOE1 2 4 5<br>ANN0 3 1 2 5<br>BOB5 5 1 2 3 4 5<br>JOE4 1 2<br>JAY9 4 1 2 4 5<br>FRA8 3 2 4 5<br>DON2 2 4 5<br>AMY7 1 5<br>KAT3 3 2 4 5<br>LOR6 4 1 2 4 5<br>NON9 0  </p><p>é¢˜ç›®å¤§æ„ï¼šnä¸ªå­¦ç”Ÿé€‰mé—¨è¯¾ï¼Œæ¯æ¡è®°å½•è¡¨ç¤ºé€‰ç¬¬ké—¨è¯¾çš„å­¦ç”Ÿã€‚é—®æ¯ä¸ªå­¦ç”Ÿçš„é€‰è¯¾ï¼ŒæŒ‰åºè¾“å‡ºã€‚<br>åˆ†æï¼šä¸€å¼€å§‹ç”¨map+setå†™ï¼Œæœ€åä¸€ä¸ªç‚¹è¶…æ—¶äº†ï¼Œåæ¥ç™¾åº¦å¤§ä½¬ç”¨çš„hashï¼Œæ•°ç»„å¼€åˆ°26 * 26 * 26 * 10 + 10!</p><p>èœé¸¡è¶…æ—¶ä»£ç ï¼š   </p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    map&lt;string,set&lt;<span class="hljs-keyword">int</span>&gt; &gt;mmap;<br>    <span class="hljs-keyword">int</span> n,m,a,k;<br>    string name;<br>    cin&gt;&gt;n&gt;&gt;m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;m;i++)&#123;<br>        cin&gt;&gt;a&gt;&gt;k;<br>        <span class="hljs-keyword">while</span>(k--)&#123;<br>            cin&gt;&gt;name;<br>            mmap[name].<span class="hljs-built_in">insert</span>(a);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        cin&gt;&gt;name;<br>        set&lt;<span class="hljs-keyword">int</span>&gt;temp=mmap[name];<br>        cout&lt;&lt;name&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>&lt;&lt;temp.<span class="hljs-built_in">size</span>();<br>        set&lt;<span class="hljs-keyword">int</span>&gt;::iterator it;<br>        <span class="hljs-keyword">for</span>(it=temp.<span class="hljs-built_in">begin</span>();it!=temp.<span class="hljs-built_in">end</span>();it++)&#123;<br>            cout&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>&lt;&lt;*it;<br>        &#125;cout&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¤§ä½¬Hashä»£ç ï¼š   </p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getid</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *A)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> (A[<span class="hljs-number">0</span>] - <span class="hljs-string">&#x27;A&#x27;</span>) * <span class="hljs-number">26</span> * <span class="hljs-number">26</span> * <span class="hljs-number">10</span> + (A[<span class="hljs-number">1</span>] - <span class="hljs-string">&#x27;A&#x27;</span>) * <span class="hljs-number">26</span> * <span class="hljs-number">10</span> + (A[<span class="hljs-number">2</span>] - <span class="hljs-string">&#x27;A&#x27;</span>) * <span class="hljs-number">10</span> + A[<span class="hljs-number">3</span>] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">26</span> * <span class="hljs-number">26</span> * <span class="hljs-number">26</span> * <span class="hljs-number">10</span> + <span class="hljs-number">10</span>;<br>vector&lt;<span class="hljs-keyword">int</span>&gt; v[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, k, no, num, id = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> name[<span class="hljs-number">5</span>];<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;n, &amp;k);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;no, &amp;num);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; num; j++) &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, name);<br>            id = <span class="hljs-built_in">getid</span>(name);<br>            v[id].<span class="hljs-built_in">push_back</span>(no);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, name);<br>        id = <span class="hljs-built_in">getid</span>(name);<br>        <span class="hljs-built_in">sort</span>(v[id].<span class="hljs-built_in">begin</span>(), v[id].<span class="hljs-built_in">end</span>());<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s %lu&quot;</span>, name, v[id].<span class="hljs-built_in">size</span>());<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; v[id].<span class="hljs-built_in">size</span>(); j++)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, v[id][j]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javawebå­¦ä¹ 04-ä¼šè¯æŠ€æœ¯</title>
    <link href="/2018/02/01/2018-02-01-javaweb4/"/>
    <url>/2018/02/01/2018-02-01-javaweb4/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä»€ä¹ˆæ˜¯ä¼šè¯ï¼Ÿ<br>ä¼šè¯å¯ç®€å•ç†è§£ä¸ºï¼šç”¨æˆ·å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œç‚¹å‡»å¤šä¸ªè¶…é“¾æ¥ï¼Œè®¿é—®æœåŠ¡å™¨å¤šä¸ªwebèµ„æºï¼Œç„¶åå…³é—­æµè§ˆå™¨ï¼Œæ•´ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºä¸€ä¸ªä¼šè¯ã€‚<br>ä¼šè¯è¿‡ç¨‹ä¸­è¦è§£å†³çš„ä¸€äº›é—®é¢˜ï¼Ÿ<br>æ¯ä¸ªç”¨æˆ·åœ¨ä½¿ç”¨æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œä¼šè¯çš„è¿‡ç¨‹ä¸­ï¼Œä¸å¯é¿å…å„è‡ªä¼šäº§ç”Ÿä¸€äº›æ•°æ®ï¼ŒæœåŠ¡å™¨è¦æƒ³åŠæ³•ä¸ºæ¯ä¸ªç”¨æˆ·ä¿å­˜è¿™äº›æ•°æ®ã€‚<br>ä¾‹å¦‚ï¼šå¤šä¸ªç”¨æˆ·ç‚¹å‡»è¶…é“¾æ¥é€šè¿‡ä¸€ä¸ªservletå„è‡ªè´­ä¹°äº†ä¸€ä¸ªå•†å“ï¼ŒæœåŠ¡å™¨åº”è¯¥æƒ³åŠæ³•æŠŠæ¯ä¸€ä¸ªç”¨æˆ·è´­ä¹°çš„å•†å“ä¿å­˜åœ¨å„è‡ªçš„åœ°æ–¹ï¼Œä»¥ä¾¿äºè¿™äº›ç”¨æˆ·ç‚¹ç»“å¸servletæ—¶ï¼Œç»“å¸servletå¯ä»¥å¾—åˆ°ç”¨æˆ·å„è‡ªè´­ä¹°çš„å•†å“ä¸ºç”¨æˆ·ç»“å¸ã€‚<br>æé—®ï¼šè¿™äº›æ•°æ®ä¿å­˜åœ¨requestæˆ–servletContextä¸­è¡Œä¸è¡Œï¼Ÿ</p><p><strong>éšè—å­—æ®µï¼š</strong> å°†çŠ¶æ€ä¿¡æ¯ä»¥çª—ä½“ä¸­çœ‹ä¸åˆ°çš„è¾“å…¥å­—æ®µå“åº”ç»™æµè§ˆå™¨ï¼Œåœ¨ä¸‹æ¬¡å‘çª—ä½“æ—¶ä¸€å¹¶å‘é€è¿™äº›éšè—çš„è¾“å…¥å­—æ®µå€¼ã€‚  </p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>ä¿å­˜ä¼šè¯æ•°æ®çš„ä¸¤ç§æŠ€æœ¯ï¼š<br>Cookieï¼šå®¢æˆ·ç«¯æŠ€æœ¯ï¼ŒæœåŠ¡å™¨æŠŠæ¯ä¸ªç”¨æˆ·çš„æ•°æ®ä»¥cookieçš„å½¢å¼å†™ç»™ç”¨æˆ·å„è‡ªçš„æµè§ˆå™¨ã€‚å½“ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨å†å»è®¿é—®æœåŠ¡å™¨ä¸­çš„webèµ„æºæ—¶ï¼Œå°±ä¼šå¸¦ç€å„è‡ªçš„æ•°æ®å»ã€‚è¿™æ ·ï¼Œwebèµ„æºå¤„ç†çš„å°±æ˜¯ç”¨æˆ·å„è‡ªçš„æ•°æ®äº†ã€‚<br><img src="/img/cookie.jpg" alt="img"><br>Sessionï¼šæœåŠ¡å™¨ç«¯æŠ€æœ¯ï¼Œåˆ©ç”¨è¿™ä¸ªæŠ€æœ¯ï¼ŒæœåŠ¡å™¨åœ¨è¿è¡Œæ—¶å¯ä»¥ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·çš„æµè§ˆå™¨åˆ›å»ºä¸€ä¸ªå…¶ç‹¬äº«çš„sessionå¯¹è±¡ï¼Œç”±äºsessionä¸ºç”¨æˆ·æµè§ˆå™¨ç‹¬äº«ï¼Œæ‰€ä»¥ç”¨æˆ·åœ¨è®¿é—®æœåŠ¡å™¨çš„webèµ„æºæ—¶ï¼Œå¯ä»¥æŠŠå„è‡ªçš„æ•°æ®æ”¾åœ¨å„è‡ªçš„sessionä¸­ï¼Œå½“ç”¨æˆ·å†å»è®¿é—®æœåŠ¡å™¨ä¸­çš„å…¶å®ƒwebèµ„æºæ—¶ï¼Œå…¶å®ƒwebèµ„æºå†ä»ç”¨æˆ·å„è‡ªçš„sessionä¸­å–å‡ºæ•°æ®ä¸ºç”¨æˆ·æœåŠ¡ã€‚<br><img src="/img/session.jpg" alt="img"></p><p>Cookieåº”ç”¨:<br>1.æ˜¾ç¤ºç”¨æˆ·ä¸Šæ¬¡è®¿é—®æ—¶é—´</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">response.set<span class="hljs-constructor">CharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>)</span>;<br>response.set<span class="hljs-constructor">ContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>)</span>;<br>PrintWriter out = response.get<span class="hljs-constructor">Writer()</span>;<br>out.print(<span class="hljs-string">&quot;ä¸Šæ¬¡è®¿é—®æ—¶é—´ï¼š&quot;</span>);<br>Cookie cookies<span class="hljs-literal">[]</span>=request.get<span class="hljs-constructor">Cookies()</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>;cookies!=null<span class="hljs-operator"> &amp;&amp; </span>i&lt;cookies.length;i++)&#123;<br><span class="hljs-keyword">if</span>(cookies<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>.get<span class="hljs-constructor">Name()</span>.equals(<span class="hljs-string">&quot;lastAccessTime&quot;</span>))&#123;<br>long cookieValue=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Long</span>.</span></span>parse<span class="hljs-constructor">Long(<span class="hljs-params">cookies</span>[<span class="hljs-params">i</span>].<span class="hljs-params">getValue</span>()</span>);<br>Date date=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Date(<span class="hljs-params">cookieValue</span>)</span>;<br>out.print(date.<span class="hljs-keyword">to</span><span class="hljs-constructor">LocaleString()</span>);<br>&#125;<br>&#125;<br><br>Cookie cookie=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Cookie(<span class="hljs-string">&quot;lastAccessTime&quot;</span>,System.<span class="hljs-params">currentTimeMillis</span>()</span>+<span class="hljs-string">&quot;&quot;</span>);<br>cookie.set<span class="hljs-constructor">MaxAge(3600)</span>;<span class="hljs-comment">// ä»¥ç§’ä¸ºå•ä½</span><br>cookie.set<span class="hljs-constructor">Path(<span class="hljs-string">&quot;/day07&quot;</span>)</span>;<br>response.add<span class="hljs-constructor">Cookie(<span class="hljs-params">cookie</span>)</span>;<br></code></pre></td></tr></table></figure><p>ps:ä¸€ä¸ªCookieåªèƒ½æ ‡è¯†ä¸€ç§ä¿¡æ¯ï¼Œå®ƒè‡³å°‘å«æœ‰ä¸€ä¸ªæ ‡è¯†è¯¥ä¿¡æ¯çš„åç§°ï¼ˆNAMEï¼‰å’Œè®¾ç½®å€¼ï¼ˆVALUEï¼‰ã€‚<br>ä¸€ä¸ªWEBç«™ç‚¹å¯ä»¥ç»™ä¸€ä¸ªWEBæµè§ˆå™¨å‘é€å¤šä¸ªCookieï¼Œä¸€ä¸ªWEBæµè§ˆå™¨ä¹Ÿå¯ä»¥å­˜å‚¨å¤šä¸ªWEBç«™ç‚¹æä¾›çš„Cookieã€‚<br>æµè§ˆå™¨ä¸€èˆ¬åªå…è®¸å­˜æ”¾300ä¸ªCookieï¼Œæ¯ä¸ªç«™ç‚¹æœ€å¤šå­˜æ”¾20ä¸ªCookieï¼Œæ¯ä¸ªCookieçš„å¤§å°é™åˆ¶ä¸º4KBã€‚<br>å¦‚æœåˆ›å»ºäº†ä¸€ä¸ªcookieï¼Œå¹¶å°†ä»–å‘é€åˆ°æµè§ˆå™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯ä¸€ä¸ªä¼šè¯çº§åˆ«çš„cookieï¼ˆå³å­˜å‚¨åœ¨æµè§ˆå™¨çš„å†…å­˜ä¸­ï¼‰ï¼Œç”¨æˆ·é€€å‡ºæµè§ˆå™¨ä¹‹åå³è¢«åˆ é™¤ã€‚è‹¥å¸Œæœ›æµè§ˆå™¨å°†è¯¥cookieå­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œåˆ™éœ€è¦ä½¿ç”¨maxAgeï¼Œå¹¶ç»™å‡ºä¸€ä¸ªä»¥ç§’ä¸ºå•ä½çš„æ—¶é—´ã€‚å°†æœ€å¤§æ—¶æ•ˆè®¾ä¸º0åˆ™æ˜¯å‘½ä»¤æµè§ˆå™¨åˆ é™¤è¯¥cookieã€‚<br>æ³¨æ„ï¼Œåˆ é™¤cookieæ—¶ï¼Œpathå¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™ä¸ä¼šåˆ é™¤  </p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">//æ¸…é™¤cookieï¼Œç”¨javascriptä¹Ÿå¯å®ç°</span><br>Cookie cookie=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Cookie(<span class="hljs-string">&quot;lastAccessTime&quot;</span>,System.<span class="hljs-params">currentTimeMillis</span>()</span>+<span class="hljs-string">&quot;&quot;</span>);<br>cookie.set<span class="hljs-constructor">MaxAge(0)</span>;<span class="hljs-comment">// ä»¥ç§’ä¸ºå•ä½</span><br>cookie.set<span class="hljs-constructor">Path(<span class="hljs-string">&quot;/day07&quot;</span>)</span>;<br>response.add<span class="hljs-constructor">Cookie(<span class="hljs-params">cookie</span>)</span>;<br></code></pre></td></tr></table></figure><p>2.æ˜¾ç¤ºç”¨æˆ·ä¸Šæ¬¡æµè§ˆè¿‡çš„å•†å“</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-comment">//æ¸…é™¤cookie</span><br><span class="hljs-keyword">public</span> class CookieDemo3 extends HttpServlet &#123;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> doGet(HttpServletRequest request, HttpServletResponse response)<br><span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>response.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br>response.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br>PrintWriter out = response.getWriter();<br><span class="hljs-comment">//è¾“å‡ºæ‰€æœ‰å•†å“</span><br>out.write(<span class="hljs-string">&quot;æœ¬ç«™æœ‰å¦‚ä¸‹å•†å“:&lt;br/&gt;&quot;</span>);<br>Map&lt;<span class="hljs-keyword">String</span>,Book&gt;<span class="hljs-built_in">map</span>=Db.getAll();<br><span class="hljs-keyword">for</span>(Map.Entry&lt;<span class="hljs-keyword">String</span>, Book&gt; entry:<span class="hljs-built_in">map</span>.entrySet())&#123;<br>Book book=entry.getValue();<br>out.<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&lt;a target=\&quot;_blank\&quot; href=&#x27;/day07/servlet/cookieDemo4?id=&quot;</span>+book.getId()+<span class="hljs-string">&quot;&#x27;&gt;&quot;</span>+book.getName()+<span class="hljs-string">&quot;&lt;/a&gt;&lt;br/&gt;&quot;</span>);<br><br>&#125;<br><span class="hljs-comment">//æ˜¾ç¤ºç”¨æˆ·çœ‹è¿‡çš„å•†å“</span><br>out.<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&lt;br/&gt;ä½ æ›¾ç»çœ‹è¿‡çš„å•†å“&lt;br/&gt;&quot;</span>);<br>Cookie cookies[]=request.getCookies();<br><span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>;cookies!=<span class="hljs-keyword">null</span> &amp;&amp; i&lt;cookies.length;i++)&#123;<br><span class="hljs-keyword">if</span>(cookies[i].getName().equals(<span class="hljs-string">&quot;bookHistory&quot;</span>))&#123;<br><span class="hljs-keyword">String</span> ids[]=cookies[i].getValue().<span class="hljs-built_in">split</span>(<span class="hljs-string">&quot;\\,&quot;</span>);<span class="hljs-comment">//2,3,1</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">String</span> id:ids)&#123;<br>Book book=(Book) Db.getAll().<span class="hljs-built_in">get</span>(id);<br>out.<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&lt;a target=\&quot;_blank\&quot; href=&#x27;/day07/servlet/cookieDemo4?id=&quot;</span>+book.getId()+<span class="hljs-string">&quot;&#x27;&gt;&quot;</span>+book.getName()+<span class="hljs-string">&quot;&lt;/a&gt;&lt;br/&gt;&quot;</span>);<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><br>class Db&#123;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Map&lt;<span class="hljs-keyword">String</span>,Book&gt; <span class="hljs-built_in">map</span>=<span class="hljs-keyword">new</span> LinkedHashMap&lt;<span class="hljs-keyword">String</span>,Book&gt;();<br><span class="hljs-keyword">static</span> &#123;<br><span class="hljs-built_in">map</span>.put(<span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-keyword">new</span> Book(<span class="hljs-string">&quot;1&quot;</span>,<span class="hljs-string">&quot;JavaWebå¼€å‘&quot;</span>,<span class="hljs-string">&quot;è€k&quot;</span>,<span class="hljs-string">&quot;ä¸€æœ¬å¥½ä¹¦&quot;</span>));<br><span class="hljs-built_in">map</span>.put(<span class="hljs-string">&quot;2&quot;</span>, <span class="hljs-keyword">new</span> Book(<span class="hljs-string">&quot;2&quot;</span>,<span class="hljs-string">&quot;jdbcå¼€å‘&quot;</span>,<span class="hljs-string">&quot;è€å¼ &quot;</span>,<span class="hljs-string">&quot;ä¸€æœ¬å¥½ä¹¦&quot;</span>));<br><span class="hljs-built_in">map</span>.put(<span class="hljs-string">&quot;3&quot;</span>, <span class="hljs-keyword">new</span> Book(<span class="hljs-string">&quot;3&quot;</span>,<span class="hljs-string">&quot;springå¼€å‘&quot;</span>,<span class="hljs-string">&quot;è€li&quot;</span>,<span class="hljs-string">&quot;ä¸€æœ¬å¥½ä¹¦&quot;</span>));<br><span class="hljs-built_in">map</span>.put(<span class="hljs-string">&quot;4&quot;</span>, <span class="hljs-keyword">new</span> Book(<span class="hljs-string">&quot;4&quot;</span>,<span class="hljs-string">&quot;strutså¼€å‘&quot;</span>,<span class="hljs-string">&quot;è€å¼ &quot;</span>,<span class="hljs-string">&quot;ä¸€æœ¬å¥½ä¹¦&quot;</span>));<br><span class="hljs-built_in">map</span>.put(<span class="hljs-string">&quot;5&quot;</span>, <span class="hljs-keyword">new</span> Book(<span class="hljs-string">&quot;5&quot;</span>,<span class="hljs-string">&quot;androidå¼€å‘&quot;</span>,<span class="hljs-string">&quot;è€bi&quot;</span>,<span class="hljs-string">&quot;ä¸€æœ¬å¥½ä¹¦&quot;</span>));<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Map getAll()&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">map</span>;<br>&#125;<br>&#125;<br><br>class Book&#123;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span> id,name,author,description;<br>  ...<br>  ...<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">//æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯çš„servlet</span><br><br>public <span class="hljs-keyword">class</span> CookieDemo4 extends HttpServlet &#123;<br><br>public void <span class="hljs-keyword">do</span><span class="hljs-constructor">Get(HttpServletRequest <span class="hljs-params">request</span>, HttpServletResponse <span class="hljs-params">response</span>)</span><br>throws ServletException, IOException &#123;<br><span class="hljs-comment">//æ ¹æ®ç”¨æˆ·å¸¦è¿‡æ¥çš„idï¼Œæ˜¾ç¤ºç›¸åº”çš„è¯¦ç»†ä¿¡æ¯</span><br>response.set<span class="hljs-constructor">CharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>)</span>;<br>response.set<span class="hljs-constructor">ContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>)</span>;<br>PrintWriter out = response.get<span class="hljs-constructor">Writer()</span>;<br>String id=request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;id&quot;</span>)</span>;<br>Book book=(Book)<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Db</span>.</span></span>get<span class="hljs-constructor">All()</span>.get(id);<br>out.write(book.get<span class="hljs-constructor">Id()</span>+<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>);<br>out.write(book.get<span class="hljs-constructor">Name()</span>+<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>);<br>out.write(book.get<span class="hljs-constructor">Author()</span>+<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>);<br>out.write(book.get<span class="hljs-constructor">Description()</span>+<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>);<br><span class="hljs-comment">//2.æ„å»ºcookieï¼Œå›å†™ç»™æµè§ˆå™¨ï¼›</span><br>String cookieValue=build<span class="hljs-constructor">Cookie(<span class="hljs-params">id</span>,<span class="hljs-params">request</span>)</span>;<br>Cookie cookie=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Cookie(<span class="hljs-string">&quot;bookHistory&quot;</span>,<span class="hljs-params">cookieValue</span>)</span>;<br>cookie.set<span class="hljs-constructor">MaxAge(1<span class="hljs-operator">*</span>30<span class="hljs-operator">*</span>24<span class="hljs-operator">*</span>3600)</span>;<span class="hljs-comment">//1 ä¸ªæœˆ</span><br>cookie.set<span class="hljs-constructor">Path(<span class="hljs-string">&quot;/day07&quot;</span>)</span>;<br>response.add<span class="hljs-constructor">Cookie(<span class="hljs-params">cookie</span>)</span>;<br>&#125;<br><br><span class="hljs-keyword">private</span> String build<span class="hljs-constructor">Cookie(String <span class="hljs-params">id</span>, HttpServletRequest <span class="hljs-params">request</span>)</span> &#123;<br><span class="hljs-comment">//bookHistory =null   1    1</span><br><span class="hljs-comment">//bookHistory=2,5,1   1    1,2,5</span><br><span class="hljs-comment">//bookHistory=2,5,4   1    1,2,5</span><br><span class="hljs-comment">//bookHistroy=2,5     1    1,2,5   // å‡å¦‚åˆ—è¡¨æœ€å¤š3ä¸ª</span><br>String bookHistroy=null;<br>Cookie cookies<span class="hljs-literal">[]</span>=request.get<span class="hljs-constructor">Cookies()</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>;cookies!=null<span class="hljs-operator"> &amp;&amp; </span>i&lt;cookies.length;i++)&#123;<br><span class="hljs-keyword">if</span>(cookies<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>.get<span class="hljs-constructor">Name()</span>.equals(<span class="hljs-string">&quot;bookHistory&quot;</span>))&#123;<br>bookHistroy=cookies<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>.get<span class="hljs-constructor">Value()</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(bookHistroy==null)<br>return id;<br><span class="hljs-comment">//if(bookHistroy.contains(id))ä¸èƒ½è¿™æ ·  21,23 ä¹ŸåŒ…æ‹¬1</span><br>List&lt;String&gt; <span class="hljs-built_in">list</span>=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Arrays</span>.</span></span><span class="hljs-keyword">as</span><span class="hljs-constructor">List(<span class="hljs-params">bookHistroy</span>.<span class="hljs-params">split</span>(<span class="hljs-string">&quot;\\,&quot;</span>)</span>);<br>LinkedList &lt;String&gt;linkedlist=<span class="hljs-keyword">new</span> LinkedList&lt;String&gt;(<span class="hljs-built_in">list</span>);<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">list</span>.contains(id))&#123;<br>linkedlist.remove(id);<br>linkedlist.add<span class="hljs-constructor">First(<span class="hljs-params">id</span>)</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">list</span>.size<span class="hljs-literal">()</span>&gt;=<span class="hljs-number">3</span>)&#123;<br>linkedlist.remove<span class="hljs-constructor">Last()</span>;<br>linkedlist.add<span class="hljs-constructor">First(<span class="hljs-params">id</span>)</span>;<br>&#125;<span class="hljs-keyword">else</span><br>linkedlist.add<span class="hljs-constructor">First(<span class="hljs-params">id</span>)</span>;<br>&#125;<br>StringBuffer sb=<span class="hljs-keyword">new</span> <span class="hljs-constructor">StringBuffer()</span>;<br><span class="hljs-keyword">for</span>(String bid : linkedlist)&#123;<br>sb.append(bid+<span class="hljs-string">&quot;,&quot;</span>);<br>&#125;<br>return sb.delete<span class="hljs-constructor">CharAt(<span class="hljs-params">sb</span>.<span class="hljs-params">length</span>()</span>-<span class="hljs-number">1</span>).<span class="hljs-keyword">to</span><span class="hljs-constructor">String()</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>Sessionåº”ç”¨ï¼š<br>å®Œæˆç®€å•çš„è´­ç‰©åŠŸèƒ½(åªæœ‰éƒ¨åˆ†ä»£ç )</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">out.print(<span class="hljs-string">&quot;æœ¬ç«™æœ‰å¦‚ä¸‹å•†å“&lt;br/&gt;&quot;</span>);<br>Map &lt;String,Book&gt;map=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Db</span>.</span></span>get<span class="hljs-constructor">All()</span>;<br><span class="hljs-keyword">for</span>(Map.Entry&lt;String, Book&gt; entry:map.entry<span class="hljs-constructor">Set()</span>)&#123;<br>Book book=entry.get<span class="hljs-constructor">Value()</span>;<br>String str=<span class="hljs-string">&quot;&lt;a target=\&quot;_blank\&quot; href=&#x27;&quot;</span>+request.get<span class="hljs-constructor">ContextPath()</span>+<span class="hljs-string">&quot;/servlet/buyServlet?id=&quot;</span>+book.get<span class="hljs-constructor">Id()</span>+<span class="hljs-string">&quot;&#x27;&gt;&quot;</span>+book.get<span class="hljs-constructor">Name()</span>+<span class="hljs-string">&quot;è´­ä¹°&quot;</span>+<span class="hljs-string">&quot;&lt;/a&gt;&lt;br/&gt;&quot;</span>;<br>out.print(str);<br>&#125;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;a&quot;</span>+request.get<span class="hljs-constructor">ContextPath()</span>+<span class="hljs-string">&quot;b&quot;</span>);<br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">String id=request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;id&quot;</span>)</span>;<br>Book book=(Book)<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Db</span>.</span></span>get<span class="hljs-constructor">All()</span>.get(id);<br>HttpSession session=request.get<span class="hljs-constructor">Session()</span>;<br><span class="hljs-comment">//ç”¨sessionä¸­å¾—åˆ°ç”¨æˆ·è´­ä¹°çš„å•†å“é›†åˆ</span><br>List &lt;Book&gt; <span class="hljs-built_in">list</span>=(List)session.get<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;list&quot;</span>)</span>;<br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">list</span>==null)&#123;<br><span class="hljs-built_in">list</span>=<span class="hljs-keyword">new</span> LinkedList&lt;Book&gt;<span class="hljs-literal">()</span>;<br>session.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;list&quot;</span>, <span class="hljs-params">list</span>)</span>;<br>&#125;<br><span class="hljs-built_in">list</span>.add(book);<br>response.send<span class="hljs-constructor">Redirect(<span class="hljs-params">request</span>.<span class="hljs-params">getContextPath</span>()</span>+<span class="hljs-string">&quot;/servlet/listCartServlet&quot;</span>);<br></code></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">HttpSession <span class="hljs-keyword">session</span>=request.getSession(<span class="hljs-keyword">false</span>);<br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">session</span>==<span class="hljs-keyword">null</span>)&#123;<br><span class="hljs-keyword">out</span>.<span class="hljs-keyword">write</span>(&quot;æ‚¨æ²¡æœ‰è´­ä¹°ä»»ä½•å•†å“&quot;);<span class="hljs-keyword">return</span>;<br>&#125;<br>List&lt;Book&gt; list=(List) <span class="hljs-keyword">session</span>.getAttribute(&quot;list&quot;);<br><span class="hljs-keyword">out</span>.<span class="hljs-keyword">write</span>(&quot;ä½ è´­ä¹°äº†å¦‚ä¸‹å•†å“&quot;);<br><span class="hljs-keyword">for</span>(Book book:list)&#123;<br><span class="hljs-keyword">out</span>.<span class="hljs-keyword">write</span>(book.getName()+&quot;&lt;br/&gt;&quot;);<br>&#125;<br></code></pre></td></tr></table></figure><p>SessionåŸç†ï¼š<br><img src="/img/session2.jpg" alt="img"></p><p>é—®é¢˜ï¼šå¦‚ä½•å®ç°å¤šä¸ªIEæµè§ˆå™¨å…±äº«åŒä¸€sessionï¼Ÿ(åº”ç”¨ï¼šå…³æ‰IEåï¼Œå†å¼€IEï¼Œä¸Šæ¬¡è´­ä¹°çš„å•†å“è¿˜åœ¨ã€‚)  </p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">HttpSession session=request.get<span class="hljs-constructor">Session()</span>;<br>session.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;æ´—è¡£æœº&quot;</span>)</span>;<br>String id=session.get<span class="hljs-constructor">Id()</span>;<br>Cookie cookie=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Cookie(<span class="hljs-string">&quot;JSESSIONID&quot;</span>,<span class="hljs-params">id</span>)</span>;<br>cookie.set<span class="hljs-constructor">Path(<span class="hljs-string">&quot;/day07&quot;</span>)</span>;<br>cookie.set<span class="hljs-constructor">MaxAge(30<span class="hljs-operator">*</span>60)</span>;<span class="hljs-comment">//30 minutes</span><br>response.add<span class="hljs-constructor">Cookie(<span class="hljs-params">cookie</span>)</span>;<br></code></pre></td></tr></table></figure><p>IEç¦ç”¨Cookieåçš„sessionå¤„ç†(URLé‡å†™)<br>response. encodeRedirectURL(java.lang.StringÂ url)   ç”¨äºå¯¹sendRedirectæ–¹æ³•åçš„urlåœ°å€è¿›è¡Œé‡å†™ã€‚<br>response. encodeURL(java.lang.StringÂ url)  ç”¨äºå¯¹è¡¨å•actionå’Œè¶…é“¾æ¥çš„urlåœ°å€è¿›è¡Œé‡å†™</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;%<br>  request.getSession();<br>  String <span class="hljs-attribute">str1</span>=response.encodeURL(&quot;/day07/servlet/sessionDemo1&quot;);<br>  String <span class="hljs-attribute">str2</span>=response.encodeURL(&quot;/day07/servlet/sessionDemo2&quot;);  <br>%&gt;<br>  &lt;a <span class="hljs-attribute">href</span>=&lt;%=str1%&gt; <span class="hljs-attribute">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;è´­ä¹°&lt;/a&gt; &lt;br&gt;<br>  &lt;a <span class="hljs-attribute">href</span>=&lt;%=str2 %&gt; <span class="hljs-attribute">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;ç»“è´¦&lt;/a&gt; &lt;br&gt;<br></code></pre></td></tr></table></figure><p>Sessionæ¡ˆä¾‹ï¼š<br>é˜²æ­¢è¡¨å•é‡å¤æäº¤<br>å•é¡µé¢ç”±servletç¨‹åºç”Ÿæˆï¼Œservletä¸ºæ¯æ¬¡äº§ç”Ÿçš„è¡¨å•é¡µé¢åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„éšæœºæ ‡è¯†å·ï¼Œå¹¶åœ¨FORMè¡¨å•çš„ä¸€ä¸ªéšè—å­—æ®µä¸­è®¾ç½®è¿™ä¸ªæ ‡è¯†å·ï¼ŒåŒæ—¶åœ¨å½“å‰ç”¨æˆ·çš„SessionåŸŸä¸­ä¿å­˜è¿™ä¸ªæ ‡è¯†å·ã€‚<br>å½“ç”¨æˆ·æäº¤FORMè¡¨å•æ—¶ï¼Œè´Ÿè´£å¤„ç†è¡¨å•æäº¤çš„serlvetå¾—åˆ°è¡¨å•æäº¤çš„æ ‡è¯†å·ï¼Œå¹¶ä¸sessionä¸­å­˜å‚¨çš„æ ‡è¯†å·æ¯”è¾ƒï¼Œå¦‚æœç›¸åŒåˆ™å¤„ç†è¡¨å•æäº¤ï¼Œå¤„ç†å®Œåæ¸…é™¤å½“å‰ç”¨æˆ·çš„SessionåŸŸä¸­å­˜å‚¨çš„æ ‡è¯†å·ã€‚<br>åœ¨ä¸‹åˆ—æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨ç¨‹åºå°†æ‹’ç»ç”¨æˆ·æäº¤çš„è¡¨å•è¯·æ±‚ï¼š  </p><ul><li>å­˜å‚¨SessionåŸŸä¸­çš„è¡¨å•æ ‡è¯†å·ä¸è¡¨å•æäº¤çš„æ ‡è¯†å·ä¸åŒ  </li><li>å½“å‰ç”¨æˆ·çš„Sessionä¸­ä¸å­˜åœ¨è¡¨å•æ ‡è¯†å·  </li><li>ç”¨æˆ·æäº¤çš„è¡¨å•æ•°æ®ä¸­æ²¡æœ‰æ ‡è¯†å·å­—æ®µ  </li></ul><p>ç¼–å†™å·¥å…·ç±»ç”Ÿæˆè¡¨å•æ ‡è¯†å·ï¼šTokenProcessor  </p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">//é¦–é¡µ</span><br><br>public void <span class="hljs-keyword">do</span><span class="hljs-constructor">Get(HttpServletRequest <span class="hljs-params">request</span>, HttpServletResponse <span class="hljs-params">response</span>)</span><br>throws ServletException, IOException &#123;<br><span class="hljs-comment">//äº§ç”Ÿéšæœºæ•°ï¼ˆè¡¨å•å·)</span><br>TokenProcessor tp=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">TokenProcessor</span>.</span></span>get<span class="hljs-constructor">Instance()</span>;<br>String token=tp.generate<span class="hljs-constructor">Token()</span>;<br>request.get<span class="hljs-constructor">Session()</span>.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;token&quot;</span>, <span class="hljs-params">token</span>)</span>;<br>request.get<span class="hljs-constructor">RequestDispatcher(<span class="hljs-string">&quot;/form.jsp&quot;</span>)</span>.forward(request, response);<br>&#125;<br><span class="hljs-keyword">class</span> TokenProcessor&#123;<span class="hljs-comment">//ä»¤ç‰Œ  </span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * 1ã€‚æ„é€  æ–¹æ³•ç§æœ‰</span><br><span class="hljs-comment"> * 2ã€‚è‡ªå·±åˆ›å»ºä¸€ä¸ª</span><br><span class="hljs-comment"> * 3ã€‚å¯¹å¤–æš´éœ²ä¸€ä¸ªæ–¹æ³•ï¼Œå…è®¸è·å–ä¸Šé¢åˆ›å»ºçš„å¯¹è±¡ *</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">private</span> <span class="hljs-constructor">TokenProcessor()</span>&#123;&#125;<br><span class="hljs-keyword">private</span> static final TokenProcessor instance=<span class="hljs-keyword">new</span> <span class="hljs-constructor">TokenProcessor()</span>;<br>public static TokenProcessor get<span class="hljs-constructor">Instance()</span>&#123;<br>return instance;<br><br>&#125;<br>public String generate<span class="hljs-constructor">Token()</span>&#123;<br>String token=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>current<span class="hljs-constructor">TimeMillis()</span>+<span class="hljs-keyword">new</span> <span class="hljs-constructor">Random()</span>.next<span class="hljs-constructor">Int()</span>+<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">try</span> &#123;<br>MessageDigest md=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">MessageDigest</span>.</span></span>get<span class="hljs-constructor">Instance(<span class="hljs-string">&quot;md5&quot;</span>)</span>;<br>byte <span class="hljs-literal">[]</span>md5=md.digest(token.get<span class="hljs-constructor">Bytes()</span>);<br><span class="hljs-comment">//base64ç¼–ç </span><br>BASE64Encoder encoder=<span class="hljs-keyword">new</span> <span class="hljs-constructor">BASE64Encoder()</span>;<span class="hljs-comment">//æ–‡æ¡£æ²¡æœ‰æ­£å¼å‘å¸ƒ</span><br>return encoder.encode(md5);<br><span class="hljs-comment">//return new String(md5);</span><br>&#125; catch (NoSuchAlgorithmException e) &#123;<br>throw <span class="hljs-keyword">new</span> <span class="hljs-constructor">RuntimeException(<span class="hljs-params">e</span>)</span>;<br>&#125;<br><span class="hljs-comment">//return null;</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs erb"><span class="xml">//form.jsp</span><br><span class="xml">&lt;%</span><span class="ruby">@ page language=<span class="hljs-string">&quot;java&quot;</span> pageEncoding=<span class="hljs-string">&quot;UTF-8&quot;</span></span><span class="xml">%&gt;</span><br><span class="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">HTML</span> <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>My JSP &#x27;form.jsp&#x27; starting page<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;pragma&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;no-cache&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;cache-control&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;no-cache&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;expires&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;0&quot;</span>&gt;</span>    </span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml">   <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="xml">  var iscommitted=false;</span><br><span class="xml">  function dosubmit()&#123;</span><br><span class="xml">  if(!iscommitted)&#123;</span><br><span class="xml">  iscommitted=true;</span><br><span class="xml">  document.getElementById(&quot;tbn&quot;).disabled=&quot;disabled&quot;;</span><br><span class="xml">  return true;</span><br><span class="xml">  &#125;else&#123;</span><br><span class="xml">  return false;</span><br><span class="xml">  &#125;</span><br><span class="xml">  &#125;</span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/day07/servlet/doFormServlet&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">onsubmit</span>=<span class="hljs-string">&quot;return dosubmit()&quot;</span>&gt;</span></span><br><span class="xml">      ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>/&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æäº¤&quot;</span>/&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;token&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;token&#125;&quot;</span>/&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">//å¤„ç†æäº¤çš„servlet</span><br>request.set<span class="hljs-constructor">CharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>)</span>;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * String username=request.getParameter(&quot;username&quot;); try &#123;</span><br><span class="hljs-comment"> * Thread.sleep(1000*3); &#125; catch (InterruptedException e) &#123; // TODO</span><br><span class="hljs-comment"> * Auto-generated catch block e.printStackTrace(); &#125;</span><br><span class="hljs-comment"> * System.out.println(&quot;å‘æ•°æ®åº“å†™ç”¨æˆ·å&quot;);</span><br><span class="hljs-comment"> */</span><br>String r_token = request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;token&quot;</span>)</span>;<br>HttpSession session = request.get<span class="hljs-constructor">Session(<span class="hljs-params">false</span>)</span>;<br><span class="hljs-keyword">if</span> (r_token != null<br><span class="hljs-operator">&amp;&amp; </span>session != null<br><span class="hljs-operator">&amp;&amp; </span>r_token.equals<span class="hljs-constructor">IgnoreCase((String)</span> session.get<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;token&quot;</span>)</span>)) &#123;<br>request.get<span class="hljs-constructor">Session()</span>.remove<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;token&quot;</span>)</span>;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;å‘æ•°æ®åº“å†™ç”¨æˆ·å&quot;</span>);<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;é‡å¤æäº¤&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸€æ¬¡æ€§éªŒè¯ç çš„ä¸»è¦ç›®çš„å°±æ˜¯ä¸ºäº†é™åˆ¶äººä»¬åˆ©ç”¨å·¥å…·è½¯ä»¶æ¥æš´åŠ›çŒœæµ‹å¯†ç ã€‚<br>æœåŠ¡å™¨ç¨‹åºæ¥æ”¶åˆ°è¡¨å•æ•°æ®åï¼Œé¦–å…ˆåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å¡«å†™äº†æ­£ç¡®çš„éªŒè¯ç ï¼Œåªæœ‰è¯¥éªŒè¯ç ä¸æœåŠ¡å™¨ç«¯ä¿å­˜çš„éªŒè¯ç åŒ¹é…æ—¶ï¼ŒæœåŠ¡å™¨ç¨‹åºæ‰å¼€å§‹æ­£å¸¸çš„è¡¨å•å¤„ç†æµç¨‹ã€‚<br>å¯†ç çŒœæµ‹å·¥å…·è¦é€ä¸€å°è¯•æ¯ä¸ªå¯†ç çš„å‰é¢˜æ¡ä»¶æ˜¯å…ˆè¾“å…¥æ­£ç¡®çš„éªŒè¯ç ï¼Œè€ŒéªŒè¯ç æ˜¯ä¸€æ¬¡æ€§æœ‰æ•ˆçš„ï¼Œè¿™æ ·åŸºæœ¬ä¸Šå°±é˜»æ–­äº†å¯†ç çŒœæµ‹å·¥å…·çš„è‡ªåŠ¨åœ°å¤„ç†è¿‡ç¨‹ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è¯¥åˆ·é¢˜äº†ï¼Œè¦å¼€å­¦äº†ï¼ŒPATå‡‰å‡‰å‡‰å‡‰å‡‰ï¼Œè¯¥æ¢ä¸€ä¸ªæ›´åŠ ç§¯æå‘ä¸Šçš„å­¦ä¹ çŠ¶æ€äº†emmmmmmm</p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javawebå­¦ä¹ 03-resquest&amp;response</title>
    <link href="/2018/02/01/2018-01-31-javaweb3/"/>
    <url>/2018/02/01/2018-01-31-javaweb3/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>WebæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„httpè¯·æ±‚ï¼Œä¼šé’ˆå¯¹æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªç”¨äºä»£è¡¨è¯·æ±‚çš„requestå’Œä»£è¡¨å“åº”çš„responseå¯¹è±¡ï¼Œè¿™é‡Œå°†å¯¹ä¸¤è€…è¿›è¡Œè¯¦ç»†çš„è®²è¿°ã€‚</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p><strong>Responseå¯¹è±¡</strong><br>HttpServletResponseå¯¹è±¡æœåŠ¡å™¨çš„å“åº”ã€‚è¿™ä¸ªå¯¹è±¡ä¸­å°è£…äº†å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ã€å‘é€å“åº”å¤´ï¼Œå‘é€å“åº”çŠ¶æ€ç çš„æ–¹æ³•ã€‚  </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">setHeader</span><span class="hljs-params">(java.lang.String name, java.lang.String value)</span></span>    Sets <span class="hljs-selector-tag">a</span> response <span class="hljs-selector-tag">header</span> with the given name and value.<br><span class="hljs-function"><span class="hljs-title">setStatus</span><span class="hljs-params">(int sc)</span></span>      Sets the status <span class="hljs-selector-tag">code</span> <span class="hljs-keyword">for</span> this response.<br><span class="hljs-function"><span class="hljs-title">getWriter</span><span class="hljs-params">()</span></span>            Returns <span class="hljs-selector-tag">a</span> PrintWriter <span class="hljs-selector-tag">object</span> that can send character text to the client.<br><span class="hljs-function"><span class="hljs-title">getOutputStream</span><span class="hljs-params">()</span></span>      Returns <span class="hljs-selector-tag">a</span> ServletOutputStream suitable <span class="hljs-keyword">for</span> writing binary data <span class="hljs-keyword">in</span> the response.<br></code></pre></td></tr></table></figure><p>å¸¸è§åº”ç”¨ï¼š</p><p>1.å‘å®¢æˆ·ç«¯è¾“å‡ºä¸­æ–‡æ•°æ®  </p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">String <span class="hljs-keyword">data</span>=<span class="hljs-string">&quot;ä¸­å›½ &quot;</span>;<br><span class="hljs-comment">//ç¨‹åºä»¥ä»€ä¹ˆç è¡¨è¾“å‡ºï¼Œä¸€å®šè¦æ§åˆ¶æµè§ˆå™¨ä»¥ä»€ä¹ˆç è¡¨æ‰“å¼€</span><br>response.setHeader(<span class="hljs-string">&quot;Content-type&quot;</span>, <span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br>OutputStream <span class="hljs-keyword">out</span>=response.getOutputStream();<br><span class="hljs-comment">//out.write(data.getBytes());</span><br><span class="hljs-keyword">out</span>.write(<span class="hljs-keyword">data</span>.getBytes(<span class="hljs-string">&quot;UTF-8&quot;</span>));<br>String <span class="hljs-keyword">data</span>=<span class="hljs-string">&quot;ä¸­å›½2 &quot;</span>;<br><br><span class="hljs-comment">//html: &lt;meta&gt;æ ‡ç­¾æ¨¡æ‹Ÿä¸€ä¸ªhttpå“åº”å¤´</span><br>OutputStream <span class="hljs-keyword">out</span>=response.getOutputStream();<br><span class="hljs-comment">//out.write(data.getBytes());</span><br><span class="hljs-keyword">out</span>.write(<span class="hljs-string">&quot;&lt;meta http-equiv=&#x27;content-type&#x27; content=&#x27;text/html;charset=UTF-8&#x27;&gt;&quot;</span>.getBytes());<br><span class="hljs-keyword">out</span>.write(<span class="hljs-keyword">data</span>.getBytes(<span class="hljs-string">&quot;UTF-8&quot;</span>));<br></code></pre></td></tr></table></figure><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">String <span class="hljs-keyword">data</span>=<span class="hljs-string">&quot;ä¸­å›½q&quot;</span>;<br><span class="hljs-comment">//è®¾ç½®responseä½¿ç”¨çš„ç è¡¨ï¼Œä»¥æ§åˆ¶responseä»¥ä»€ä¹ˆç è¡¨å‘æµè§ˆå™¨è¾“å…¥æ•°æ®,é»˜è®¤ä¸ºISO-8859-1ï¼Œå­—ç¬¦è½¬å­—èŠ‚</span><br>response.setCharacterEncoding(<span class="hljs-string">&quot;GB2312&quot;</span>);<br><span class="hljs-comment">//æŒ‡å®šæµè§ˆå™¨ä»¥ä»€ä¹ˆç è¡¨æ‰“å¼€æœåŠ¡å™¨å‘é€çš„æ•°æ®</span><br>response.setHeader(<span class="hljs-string">&quot;Content-type&quot;</span>, <span class="hljs-string">&quot;text/html;charset=GB2312&quot;</span>);<br>PrintWriter <span class="hljs-keyword">out</span>=response.getWriter();<br><span class="hljs-keyword">out</span>.write(<span class="hljs-keyword">data</span>);<span class="hljs-comment">//</span><br>String <span class="hljs-keyword">data</span>=<span class="hljs-string">&quot;ä¸­å›½q&quot;</span>;<br><span class="hljs-comment">//è¯¥å¥ä»£ç ç­‰ä»·äºå‰ä¸¤å¥ï¼Œä¾¿æ·æ–¹æ³•**</span><br>response.setContentType(<span class="hljs-string">&quot;text/html;charset=GB2312&quot;</span>);<br></code></pre></td></tr></table></figure><p>2.æ–‡ä»¶ä¸‹è½½</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">String <span class="hljs-type">path</span> = this.getServletContext().getRealPath(&quot;/download/æˆªå›¾.png&quot;);<br>String filename=<span class="hljs-type">path</span>.substring(<span class="hljs-type">path</span>.lastIndexOf(&quot;\\&quot;)+<span class="hljs-number">1</span>);           //æˆªå–æ–‡ä»¶å<br><br>response.setHeader(&quot;content-disposition&quot;, &quot;attachment;filename=&quot;+URLEncoder.encode(filename,&quot;utf-8&quot;));<br>InputStream <span class="hljs-keyword">in</span> = <span class="hljs-keyword">null</span>;<br>OutputStream <span class="hljs-keyword">out</span> =<span class="hljs-keyword">null</span>;<br>try&#123;<br><span class="hljs-keyword">in</span> = <span class="hljs-built_in">new</span> FileInputStream(<span class="hljs-type">path</span>);<br><span class="hljs-type">int</span> lenth=<span class="hljs-number">0</span>;<br>byte buffer[]=<span class="hljs-built_in">new</span> byte[<span class="hljs-number">1024</span>];<br><span class="hljs-keyword">out</span> = response.getOutputStream();<br><span class="hljs-keyword">while</span>((lenth=<span class="hljs-keyword">in</span>.<span class="hljs-keyword">read</span>(buffer))&gt;<span class="hljs-number">0</span>)&#123;<br><span class="hljs-keyword">out</span>.<span class="hljs-keyword">write</span>(buffer, <span class="hljs-number">0</span>, lenth);<br>&#125;<br>&#125;finally &#123;<br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">in</span>!=<span class="hljs-keyword">null</span>)&#123;<br>try&#123;<br><span class="hljs-keyword">in</span>.<span class="hljs-keyword">close</span>();<br>&#125;catch (<span class="hljs-keyword">Exception</span> e)&#123;<br>e.printStackTrace();<br>&#125;<br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">out</span> != <span class="hljs-keyword">null</span>)&#123;<br>try&#123;<br><span class="hljs-keyword">out</span>.<span class="hljs-keyword">close</span>();<br>&#125;catch (<span class="hljs-keyword">Exception</span> e) &#123;<br>e.printStackTrace();<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>3.ç”ŸæˆéªŒè¯ç </p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@Override<br>public void <span class="hljs-keyword">do</span><span class="hljs-constructor">Get(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>  <span class="hljs-comment">//6.è®¾ç½®å¤´æ§åˆ¶æµè§ˆå™¨ä¸è¦ç¼“å­˜å›¾ç‰‡æ•°æ®</span><br>  resp.set<span class="hljs-constructor">Header(<span class="hljs-string">&quot;Expires&quot;</span>,<span class="hljs-string">&quot;-1&quot;</span>)</span>;<br>  resp.set<span class="hljs-constructor">Header(<span class="hljs-string">&quot;Cache-Control&quot;</span>, <span class="hljs-string">&quot;no-cache&quot;</span>)</span>;<br>  resp.set<span class="hljs-constructor">Header(<span class="hljs-string">&quot;Pragma&quot;</span>, <span class="hljs-string">&quot;no-cache&quot;</span>)</span>;<br><br>  <span class="hljs-comment">//5.é€šçŸ¥æµè§ˆå™¨ä»¥å›¾ç‰‡æ–¹å¼æ‰“å¼€</span><br>  resp.set<span class="hljs-constructor">Header(<span class="hljs-string">&quot;Content-type&quot;</span>,<span class="hljs-string">&quot;image/jpeg&quot;</span>)</span>;<br><br>  <span class="hljs-comment">//1.åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€å‰¯å›¾ç‰‡</span><br>  BufferedImage image = <span class="hljs-keyword">new</span> <span class="hljs-constructor">BufferedImage(80,20,BufferedImage.TYPE_INT_RGB)</span>;<br><br>  <span class="hljs-comment">//2.å¾—åˆ°å›¾ç‰‡,è®¾ç½®åº•è‰²</span><br>  Graphics2D g = (Graphics2D)image.get<span class="hljs-constructor">Graphics()</span>;<br>  g.set<span class="hljs-constructor">Color(Color.WHITE)</span>;<br>  g.fill<span class="hljs-constructor">Rect(0,0,80,20)</span>;<br>  <span class="hljs-comment">//3.å›¾ç‰‡ä¸Šå†™æ•°æ®</span><br>  g.set<span class="hljs-constructor">Color(Color.BLUE)</span>;<br>  g.set<span class="hljs-constructor">Font(<span class="hljs-params">new</span> Font(<span class="hljs-params">null</span>,Font.BOLD,20)</span>);<br>  g.draw<span class="hljs-constructor">String(<span class="hljs-params">makeNum</span>()</span>, <span class="hljs-number">0</span>, <span class="hljs-number">20</span>);<br><br>  <span class="hljs-comment">//4.å°†å›¾ç‰‡å†™ç»™æµè§ˆå™¨</span><br>  <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">ImageIO</span>.</span></span>write(image, <span class="hljs-string">&quot;jpg&quot;</span>, resp.get<span class="hljs-constructor">OutputStream()</span>);<br>&#125;<br><span class="hljs-keyword">private</span> String make<span class="hljs-constructor">Num()</span>&#123;<br>  Random r = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Random()</span>;<br>  String num = r.next<span class="hljs-constructor">Int(9999999)</span>+<span class="hljs-string">&quot;&quot;</span>;<br>  StringBuffer sb = <span class="hljs-keyword">new</span> <span class="hljs-constructor">StringBuffer()</span>;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">7</span>-num.length<span class="hljs-literal">()</span>;i++) &#123;<br>    sb.append(<span class="hljs-string">&quot;0&quot;</span>);<br>  &#125;<br>  num = sb.<span class="hljs-keyword">to</span><span class="hljs-constructor">String()</span>+num;<br>  return num;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stata">&lt;<span class="hljs-keyword">form</span> action=<span class="hljs-string">&quot;&quot;</span>&gt;<br>ç”¨æˆ·åï¼š&lt;<span class="hljs-keyword">input</span> <span class="hljs-keyword">type</span>=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;username&quot;</span>&gt;&lt;<span class="hljs-keyword">br</span>/&gt;<br>å¯†ç ï¼š&lt;<span class="hljs-keyword">input</span> <span class="hljs-keyword">type</span>=<span class="hljs-string">&quot;password&quot;</span> name=<span class="hljs-string">&quot;password&quot;</span>&gt;&lt;<span class="hljs-keyword">br</span>/&gt;<br>éªŒè¯ç ï¼š&lt;<span class="hljs-keyword">input</span> <span class="hljs-keyword">type</span>=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;checkcode&quot;</span>&gt;&lt;img src=<span class="hljs-string">&quot;/MMP/ResponseDemo2&quot;</span>&gt;&lt;<span class="hljs-keyword">br</span>/&gt;<br>&lt;<span class="hljs-keyword">input</span> <span class="hljs-keyword">type</span>=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;æ³¨å†Œ&quot;</span>&gt;&lt;<span class="hljs-keyword">br</span>/&gt;<br>&lt;/<span class="hljs-keyword">form</span>&gt;<br></code></pre></td></tr></table></figure><p>4.å‘é€httpå¤´ï¼Œæ§åˆ¶æµè§ˆå™¨å®šæ—¶åˆ·æ–°ç½‘é¡µ(REFRESH)</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-title">response</span>.setHeader(<span class="hljs-string">&quot;refresh&quot;</span>, <span class="hljs-string">&quot;3&quot;</span>);<br><span class="hljs-type">String</span> <span class="hljs-class"><span class="hljs-keyword">data</span> = new <span class="hljs-type">Random</span>().nextInt(100000)+&quot;&quot;;</span><br><span class="hljs-title">response</span>.getWriter().write(<span class="hljs-class"><span class="hljs-keyword">data</span>);</span><br></code></pre></td></tr></table></figure><p>5.å‘é€httpå¤´ï¼Œæ§åˆ¶æµè§ˆå™¨ç¼“å­˜å½“å‰æ–‡æ¡£å†…å®¹</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-type">String</span>  <span class="hljs-class"><span class="hljs-keyword">data</span>=&quot;aaaaa&quot;;</span><br><span class="hljs-title">response</span>.setDateHeader(<span class="hljs-string">&quot;expires&quot;</span>, <span class="hljs-type">System</span>.currentTimeMillis()+<span class="hljs-number">3600</span>*<span class="hljs-number">1000</span>);<br><span class="hljs-title">response</span>.getWriter().write(<span class="hljs-class"><span class="hljs-keyword">data</span>);</span><br></code></pre></td></tr></table></figure><p>6.é€šè¿‡responseå®ç°è¯·æ±‚é‡å®šå‘ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">response</span><span class="hljs-selector-class">.setStatus</span>(<span class="hljs-number">302</span>);<span class="hljs-comment">// 302çŠ¶æ€ç å’Œlocationå¤´å³å¯å®ç°é‡å®šå‘</span><br><span class="hljs-selector-tag">response</span><span class="hljs-selector-class">.setHeader</span>(<span class="hljs-string">&quot;location&quot;</span>, <span class="hljs-string">&quot;/day06/index.jsp&quot;</span>);<br><span class="hljs-selector-tag">response</span><span class="hljs-selector-class">.sendRedirect</span>(<span class="hljs-string">&quot;/day06/index.jsp&quot;</span>);<br></code></pre></td></tr></table></figure><p>getOutputStreamå’ŒgetWriteræ–¹æ³•åˆ†åˆ«ç”¨äºå¾—åˆ°è¾“å‡ºäºŒè¿›åˆ¶æ•°æ®ã€è¾“å‡ºæ–‡æœ¬æ•°æ®çš„ServletOuputStreamã€Printwriterå¯¹è±¡ã€‚<br>getOutputStreamå’ŒgetWriterè¿™ä¸¤ä¸ªæ–¹æ³•äº’ç›¸æ’æ–¥ï¼Œè°ƒç”¨äº†å…¶ä¸­çš„ä»»ä½•ä¸€ä¸ªæ–¹æ³•åï¼Œå°±ä¸èƒ½å†è°ƒç”¨å¦ä¸€æ–¹æ³•ï¼ŒåŒ…æ‹¬è½¬å‘æ—¶ã€‚  </p><p><strong>Requestå¯¹è±¡</strong><br>HttpServletRequestå¯¹è±¡ä»£è¡¨å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå½“å®¢æˆ·ç«¯é€šè¿‡HTTPåè®®è®¿é—®æœåŠ¡å™¨æ—¶ï¼ŒHTTPè¯·æ±‚å¤´ä¸­çš„æ‰€æœ‰ä¿¡æ¯éƒ½å°è£…åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼Œå¼€å‘äººå‘˜é€šè¿‡è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œå¯ä»¥è·å¾—å®¢æˆ·è¿™äº›ä¿¡æ¯ã€‚<br>å¸¸è§åº”ç”¨ï¼š<br>1.è·å–å¤´ç›¸å…³æ•°æ®</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">String headValue=request.get<span class="hljs-constructor">Header(<span class="hljs-string">&quot;Accept-Encoding&quot;</span>)</span>;    <span class="hljs-comment">//è®¾ç½®å®¢æˆ·ç«¯æµè§ˆå™¨æ‰€èƒ½å¤Ÿæ”¯æŒçš„è¿”å›å‹ç¼©æ ¼å¼ã€‚</span><br>Enumeration e=request.get<span class="hljs-constructor">HeaderNames()</span>;<br><span class="hljs-keyword">while</span>(e.has<span class="hljs-constructor">MoreElements()</span>)&#123;<br>String value=(String) e.next<span class="hljs-constructor">Element()</span>;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(value);<br>&#125;<br><br>e=request.get<span class="hljs-constructor">HeaderNames()</span>;<br><span class="hljs-keyword">while</span>(e.has<span class="hljs-constructor">MoreElements()</span>)&#123;<br>String name=(String) e.next<span class="hljs-constructor">Element()</span>;<br>String value=request.get<span class="hljs-constructor">Header(<span class="hljs-params">name</span>)</span>;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;name=&quot;</span>+name+<span class="hljs-string">&quot;,value=&quot;</span>+value);<br>&#125;<br>&#125;<br><br>String value=request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;username&quot;</span>)</span>;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(value);<br><br>Enumeration e=request.get<span class="hljs-constructor">ParameterNames()</span>;<br><span class="hljs-keyword">while</span>(e.has<span class="hljs-constructor">MoreElements()</span>)&#123;<br>String name=(String) e.next<span class="hljs-constructor">Element()</span>;<br>value=request.get<span class="hljs-constructor">Parameter(<span class="hljs-params">name</span>)</span>;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(name+<span class="hljs-string">&quot;=&quot;</span>+value);<br>&#125;<br><br>String value2<span class="hljs-literal">[]</span>=request.get<span class="hljs-constructor">ParameterValues(<span class="hljs-string">&quot;username&quot;</span>)</span>;<br><span class="hljs-keyword">for</span>(String v:value2)&#123;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;u=&quot;</span>+v);<br>&#125;<br><br>Map&lt;String,String<span class="hljs-literal">[]</span>&gt; map=request.get<span class="hljs-constructor">ParameterMap()</span>;<br>User user=<span class="hljs-keyword">new</span> <span class="hljs-constructor">User()</span>;<br>User formbean=<span class="hljs-keyword">new</span> <span class="hljs-constructor">User()</span>;<br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">BeanUtils</span>.</span></span>populate(user, map);<span class="hljs-comment">//ç”¨mapé›†åˆå¡«å……bean</span><br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">BeanUtils</span>.</span></span>copy<span class="hljs-constructor">Properties(<span class="hljs-params">user</span>, <span class="hljs-params">formbean</span>)</span>;<span class="hljs-comment">//beançš„æ‹·è´</span><br>&#125; catch (Exception e1) &#123;<br>e1.print<span class="hljs-constructor">StackTrace()</span>;<br>&#125;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(user);<br><br>InputStream <span class="hljs-keyword">in</span>=request.get<span class="hljs-constructor">InputStream()</span>;<br> byte buffer<span class="hljs-literal">[]</span>=<span class="hljs-keyword">new</span> byte<span class="hljs-literal">[<span class="hljs-number">1024</span>]</span>;<br> <span class="hljs-built_in">int</span> len=<span class="hljs-number">0</span>;<br> <span class="hljs-keyword">while</span>((len=<span class="hljs-keyword">in</span>.read(buffer))&gt;<span class="hljs-number">0</span>)&#123;<br> <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-keyword">new</span> <span class="hljs-constructor">String(<span class="hljs-params">buffer</span>,0,<span class="hljs-params">len</span>)</span>);<br> &#125;<br></code></pre></td></tr></table></figure><p>2.å„ç§è¡¨å•è¾“å…¥é¡¹æ•°æ®çš„è·å–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">HTML</span> <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¸¦æ•°æ®ç»™requestDemo3<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;content-type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span>    <br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>  <br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- Urlåè·Ÿä¸­æ–‡æ•°æ®è¦ç¼–ç åæäº¤--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/day06/servlet/requestDemo3&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>     ç”¨æˆ·å1<br>:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        å¯†ç :<br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        æ€§åˆ«:<br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;gender&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;male&quot;</span> /&gt;</span>ç”·<br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;gender&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;female&quot;</span> /&gt;</span>å¥³ <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br><br>        æ‰€åœ¨åœ°:<span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;city&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;beijing&quot;</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;shanghai&quot;</span>&gt;</span>ä¸Šæµ·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;cs&quot;</span>&gt;</span>é•¿æ²™<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        çˆ±å¥½ï¼š<br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span> =<span class="hljs-string">&quot;likes&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;single&quot;</span> /&gt;</span>å”±æ­Œ<br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span> =<span class="hljs-string">&quot;likes&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;dance&quot;</span> /&gt;</span>è·³èˆ<br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span> =<span class="hljs-string">&quot;likes&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;basketball&quot;</span> /&gt;</span>ç¯®çƒ<br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span> =<span class="hljs-string">&quot;likes&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;football&quot;</span> /&gt;</span>è¶³çƒ<br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        å¤‡æ³¨ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">&quot;5&quot;</span> <span class="hljs-attr">cols</span>=<span class="hljs-string">&quot;60&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;description&quot;</span>  &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        å¤§å¤´ç…§<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;image&quot;</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br><br>     <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æäº¤&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;username&quot;</span>)</span>;<br>request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;password&quot;</span>)</span>;<br>request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;gender&quot;</span>)</span>;<br>request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;city&quot;</span>)</span>;<br>String<span class="hljs-literal">[]</span> likes=request.get<span class="hljs-constructor">ParameterValues(<span class="hljs-string">&quot;likes&quot;</span>)</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>;likes!=null<span class="hljs-operator"> &amp;&amp; </span>i&lt;likes.length;i++)&#123;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(likes<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>);<br>&#125;<br>request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;description&quot;</span>)</span>;<br>request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;id&quot;</span>)</span>;<br></code></pre></td></tr></table></figure><p>3.è¯·æ±‚å‚æ•°çš„ä¸­æ–‡ä¹±ç é—®é¢˜</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">//è§£å†³POSTä¹±ç </span><br>request.set<span class="hljs-constructor">CharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>)</span>;<br>String username=request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;username&quot;</span>)</span>;<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(username);<br><br><span class="hljs-comment">// è§£å†³Getæ–¹å¼æäº¤çš„ä¹±ç </span><br>String username2=request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;username2&quot;</span>)</span>;<br>username2=<span class="hljs-keyword">new</span> <span class="hljs-constructor">String(<span class="hljs-params">username2</span>.<span class="hljs-params">getBytes</span>(<span class="hljs-string">&quot;iso-8859-1&quot;</span>)</span>,<span class="hljs-string">&quot;UTF-8&quot;</span>);<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(username2);<br><br><span class="hljs-comment">//æ— ä¹±ç </span><br>request.set<span class="hljs-constructor">CharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>)</span>;<br>String username=request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;username&quot;</span>)</span>;<br>response.set<span class="hljs-constructor">CharacterEncoding(<span class="hljs-string">&quot;gb2312&quot;</span>)</span>;<br>response.set<span class="hljs-constructor">ContentType(<span class="hljs-string">&quot;text/htm;charset=gb2312&quot;</span>)</span>;<br>response.get<span class="hljs-constructor">Writer()</span>.write(username);<br></code></pre></td></tr></table></figure><p>requestå¯¹è±¡å®ç°è¯·æ±‚è½¬å‘ï¼šè¯·æ±‚è½¬å‘æŒ‡ä¸€ä¸ªwebèµ„æºæ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œé€šçŸ¥æœåŠ¡å™¨å»è°ƒç”¨å¦å¤–ä¸€ä¸ªwebèµ„æºè¿›è¡Œå¤„ç†ã€‚<br>è¯·æ±‚è½¬å‘çš„åº”ç”¨åœºæ™¯ï¼šMVCè®¾è®¡æ¨¡å¼  </p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-comment">//servletä¸­</span><br><span class="hljs-keyword">String</span> message=<span class="hljs-string">&quot;aaaaaa&quot;</span>;<br>request.<span class="hljs-built_in">setAttribute</span>(<span class="hljs-string">&quot;data&quot;</span>, message);<br>request.<span class="hljs-built_in">getRequestDispatcher</span>(<span class="hljs-string">&quot;/mesage.jsp&quot;</span>).forward(request, response);<br><br><span class="hljs-comment">//Jspä¸­</span><br>&lt;%<br>    <span class="hljs-keyword">String</span> mess=(<span class="hljs-keyword">String</span>)request.<span class="hljs-built_in">getAttribute</span>(<span class="hljs-string">&quot;message&quot;</span>);<br>    out.<span class="hljs-built_in">write</span>(mess);    <br>%&gt;<br></code></pre></td></tr></table></figure><p><strong>Tipï¼šè¯·æ±‚é‡å®šå‘å’Œè¯·æ±‚è½¬å‘çš„åŒºåˆ«</strong><br>ä¸€ä¸ªwebèµ„æºæ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œé€šçŸ¥æœåŠ¡å™¨å»è°ƒç”¨å¦å¤–ä¸€ä¸ªwebèµ„æºè¿›è¡Œå¤„ç†ï¼Œç§°ä¹‹ä¸ºè¯·æ±‚è½¬å‘ã€‚<br>ä¸€ä¸ªwebèµ„æºæ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œé€šçŸ¥æµè§ˆå™¨å»è®¿é—®å¦å¤–ä¸€ä¸ªwebèµ„æºï¼Œç§°ä¹‹ä¸ºè¯·æ±‚é‡å®šå‘ã€‚</p><p>RequestDispatcher.forwardæ–¹æ³•åªèƒ½å°†è¯·æ±‚è½¬å‘ç»™åŒä¸€ä¸ªWEBåº”ç”¨ä¸­çš„ç»„ä»¶ï¼›è€ŒHttpServletResponse.sendRedirect æ–¹æ³•è¿˜å¯ä»¥é‡å®šå‘åˆ°åŒä¸€ä¸ªç«™ç‚¹ä¸Šçš„å…¶ä»–åº”ç”¨ç¨‹åºä¸­çš„èµ„æºï¼Œç”šè‡³æ˜¯ä½¿ç”¨ç»å¯¹URLé‡å®šå‘åˆ°å…¶ä»–ç«™ç‚¹çš„èµ„æºã€‚   </p><p>å¦‚æœä¼ é€’ç»™HttpServletResponse.sendRedirect æ–¹æ³•çš„ç›¸å¯¹URLä»¥â€œ/â€å¼€å¤´ï¼Œå®ƒæ˜¯ç›¸å¯¹äºæ•´ä¸ªWEBç«™ç‚¹çš„æ ¹ç›®å½•ï¼›å¦‚æœåˆ›å»ºRequestDispatcherå¯¹è±¡æ—¶æŒ‡å®šçš„ç›¸å¯¹URLä»¥â€œ/â€å¼€å¤´ï¼Œå®ƒæ˜¯ç›¸å¯¹äºå½“å‰WEBåº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ã€‚   </p><p>è°ƒç”¨HttpServletResponse.sendRedirectæ–¹æ³•é‡å®šå‘çš„è®¿é—®è¿‡ç¨‹ç»“æŸåï¼Œæµè§ˆå™¨åœ°å€æ ä¸­æ˜¾ç¤ºçš„URLä¼šå‘ç”Ÿæ”¹å˜ï¼Œç”±åˆå§‹çš„URLåœ°å€å˜æˆé‡å®šå‘çš„ç›®æ ‡URLï¼›è°ƒç”¨RequestDispatcher.forward æ–¹æ³•çš„è¯·æ±‚è½¬å‘è¿‡ç¨‹ç»“æŸåï¼Œæµè§ˆå™¨åœ°å€æ ä¿æŒåˆå§‹çš„URLåœ°å€ä¸å˜ã€‚</p><p>HttpServletResponse.sendRedirectæ–¹æ³•å¯¹æµè§ˆå™¨çš„è¯·æ±‚ç›´æ¥ä½œå‡ºå“åº”ï¼Œå“åº”çš„ç»“æœå°±æ˜¯å‘Šè¯‰æµè§ˆå™¨å»é‡æ–°å‘å‡ºå¯¹å¦å¤–ä¸€ä¸ªURLçš„è®¿é—®è¯·æ±‚ï¼›RequestDispatcher.forwardæ–¹æ³•åœ¨æœåŠ¡å™¨ç«¯å†…éƒ¨å°†è¯·æ±‚è½¬å‘ç»™å¦å¤–ä¸€ä¸ªèµ„æºï¼Œæµè§ˆå™¨åªçŸ¥é“å‘å‡ºäº†è¯·æ±‚å¹¶å¾—åˆ°äº†å“åº”ç»“æœï¼Œå¹¶ä¸çŸ¥é“åœ¨æœåŠ¡å™¨ç¨‹åºå†…éƒ¨å‘ç”Ÿäº†è½¬å‘è¡Œä¸ºã€‚   </p><p>RequestDispatcher.forwardæ–¹æ³•çš„è°ƒç”¨è€…ä¸è¢«è°ƒç”¨è€…ä¹‹é—´å…±äº«ç›¸åŒçš„requestå¯¹è±¡å’Œresponseå¯¹è±¡ï¼Œå®ƒä»¬å±äºåŒä¸€ä¸ªè®¿é—®è¯·æ±‚å’Œå“åº”è¿‡ç¨‹ï¼›è€ŒHttpServletResponse.sendRedirectæ–¹æ³•è°ƒç”¨è€…ä¸è¢«è°ƒç”¨è€…ä½¿ç”¨å„è‡ªçš„requestå¯¹è±¡å’Œresponseå¯¹è±¡ï¼Œå®ƒä»¬å±äºä¸¤ä¸ªç‹¬ç«‹çš„è®¿é—®è¯·æ±‚å’Œå“åº”è¿‡ç¨‹ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1038. Recover the Smallest Number (30) -PATç”²çº§</title>
    <link href="/2018/01/31/2018-01-31-PAT-1038/"/>
    <url>/2018/01/31/2018-01-31-PAT-1038/</url>
    
    <content type="html"><![CDATA[<p>Given a collection of number segments, you are supposed to recover the smallest number from them. For example, given {32, 321, 3214, 0229, 87}, we can recover many numbers such like 32-321-3214-0229-87 or 0229-32-87-321-3214 with respect to different orders of combinations of these segments, and the smallest number is 0229-321-3214-32-87.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case gives a positive integer N (&lt;=10000) followed by N number segments. Each segment contains a non-negative integer of no more than 8 digits. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, print the smallest number in one line. Do not output leading zeros.</p><p><strong>Sample Input:</strong><br>5 32 321 3214 0229 87<br><strong>Sample Output:</strong><br>22932132143287</p><p>é¢˜ç›®å¤§æ„ï¼šç»™nä¸ªå­—ç¬¦ä¸²ï¼Œè¾“å‡ºç»„åˆæœ€å¤§çš„ï¼Œå‰å¯¼0ä¸è¾“å‡ºã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œç§’ç”¨cmpæ’åºã€‚ æ³¨æ„è¦å†™a+b&lt;b+aè€Œä¸æ˜¯çº¯å­—å…¸åºa&lt;bï¼Œåä¾‹ï¼š2ï¼Œ21ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(string a,string b)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> a+b&lt;b+a;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    string a[<span class="hljs-number">10005</span>],s=<span class="hljs-string">&quot;&quot;</span>;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>        cin&gt;&gt;a[i];<br>    <span class="hljs-built_in">sort</span>(a,a+n,cmp);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>        s+=a[i];<br>    <span class="hljs-keyword">int</span> flag=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;s.<span class="hljs-built_in">length</span>();i++)&#123;<br>        <span class="hljs-keyword">if</span>(!flag&amp;&amp;s[i]==<span class="hljs-string">&#x27;0&#x27;</span>)<span class="hljs-keyword">continue</span>;<br>        cout&lt;&lt;s[i];<br>        flag=<span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(!flag)cout&lt;&lt;<span class="hljs-string">&quot;0&quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1037. Magic Coupon (25) -PATç”²çº§</title>
    <link href="/2018/01/31/2018-01-31-PAT-1037/"/>
    <url>/2018/01/31/2018-01-31-PAT-1037/</url>
    
    <content type="html"><![CDATA[<p>The magic shop in Mars is offering some magic coupons. Each coupon has an integer N printed on it, meaning that when you use this coupon with a product, you may get N times the value of that product back! What is more, the shop also offers some bonus product for free. However, if you apply a coupon with a positive N to this bonus product, you will have to pay the shop N times the value of the bonus productâ€¦ but hey, magically, they have some coupons with negative Nâ€™s!</p><p>For example, given a set of coupons {1 2 4 -1}, and a set of product values {7 6 -2 -3} (in Mars dollars M$) where a negative value corresponds to a bonus product. You can apply coupon 3 (with N being 4) to product 1 (with value M$7) to get M$28 back; coupon 2 to product 2 to get M$12 back; and coupon 4 to product 4 to get M$3 back. On the other hand, if you apply coupon 3 to product 4, you will have to pay M$12 to the shop.</p><p>Each coupon and each product may be selected at most once. Your task is to get as much money back as possible.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains the number of coupons NC, followed by a line with NC coupon integers. Then the next line contains the number of products NP, followed by a line with NP product values. Here 1&lt;= NC, NP &lt;= 105, and it is guaranteed that all the numbers will not exceed 230.</p><p><strong>Output Specification:</strong></p><p>For each test case, simply print in a line the maximum amount of money you can get back.</p><p><strong>Sample Input:</strong><br>4<br>1 2 4 -1<br>4<br>7 6 -2 -3<br><strong>Sample Output:</strong><br>43   </p><p>é¢˜ç›®å¤§æ„ï¼šä¸¤ä¸ªæ•°ç»„å–ç›¸åŒä¸ªæ•°çš„æ•°ï¼Œä¸€å¯¹å¯¹ä¹˜èµ·æ¥æ€»å’Œæœ€å¤§ã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œæ’åºï¼Œä»å°åˆ°å¤§å–éƒ½å°äºé›¶çš„ï¼Œä»å¤§åˆ°å°å–éƒ½å¤§äºé›¶çš„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,m,i,j;<br>    <span class="hljs-keyword">int</span> a[<span class="hljs-number">100005</span>],b[<span class="hljs-number">100005</span>];<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>        cin&gt;&gt;a[i];<br>    cin&gt;&gt;m;<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;m;i++)<br>        cin&gt;&gt;b[i];<br>    <span class="hljs-built_in">sort</span>(a,a+n);<br>    <span class="hljs-built_in">sort</span>(b,b+m);<br>    i=<span class="hljs-number">0</span>,j=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> sum=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(i&lt;n&amp;&amp;j&lt;m&amp;&amp;a[i]&lt;<span class="hljs-number">0</span>&amp;&amp;b[j]&lt;<span class="hljs-number">0</span>)&#123;<br>        sum+=a[i]*b[j];<br>        i++;j++;<br>    &#125;<br>    i=n<span class="hljs-number">-1</span>,j=m<span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">while</span>(i&gt;=<span class="hljs-number">0</span>&amp;&amp;j&gt;=<span class="hljs-number">0</span>&amp;&amp;a[i]&gt;<span class="hljs-number">0</span>&amp;&amp;b[j]&gt;<span class="hljs-number">0</span>)&#123;<br>        sum+=a[i]*b[j];<br>        i--;j--;<br>    &#125;<br>    cout&lt;&lt;sum;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javawebå­¦ä¹ 02-Servletç›¸å…³</title>
    <link href="/2018/01/30/2018-01-30-javaweb2/"/>
    <url>/2018/01/30/2018-01-30-javaweb2/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰çš„å…³äºServlet&amp;JSPçš„å­¦ä¹ çŸ¥è¯†è‡ªå·±é˜…è¯»ä¹¦ç±ä¹‹åçš„ç¬”è®°æ•´ç†ï¼Œå°šæœªè‡ªå·±åŠ¨æ‰‹å†™å·¥ç¨‹é¡¹ç›®ï¼Œä¸€äº›ç»†èŠ‚ä¸Šçš„çŸ¥è¯†ç‚¹ä¹Ÿå¹¶æ²¡æœ‰å­¦ä»¥è‡´ç”¨ï¼Œç°åœ¨å°†é€šè¿‡åŠä¸ªæœˆçš„æ•´ç†ï¼Œç»“åˆæ–¹è€å¸ˆçš„è§†é¢‘ï¼Œå®æ“å·¥ç¨‹é¡¹ç›®ï¼Œå°†æ•´ä¸ªJavawebçš„çŸ¥è¯†å®Œå…¨ï¼Œé€å½»åœ°æŒæ¡ï¼Œå¹¶å°†è®¤çœŸçš„è®°å½•è¿™æ¬¡çš„åšå®¢ç¬”è®°!!!</p><p>ps:è¯¥ç¯‡è®²è¿°çš„æ˜¯ <strong>Servletç›¸å…³çš„ç»†èŠ‚é—®é¢˜</strong> ï¼Œ<strong>è¯»å–èµ„æºæ–‡ä»¶çš„ä¸‰ç§æ–¹å¼</strong> ä»¥åŠä»‹ç» <strong>ServletConfig &amp; ServletContext</strong> ä¸¤ä¸ªé‡è¦æ¦‚å¿µ</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>ç”±äºå®¢æˆ·ç«¯æ˜¯é€šè¿‡URLåœ°å€è®¿é—®webæœåŠ¡å™¨ä¸­çš„èµ„æºï¼Œæ‰€ä»¥Servletç¨‹åºè‹¥æƒ³è¢«å¤–ç•Œè®¿é—®ï¼Œå¿…é¡»æŠŠservletç¨‹åºæ˜ å°„åˆ°ä¸€ä¸ªURLåœ°å€ä¸Šï¼Œè¿™ä¸ªå·¥ä½œåœ¨web.xmlæ–‡ä»¶ä¸­ä½¿ç”¨<servlet>å…ƒç´ å’Œ<servlet-mapping>å…ƒç´ å®Œæˆï¼Œå‰è€…ç”¨äºæ³¨å†ŒServletï¼Œåè€…ç”¨äºæ˜ å°„è®¿é—®åœ°å€ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-params">&lt;web-app&gt;</span><br><span class="hljs-params">&lt;servlet&gt;</span><br><span class="hljs-params">&lt;servlet-name&gt;</span>AnyName<span class="hljs-params">&lt;/servlet-name&gt;</span><br><span class="hljs-params">&lt;servlet-class&gt;</span>HelloServlet<span class="hljs-params">&lt;/servlet-class&gt;</span><br><span class="hljs-params">&lt;/servlet&gt;</span><br><span class="hljs-params">&lt;servlet-mapping&gt;</span><br><span class="hljs-params">&lt;servlet-name&gt;</span>AnyName<span class="hljs-params">&lt;/servlet-name&gt;</span><br><span class="hljs-params">&lt;url-pattern&gt;</span><span class="hljs-meta-keyword">/demo/</span>hello.html<span class="hljs-params">&lt;/url-pattern&gt;</span><br><span class="hljs-params">&lt;/servlet-mapping&gt;</span><br><span class="hljs-params">&lt;/web-app&gt;</span><br></code></pre></td></tr></table></figure><p>åŒä¸€ä¸ªServletå¯ä»¥è¢«æ˜ å°„åˆ°å¤šä¸ªURLä¸Šï¼Œå³å¤šä¸ª<servlet-mapping>å…ƒç´ çš„<servlet-name>å­å…ƒç´ çš„è®¾ç½®å€¼å¯ä»¥æ˜¯åŒä¸€ä¸ªServletçš„æ³¨å†Œåã€‚<br>åœ¨Servletæ˜ å°„åˆ°çš„URLä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨*é€šé…ç¬¦ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸¤ç§å›ºå®šçš„æ ¼å¼ï¼šä¸€ç§æ ¼å¼æ˜¯â€œ*.æ‰©å±•åâ€ï¼Œå¦ä¸€ç§æ ¼å¼æ˜¯ä»¥æ­£æ–œæ ï¼ˆ/ï¼‰å¼€å¤´å¹¶ä»¥â€œ/*â€ç»“å°¾ã€‚</p><p>Servletæ˜¯ä¸€ä¸ªä¾›å…¶ä»–Javaç¨‹åºï¼ˆServletå¼•æ“ï¼‰è°ƒç”¨çš„Javaç±»ï¼Œå®ƒä¸èƒ½ç‹¬ç«‹è¿è¡Œï¼Œå®ƒçš„è¿è¡Œå®Œå…¨ç”±Servletå¼•æ“æ¥æ§åˆ¶å’Œè°ƒåº¦ã€‚</p><p>é’ˆå¯¹å®¢æˆ·ç«¯çš„å¤šæ¬¡Servletè¯·æ±‚ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨åªä¼šåˆ›å»ºä¸€ä¸ªServletå®ä¾‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´Servletå®ä¾‹å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œå®ƒå°±ä¼šé©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸ºåç»­çš„å…¶å®ƒè¯·æ±‚æœåŠ¡ï¼Œç›´è‡³webå®¹å™¨é€€å‡ºï¼Œservletå®ä¾‹å¯¹è±¡æ‰ä¼šé”€æ¯ã€‚</p><p>åœ¨Servletçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ï¼ŒServletçš„initæ–¹æ³•åªè¢«è°ƒç”¨ä¸€æ¬¡ã€‚è€Œå¯¹ä¸€ä¸ªServletçš„æ¯æ¬¡è®¿é—®è¯·æ±‚éƒ½å¯¼è‡´Servletå¼•æ“è°ƒç”¨ä¸€æ¬¡servletçš„serviceæ–¹æ³•ã€‚å¯¹äºæ¯æ¬¡è®¿é—®è¯·æ±‚ï¼ŒServletå¼•æ“éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„HttpServletRequestè¯·æ±‚å¯¹è±¡å’Œä¸€ä¸ªæ–°çš„HttpServletResponseå“åº”å¯¹è±¡ï¼Œç„¶åå°†è¿™ä¸¤ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒè°ƒç”¨çš„Servletçš„service()æ–¹æ³•ï¼Œserviceæ–¹æ³•å†æ ¹æ®è¯·æ±‚æ–¹å¼åˆ†åˆ«è°ƒç”¨doXXXæ–¹æ³•ã€‚<br>å¦‚æœåœ¨<servlet>å…ƒç´ ä¸­é…ç½®äº†ä¸€ä¸ª<load-on-startup>å…ƒç´ ï¼Œé‚£ä¹ˆWEBåº”ç”¨ç¨‹åºåœ¨å¯åŠ¨æ—¶ï¼Œå°±ä¼šè£…è½½å¹¶åˆ›å»ºServletçš„å®ä¾‹å¯¹è±¡ã€ä»¥åŠè°ƒç”¨Servletå®ä¾‹å¯¹è±¡çš„init()æ–¹æ³•ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;servlet&gt;<br>&lt;servlet-<span class="hljs-type">name</span>&gt;<span class="hljs-keyword">invoker</span>&lt;/servlet-<span class="hljs-type">name</span>&gt;<br>&lt;servlet-<span class="hljs-keyword">class</span>&gt;<br>org.apache.catalina.servlets.InvokerServlet<br>&lt;/servlet-<span class="hljs-keyword">class</span>&gt;<br>&lt;<span class="hljs-keyword">load</span>-<span class="hljs-keyword">on</span>-startup&gt;<span class="hljs-number">2</span>&lt;/<span class="hljs-keyword">load</span>-<span class="hljs-keyword">on</span>-startup&gt;<br>&lt;/servlet&gt;<br></code></pre></td></tr></table></figure><p>æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ•°å­—è¶Šå°ï¼Œå…ˆå¯åŠ¨ã€‚<br>ç”¨é€”ï¼šä¸ºwebåº”ç”¨å†™ä¸€ä¸ªInitServletï¼Œè¿™ä¸ªservleté…ç½®ä¸ºå¯åŠ¨æ—¶è£…è½½ï¼Œä¸ºæ•´ä¸ªwebåº”ç”¨åˆ›å»ºå¿…è¦çš„æ•°æ®åº“è¡¨å’Œæ•°æ®ã€‚<br>å¦‚æœæŸä¸ªServletçš„æ˜ å°„è·¯å¾„ä»…ä»…ä¸ºä¸€ä¸ªæ­£æ–œæ ï¼ˆ/ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªServletå°±æˆä¸ºå½“å‰Webåº”ç”¨ç¨‹åºçš„ç¼ºçœServletã€‚<br>å‡¡æ˜¯åœ¨web.xmlæ–‡ä»¶ä¸­æ‰¾ä¸åˆ°åŒ¹é…çš„<servlet-mapping>å…ƒç´ çš„URLï¼Œå®ƒä»¬çš„è®¿é—®è¯·æ±‚éƒ½å°†äº¤ç»™ç¼ºçœServletå¤„ç†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç¼ºçœServletç”¨äºå¤„ç†æ‰€æœ‰å…¶ä»–Servletéƒ½ä¸å¤„ç†çš„è®¿é—®è¯·æ±‚ã€‚<br>åœ¨&lt;tomcatçš„å®‰è£…ç›®å½•&gt;\conf\web.xmlæ–‡ä»¶ä¸­ï¼Œæ³¨å†Œäº†ä¸€ä¸ªåç§°ä¸ºorg.apache.catalina.servlets.DefaultServletçš„Servletï¼Œå¹¶å°†è¿™ä¸ªServletè®¾ç½®ä¸ºäº†ç¼ºçœServletã€‚<br>å½“è®¿é—®TomcatæœåŠ¡å™¨ä¸­çš„æŸä¸ªé™æ€HTMLæ–‡ä»¶å’Œå›¾ç‰‡æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨è®¿é—®è¿™ä¸ªç¼ºçœServletã€‚</p><p><strong>çº¿ç¨‹å®‰å…¨</strong><br>å½“å¤šä¸ªå®¢æˆ·ç«¯å¹¶å‘è®¿é—®åŒä¸€ä¸ªServletæ—¶ï¼ŒwebæœåŠ¡å™¨ä¼šä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„è®¿é—®è¯·æ±‚åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œå¹¶åœ¨è¿™ä¸ªçº¿ç¨‹ä¸Šè°ƒç”¨Servletçš„serviceæ–¹æ³•ï¼Œå› æ­¤serviceæ–¹æ³•å†…å¦‚æœè®¿é—®äº†åŒä¸€ä¸ªèµ„æºçš„è¯ï¼Œå°±æœ‰å¯èƒ½å¼•å‘çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚<br>å¦‚æœæŸä¸ªServletå®ç°äº†SingleThreadModelæ¥å£ï¼Œé‚£ä¹ˆServletå¼•æ“å°†ä»¥å•çº¿ç¨‹æ¨¡å¼æ¥è°ƒç”¨å…¶serviceæ–¹æ³•ã€‚<br>SingleThreadModelæ¥å£ä¸­æ²¡æœ‰å®šä¹‰ä»»ä½•æ–¹æ³•ï¼Œåªè¦åœ¨Servletç±»çš„å®šä¹‰ä¸­å¢åŠ å®ç°SingleThreadModelæ¥å£çš„å£°æ˜å³å¯ã€‚<br>å¯¹äºå®ç°äº†SingleThreadModelæ¥å£çš„Servletï¼ŒServletå¼•æ“ä»ç„¶æ”¯æŒå¯¹è¯¥Servletçš„å¤šçº¿ç¨‹å¹¶å‘è®¿é—®ï¼Œå…¶é‡‡ç”¨çš„æ–¹å¼æ˜¯äº§ç”Ÿå¤šä¸ªServletå®ä¾‹å¯¹è±¡ï¼Œå¹¶å‘çš„æ¯ä¸ªçº¿ç¨‹åˆ†åˆ«è°ƒç”¨ä¸€ä¸ªç‹¬ç«‹çš„Servletå®ä¾‹å¯¹è±¡ã€‚<br>å®ç°SingleThreadModelæ¥å£å¹¶ä¸èƒ½çœŸæ­£è§£å†³Servletçš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› ä¸ºServletå¼•æ“ä¼šåˆ›å»ºå¤šä¸ªServletå®ä¾‹å¯¹è±¡ï¼Œè€ŒçœŸæ­£æ„ä¹‰ä¸Šè§£å†³å¤šçº¿ç¨‹å®‰å…¨é—®é¢˜æ˜¯æŒ‡ä¸€ä¸ªServletå®ä¾‹å¯¹è±¡è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨çš„é—®é¢˜ã€‚äº‹å®ä¸Šï¼Œåœ¨Servlet API 2.4ä¸­ï¼Œå·²ç»å°†SingleThreadModelæ ‡è®°ä¸ºDeprecatedï¼ˆè¿‡æ—¶çš„ï¼‰ã€‚<br>//å­ç±»åœ¨è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•æ˜¯ï¼Œä¸èƒ½æŠ›å‡ºæ¯”çˆ¶ç±»æ›´å¤šçš„å¼‚å¸¸   </p><p><strong>ServletConfigå¯¹è±¡</strong><br>åœ¨Servletçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª<init-param>æ ‡ç­¾ä¸ºservleté…ç½®ä¸€äº›åˆå§‹åŒ–å‚æ•°ã€‚<br>å½“servleté…ç½®äº†åˆå§‹åŒ–å‚æ•°åï¼Œwebå®¹å™¨åœ¨åˆ›å»ºservletå®ä¾‹å¯¹è±¡æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¿™äº›åˆå§‹åŒ–å‚æ•°å°è£…åˆ°ServletConfigå¯¹è±¡ä¸­ï¼Œå¹¶åœ¨è°ƒç”¨servletçš„initæ–¹æ³•æ—¶ï¼Œå°†ServletConfigå¯¹è±¡ä¼ é€’ç»™servletã€‚è¿›è€Œï¼Œç¨‹åºå‘˜é€šè¿‡ServletConfigå¯¹è±¡å°±å¯ä»¥å¾—åˆ°å½“å‰servletçš„åˆå§‹åŒ–å‚æ•°ä¿¡æ¯ã€‚<br>é˜…è¯»ServletConfig APIï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜è¯¥å¯¹è±¡çš„ä½œç”¨ï¼š  </p><ul><li>è·å¾—å­—ç¬¦é›†ç¼–ç </li><li>è·å¾—æ•°æ®åº“è¿æ¥ä¿¡æ¯</li><li>è·å¾—é…ç½®æ–‡ä»¶ï¼ŒæŸ¥çœ‹strutsæ¡ˆä¾‹çš„web.xmlæ–‡ä»¶</li></ul><p><strong>ServletContextå¯¹è±¡</strong><br>WEBå®¹å™¨åœ¨å¯åŠ¨æ—¶ï¼Œå®ƒä¼šä¸ºæ¯ä¸ªWEBåº”ç”¨ç¨‹åºéƒ½åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ServletContextå¯¹è±¡ï¼Œå®ƒä»£è¡¨å½“å‰webåº”ç”¨ã€‚</p><p>ServletContextå¯¹è±¡è¢«åŒ…å«åœ¨ServletConfigå¯¹è±¡ä¸­ï¼Œå¼€å‘äººå‘˜åœ¨ç¼–å†™servletæ—¶ï¼Œå¯ä»¥é€šè¿‡ServletConfig.getServletContextæ–¹æ³•è·å¾—å¯¹ServletContextå¯¹è±¡çš„å¼•ç”¨ã€‚</p><p>ç”±äºä¸€ä¸ªWEBåº”ç”¨ä¸­çš„æ‰€æœ‰Servletå…±äº«åŒä¸€ä¸ªServletContextå¯¹è±¡ï¼Œå› æ­¤Servletå¯¹è±¡ä¹‹é—´å¯ä»¥é€šè¿‡ServletContextå¯¹è±¡æ¥å®ç°é€šè®¯ã€‚ServletContextå¯¹è±¡é€šå¸¸ä¹Ÿè¢«ç§°ä¹‹ä¸ºcontextåŸŸå¯¹è±¡ã€‚<br>å…³äºServletConetxtçš„åº”ç”¨ï¼š<br>1.å¤šä¸ªServletå…±äº«æ•°æ®  </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ServletDemo6</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>ã€€ã€€ã€€ã€€public void doGet(<span class="hljs-type">HttpServletRequest</span> request, <span class="hljs-type">HttpServletResponse</span> response)<span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>ã€€ã€€ã€€ã€€<span class="hljs-comment">//å¾—åˆ°servletContext</span><br>ã€€ã€€ã€€ã€€<span class="hljs-type">ServletContext</span> context=<span class="hljs-keyword">this</span>.getServletConfig().getServletContext();<br>ã€€ã€€ã€€ã€€<span class="hljs-type">ServletContext</span> context2=<span class="hljs-keyword">this</span>.getServletContext();<br>ã€€ã€€ã€€ã€€<span class="hljs-type">String</span> data=<span class="hljs-string">&quot;aaaaa&quot;</span>;<br>ã€€ã€€ã€€ã€€context.setAttribute(<span class="hljs-string">&quot;data&quot;</span>, data);<br>ã€€ã€€ã€€ã€€&#125;<br>ã€€ã€€ã€€ã€€&#125;<br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ServletDemo8</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>public void doGet(<span class="hljs-type">HttpServletRequest</span> request, <span class="hljs-type">HttpServletResponse</span> response)<br>ã€€ã€€<span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>ã€€<span class="hljs-type">String</span> value = (<span class="hljs-type">String</span>) <span class="hljs-keyword">this</span>.getServletContext().getAttribute(<span class="hljs-string">&quot;data&quot;</span>);<br>ã€€response.getOutputStream().write(value.getBytes());<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2.è·å–WEBåº”ç”¨çš„åˆå§‹åŒ–å‚æ•°ã€€</p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sqf">&lt;context-<span class="hljs-built_in">param</span>&gt;<br>ã€€&lt;<span class="hljs-built_in">param</span>-<span class="hljs-built_in">name</span>&gt;data&lt;/<span class="hljs-built_in">param</span>-<span class="hljs-built_in">name</span>&gt;<br>&lt;<span class="hljs-built_in">param</span>-value&gt;zzzz&lt;/<span class="hljs-built_in">param</span>-value&gt;<br>&lt;/context-<span class="hljs-built_in">param</span>&gt;this.getServletContext().getAttribute(<span class="hljs-string">&quot;data&quot;</span>);<br></code></pre></td></tr></table></figure><p>3.å®ç°Servletçš„è½¬å‘ã€€ã€€</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">RequestDispatcher rd=<span class="hljs-keyword">this</span>.getServletContext().getRequestDispatcher(<span class="hljs-string">&quot;/1.jsp&quot;</span>);<br>rd.forward(request, response);<br></code></pre></td></tr></table></figure><p><strong>åˆ©ç”¨ServletContextå¯¹è±¡è¯»å–èµ„æºæ–‡ä»¶</strong><br>å¾—åˆ°æ–‡ä»¶è·¯å¾„è¯»å–èµ„æºæ–‡ä»¶çš„å‡ ç§æ–¹å¼ï¼š<br>1.ä¼ ç»Ÿæ–¹å¼ï¼Œåšwebå·¥ç¨‹æ—¶ä¸å»ºè®®ä½¿ç”¨ï¼Œä¼šåœ¨tomcatæœåŠ¡å™¨çš„binç›®å½•ä¸‹å¯»æ‰¾ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ æ–‡ä»¶ã€‚psï¼šjavaåŸåˆ™ï¼Œä»£ç ç”±è°è¿è¡Œï¼Œåˆ™è·¯å¾„ç›¸å¯¹äºè°(tomcatä½¿ç”¨JVMè¿è¡Œä»£ç )ã€‚ã€€ã€€</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@Override<br>public void <span class="hljs-keyword">do</span><span class="hljs-constructor">Get(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>  FileInputStream <span class="hljs-keyword">in</span> = <span class="hljs-keyword">new</span> <span class="hljs-constructor">FileInputStream(<span class="hljs-string">&quot;db.properties&quot;</span>)</span>;<br>  <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-keyword">in</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>2.é€šè¿‡ServletContextç®¡ç†webå·¥ç¨‹ä¸‹çš„èµ„æº~ã€€ã€€</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">url=jdbc:mysql:<span class="hljs-comment">//localhost:3306/test</span><br>username=root<br>password=root<br>db.propertiesæ”¾åœ¨ srcç›®å½•ä¸‹,å› ä¸ºè¯¥ç›®å½•ä¸‹çš„èµ„æºæ–‡ä»¶å‘å¸ƒæ—¶ä¼šå‘åˆ°/WEB-INF/classesç›®å½•ä¸‹<br><br>InputStreamin=this.get<span class="hljs-constructor">ServletContext()</span>.get<span class="hljs-constructor">ResourceAsStream(<span class="hljs-string">&quot;/WEB-INF/classes/db.properties&quot;</span>)</span>;<br><span class="hljs-comment">//InputStreamin=this.getServletContext().getResourceAsStream(&quot;db.properties&quot;);   æ”¾åœ¨webrootä¸‹æ—¶</span><br>Properties props=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Properties()</span>;<br>props.load(<span class="hljs-keyword">in</span>);<br><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(props.get<span class="hljs-constructor">Property(<span class="hljs-string">&quot;url&quot;</span>)</span>);<br><span class="hljs-comment">//ä¹Ÿå¯ä»¥å…ˆç”¨getRealPathè·å–ç»å¯¹è·¯å¾„ç„¶åé‡‡ç”¨ä¼ ç»Ÿæ–¹æ³•</span><br></code></pre></td></tr></table></figure><p>3.ä½¿ç”¨ç±»è£…è½½å™¨æ–¹å¼ã€€ã€€</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ServletContextDemo4</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>ã€€<span class="hljs-meta">@Override</span><br>public void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br><span class="hljs-comment">//è·å–åˆ°è£…åœ¨å½“å‰ç±»çš„ç±»è£…è½½å™¨(ä¸“ä¸š~ä¸é€‚åˆç”¨äºå¤§æ–‡ä»¶ï¼Œä¼šå¯¼è‡´jvmå†…å­˜æº¢å‡º)</span><br>    <span class="hljs-type">ClassLoader</span> loader = <span class="hljs-type">ServletContextDemo4</span>.<span class="hljs-keyword">class</span>.getClassLoader();<br><br>    <span class="hljs-type">InputStream</span> in = loader.getResourceAsStream(<span class="hljs-string">&quot;db.properties&quot;</span>);<br>    <span class="hljs-comment">//InputStream in = loader.getResourceAsStream(&quot;context/db.properties&quot;);  åœ¨åŒ…ä¸‹çš„èµ„æºæ–‡ä»¶</span><br>    <span class="hljs-type">Properties</span> prop = <span class="hljs-keyword">new</span> <span class="hljs-type">Properties</span>();<br>    prop.load(in);<br>    <span class="hljs-type">System</span>.out.println(prop.getProperty(<span class="hljs-string">&quot;url&quot;</span>));<br>ã€€&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>4.å¯¹äºå¤§æ–‡ä»¶æ“ä½œã€€ã€€</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-comment">//è¯»å–aaa.mp4ï¼Œå¹¶æ‹·è´åˆ°e:\æ ¹ç›®å½•ä¸‹</span><br>ã€€<span class="hljs-comment">//è·å¾—æ–‡ä»¶å</span><br>ã€€<span class="hljs-keyword">String</span> path = <span class="hljs-keyword">this</span>.<span class="hljs-built_in">getServletContext</span>().<span class="hljs-built_in">getRealPath</span>(<span class="hljs-string">&quot;/WEB-INF/classes/aaa.mp4&quot;</span>);<br>ã€€path = path.<span class="hljs-built_in">substring</span>(path.<span class="hljs-built_in">lastIndexOf</span>(<span class="hljs-string">&quot;\\&quot;</span>)+<span class="hljs-number">1</span>);<br><br>FileInputStream in = <span class="hljs-keyword">this</span>.<span class="hljs-built_in">getServletContext</span>().<span class="hljs-built_in">getResourceAsStream</span>(<span class="hljs-string">&quot;/WEB-INF/classes/aaa.mp4&quot;</span>)<br><span class="hljs-keyword">byte</span> buffer[] = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-keyword">int</span> len=<span class="hljs-number">0</span>;<br><br>    FileOutputStream out = <span class="hljs-keyword">new</span> <span class="hljs-built_in">FileOutStream</span>(<span class="hljs-string">&quot;e:\\&quot;</span> + filename);<br>    <span class="hljs-keyword">while</span>(len=in.<span class="hljs-built_in">read</span>(buffer)&gt;<span class="hljs-number">0</span>)&#123;<br>    ã€€out.<span class="hljs-built_in">write</span>(buffer,<span class="hljs-number">0</span>,len);<br>    &#125;<br>    out.<span class="hljs-built_in">close</span>();<br>  ã€€in.<span class="hljs-built_in">close</span>();<br></code></pre></td></tr></table></figure><p><strong>ç¼“å­˜çš„åº”ç”¨</strong><br><img src="/img/huancun.jpg" alt="img"><br>ä¸€ä¸ªç½‘ç«™æœ‰å¾ˆå¤šé™æ€èµ„æºï¼Œä¾‹å¦‚cssæ–‡ä»¶ã€htmlé¡µé¢ã€gifå›¾ç‰‡ç­‰ç­‰ï¼Œè¿™äº›æ–‡ä»¶ä¸€æ—¦åˆ›å»ºï¼Œæœ‰å¯èƒ½æ°¸è¿œä¸ä¼šæ›´æ–°ã€‚å½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è®¿é—®è¿™äº›æ–‡ä»¶æ—¶ï¼ŒæœåŠ¡å™¨åœ¨æŠŠæ–‡ä»¶æ•°æ®äº¤ç»™å®¢æˆ·ç«¯çš„åŒæ—¶ï¼Œå°±åº”è¯¥é€šçŸ¥å®¢æˆ·ç«¯ç¼“å­˜è¿™äº›æ–‡ä»¶ï¼Œä»¥åå®¢æˆ·ç«¯æ¯æ¬¡è®¿é—®ï¼ŒæœåŠ¡å™¨å¦‚æœå‘ç°æ–‡ä»¶æ²¡æ›´æ–°ï¼Œåˆ™åº”è¦å®¢æˆ·ç«¯å»æ‹¿å®ƒç¼“å­˜ä¸­çš„æ–‡ä»¶ï¼Œä»¥å‡è½»æœåŠ¡å™¨çš„å‹åŠ›ã€‚</p><p>ç¼–ç¨‹ï¼šä½¿ç”¨ä¸€ä¸ªservletè¯»å–ä¸€ä¸ªæ–‡ä»¶æ•°æ®ç»™å®¢æˆ·ç«¯ï¼Œå½“æ–‡ä»¶æ•°æ®æœªæ›´æ–°æ—¶ï¼Œé€šçŸ¥å®¢æˆ·ç«¯å»è®¿é—®å®ƒç¼“å­˜ä¸­çš„æ•°æ®ï¼Œå¦‚æœæ–‡ä»¶æ•°æ®æ›´æ–°äº†ï¼Œåˆ™å‘å®¢æˆ·ç«¯è¿”å›æœ€æ–°æ•°æ®ã€‚</p><p>TomcatæœåŠ¡å™¨ä¸­çš„æ‰€æœ‰é™æ€webèµ„æºï¼Œéƒ½æ˜¯ç”±ä¸€ä¸ªç¼ºçœservletè´Ÿè´£è¯»å–å›é€ç»™å®¢æˆ·ç«¯çš„ï¼Œå®ƒå°±æ˜¯ä»¥ä¸Šæ–¹å¼æ¥æå‡æœåŠ¡å™¨çš„æ€§èƒ½ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ServletContextDemo5</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br><span class="hljs-meta">@Override</span><br>public void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>   <span class="hljs-type">String</span> data = <span class="hljs-string">&quot;abc&quot;</span>;<br>     reponse.setDataHeader(<span class="hljs-string">&quot;expires&quot;</span>,<span class="hljs-type">System</span>.currentTimeMillis()+<span class="hljs-number">24</span>*<span class="hljs-number">3600</span>*<span class="hljs-number">1000</span>);<br><br>     response.getOutputStream().write(data.getBytes());<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ServletConfig-ä¸-ServletContext"><a href="#ServletConfig-ä¸-ServletContext" class="headerlink" title="ServletConfig ä¸ ServletContext"></a>ServletConfig ä¸ ServletContext</h2><h4 id="ServletConfig"><a href="#ServletConfig" class="headerlink" title="ServletConfig"></a>ServletConfig</h4><p>Webå®¹å™¨å¯åŠ¨åï¼Œè¯»å–web.xmlçš„è®¾ç½®ï¼Œæ ¹æ®æ¯ä¸ªServletè®¾ç½®ï¼Œåœ¨Servletç±»åŠ è½½å¹¶å®ä¾‹åŒ–æ—¶ï¼Œä¸ºæ¯ä¸ªServletè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªServletConfigå¯¹è±¡ï¼Œå¹¶åœ¨è°ƒç”¨servletçš„initæ–¹æ³•æ—¶ï¼Œå°†ServletConfigå¯¹è±¡ä¼ é€’ç»™Servletã€‚è¿›è€Œï¼Œç¨‹åºå‘˜é€šè¿‡Servletå¯¹è±¡å¾—åˆ°å½“å‰servletçš„åˆå§‹åŒ–å‚æ•°ä¿¡æ¯ã€‚</p><p>åœ¨xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª<init-param>æ ‡ç­¾ä¸ºservleté…ç½®ä¸€äº›åˆå§‹åŒ–å‚æ•°ã€‚</p><p>åœ¨ç»§æ‰¿HttpServeltåï¼Œé€šå¸¸ä¼šé‡å†™æ— å‚æ•°çš„init()æ–¹æ³•ä»¥å–å¾—Servletçš„åˆå§‹å‚æ•°ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AddMessgae</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServelt</span></span>&#123;<br>  <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-type">PARAM1</span>;<br>  <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-type">PARAM2</span>;<br>  public void init() <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>&#123;<br>    <span class="hljs-keyword">super</span>.init();<br>    <span class="hljs-type">PARAM1</span>=getInitParameter(<span class="hljs-string">&quot;PARAM1&quot;</span>);<br>    <span class="hljs-type">PARAM2</span>=getInitParameter(<span class="hljs-string">&quot;PARAM2&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext"></a>ServletContext</h4><p>æ•´ä¸ªWebåº”ç”¨ç¨‹åºåŠ è½½Webå®¹å™¨åï¼Œå®¹å™¨è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªServletå¯¹è±¡ä»£è¡¨æ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œå¹¶è®¾ç½®ç»™ServletConfigï¼Œé€šè¿‡getServeltContext()æ–¹æ³•å–å¾—ã€‚<br>å¸¸ç”¨æ–¹æ³•ï¼š<br>1.getDequestDispatcher() è¯·æ±‚è½¬å‘ï¼Œå³å¤„ç†å®Œäº†ï¼Œåˆ†å‘åˆ°ä¸‹ä¸€ä¸ªJSPé¡µé¢æˆ–ä¸‹ä¸€ä¸ªActionç»§ç»­å¤„ç†ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">this</span>.getRequestDispatcher(<span class="hljs-string">&quot;/pages/some.jog&quot;</span>).forward(request,response);<br></code></pre></td></tr></table></figure><p>2.getResourcePaths() è·å–Webåº”ç”¨çš„æŸä¸ªç›®å½•æœ‰å“ªäº›æ–‡ä»¶ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-built_in">Iterator</span>&lt;<span class="hljs-keyword">String</span>&gt;avatars=getServletContext().getResourcePaths(<span class="hljs-string">&quot;/&quot;</span>).<span class="hljs-built_in">iterator</span>();<br><span class="hljs-keyword">while</span>(avatars.hasNext())&#123;<br>  <span class="hljs-keyword">String</span> avatar = avatars.next();<br>&#125;<br></code></pre></td></tr></table></figure><p>3.getResourceAsStream() åœ¨Webåº”ç”¨ç¨‹åºä¸­è¯»å–æŸä¸ªæ–‡ä»¶</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">out.<span class="hljs-built_in">println</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in"><span class="hljs-built_in">File</span></span>(<span class="hljs-string">&quot;filename&quot;</span>).<span class="hljs-built_in">getAbsolutePath</span>());<br></code></pre></td></tr></table></figure><p><strong>ServletContextåˆå§‹å‚æ•°:</strong></p><p>åœ¨xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª<context-param>æ ‡ç­¾ä¸ºservleté…ç½®ä¸€äº›åˆå§‹åŒ–å‚æ•°ã€‚</p><p>ä½•æ—¶è¯»å–å‚æ•°ï¼Ÿ åœ¨web.xmlä¸­è®¾ç½®å‘ŠçŸ¥Webå®¹å™¨ï¼Œåœ¨Webåº”ç”¨åˆå§‹åŒ–åæˆ–ç»“æŸé”€æ¯å‰ï¼Œè°ƒç”¨ServletContextListenerï¼Œå®ç°contextInitialized()æˆ–contextDestroyed()ï¼Œä¼ å…¥ServeltContextEventï¼Œå…¶å°è£…äº†ServletContextï¼Œç„¶åé€šè¿‡ServletContextEventçš„getServletContext()æ–¹æ³•å–å¾—ServletContextï¼Œè¯»å–åˆå§‹å‚æ•°ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-function"><span class="hljs-title">contextInitialized</span>(<span class="hljs-params">ServletContextEvent sce</span>)</span>&#123;<br>  ServletContext context = sce.getServletContext();<br>  <span class="hljs-built_in">String</span> avatars = context.getInitParameter(<span class="hljs-string">&quot;AVATAR&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ServletContextå±æ€§:</strong></p><p>åœ¨æ•´ä¸ªWebåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸå†…ï¼ŒServletæ‰€éœ€å…±äº«çš„æ•°æ®å¯ä»¥è®¾ç½®ä¸ºServletContextå±æ€§ã€‚</p><p>å¯ä»¥é€šè¿‡Servletçš„setAttribute()æ–¹æ³•è®¾ç½®å±æ€§ï¼Œä¹‹åé€šè¿‡getArrtibute()æ–¹æ³•å–å‡ºè¯¥å±æ€§ï¼Œç§»é™¤ç”¨removeAttribute()ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">public <span class="hljs-keyword">class</span> AvatarServlet2 extend HttpServlet&#123;<br>  protected void <span class="hljs-keyword">do</span><span class="hljs-constructor">Get(HttpServletRequest <span class="hljs-params">request</span>,HttpServletResponse <span class="hljs-params">response</span>)</span><br>                                throws ServletException,IOException&#123;<br>    ...<br>    String avatarDir = (String) get<span class="hljs-constructor">ServletContext()</span>.get<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;avatars&quot;</span>)</span>;<br>    Iterator&lt;String&gt;avatars=get<span class="hljs-constructor">ServletContext()</span>.get<span class="hljs-constructor">ResourcePaths(<span class="hljs-params">avataDir</span>)</span>.iterator<span class="hljs-literal">()</span>;<br>    <span class="hljs-keyword">while</span>(avatars.has<span class="hljs-constructor">Next()</span>)&#123;<br>      String avatar = avatars.next<span class="hljs-literal">()</span>.replace<span class="hljs-constructor">First(<span class="hljs-string">&quot;/&quot;</span>,<span class="hljs-string">&quot;&quot;</span>)</span>;<br>      out.println(<span class="hljs-string">&quot;&lt;img src=\&quot;&quot;</span>+avator+<span class="hljs-string">&quot;\&quot;&gt;&quot;</span>);<br>    &#125;<br>    ...<br>  &#125;<br>&#125;<br>Iterator&lt;String&gt;avatars=get<span class="hljs-constructor">ServletContext()</span>.get<span class="hljs-constructor">ResourcePaths(<span class="hljs-string">&quot;/&quot;</span>)</span>.iterator<span class="hljs-literal">()</span>;<br><span class="hljs-keyword">while</span>(avatars.has<span class="hljs-constructor">Next()</span>)&#123;<br>  String avatar = avatars.next<span class="hljs-literal">()</span>;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1036. Boys vs Girls (25) -PATç”²çº§</title>
    <link href="/2018/01/30/2018-01-30-PAT-1036/"/>
    <url>/2018/01/30/2018-01-30-PAT-1036/</url>
    
    <content type="html"><![CDATA[<p>This time you are asked to tell the difference between the lowest grade of all the male students and the highest grade of all the female students.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case contains a positive integer N, followed by N lines of student information. Each line contains a studentâ€™s name, gender, ID and grade, separated by a space, where name and ID are strings of no more than 10 characters with no space, gender is either F (female) or M (male), and grade is an integer between 0 and 100. It is guaranteed that all the grades are distinct.</p><p><strong>Output Specification:</strong></p><p>For each test case, output in 3 lines. The first line gives the name and ID of the female student with the highest grade, and the second line gives that of the male student with the lowest grade. The third line gives the difference gradeF-gradeM. If one such kind of student is missing, output â€œAbsentâ€ in the corresponding line, and output â€œNAâ€ in the third line instead.</p><p><strong>Sample Input 1:</strong><br>3<br>Joe M Math990112 89<br>Mike M CS991301 100<br>Mary F EE990830 95<br><strong>Sample Output 1:</strong><br>Mary EE990830<br>Joe Math990112<br>6<br><strong>Sample Input 2:</strong><br>1<br>Jean M AA980920 60<br><strong>Sample Output 2:</strong><br>Absent<br>Jean AA980920<br>NA  </p><p>é¢˜ç›®å¤§æ„ï¼šæ‰¾å‡ºå¥³ç”Ÿæœ€é«˜åˆ†å’Œç”·ç”Ÿæœ€ä½åˆ†å¹¶è¾“å‡ºä»–ä»¬çš„å·®ï¼Œå¦‚æœæ²¡æœ‰çš„è¾“å‡ºAbsentï¼Œéƒ½æ²¡æœ‰è¾“å‡ºNAã€‚<br>åˆ†æï¼šæ°´é¢˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,f1=<span class="hljs-number">0</span>,f2=<span class="hljs-number">0</span>,grade;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">int</span> minn=<span class="hljs-number">105</span>,maxn=<span class="hljs-number">-1</span>;<br>    string name,sex,num,ans1,ans2;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        cin&gt;&gt;name&gt;&gt;sex&gt;&gt;num&gt;&gt;grade;<br>        <span class="hljs-keyword">if</span>(sex==<span class="hljs-string">&quot;M&quot;</span>)&#123;<br>            <span class="hljs-keyword">if</span>(grade&lt;minn)&#123;<br>                f1=<span class="hljs-number">1</span>;<br>                minn=grade;<br>                ans1=name+<span class="hljs-string">&#x27; &#x27;</span>+num;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-keyword">if</span>(grade&gt;maxn)&#123;<br>                f2=<span class="hljs-number">1</span>;<br>                maxn=grade;<br>                ans2=name+<span class="hljs-string">&#x27; &#x27;</span>+num;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(f2)cout&lt;&lt;ans2&lt;&lt;endl;<br>    <span class="hljs-keyword">else</span> cout&lt;&lt;<span class="hljs-string">&quot;Absent&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-keyword">if</span>(f1)cout&lt;&lt;ans1&lt;&lt;endl;<br>    <span class="hljs-keyword">else</span> cout&lt;&lt;<span class="hljs-string">&quot;Absent&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-keyword">if</span>(f1&amp;&amp;f2)cout&lt;&lt;maxn-minn&lt;&lt;endl;<br>    <span class="hljs-keyword">else</span> cout&lt;&lt;<span class="hljs-string">&quot;NA&quot;</span>&lt;&lt;endl;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1033. To Fill or Not to Fill (25) -PATç”²çº§</title>
    <link href="/2018/01/30/2018-02-01-PAT-1033/"/>
    <url>/2018/01/30/2018-02-01-PAT-1033/</url>
    
    <content type="html"><![CDATA[<p>With highways available, driving a car from Hangzhou to any other city is easy. But since the tank capacity of a car is limited, we have to find gas stations on the way from time to time. Different gas station may give different price. You are asked to carefully design the cheapest route to go.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains 4 positive numbers: Cmax (&lt;= 100), the maximum capacity of the tank; D (&lt;=30000), the distance between Hangzhou and the destination city; Davg (&lt;=20), the average distance per unit gas that the car can run; and N (&lt;= 500), the total number of gas stations. Then N lines follow, each contains a pair of non-negative numbers: Pi, the unit gas price, and Di (&lt;=D), the distance between this station and Hangzhou, for i=1,â€¦N. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, print the cheapest price in a line, accurate up to 2 decimal places. It is assumed that the tank is empty at the beginning. If it is impossible to reach the destination, print â€œThe maximum travel distance = Xâ€ where X is the maximum possible distance the car can run, accurate up to 2 decimal places.</p><p><strong>Sample Input 1:</strong><br>50 1300 12 8<br>6.00 1250<br>7.00 600<br>7.00 150<br>7.10 0<br>7.20 200<br>7.50 400<br>7.30 1000<br>6.85 300<br><strong>Sample Output 1:</strong><br>749.17<br><strong>Sample Input 2:</strong><br>50 1300 12 2<br>7.10 0<br>7.00 600<br><strong>Sample Output 2:</strong><br>The maximum travel distance = 1200.00  </p><p>é¢˜ç›®å¤§æ„ï¼šä¸€è¾†è½¦ä»Aåœ°å¼€å¾€Båœ°ï¼Œ æ²¹é‡ä¸Šé™Cmaxï¼Œä¸¤åœ°ç›¸è·d,æ¯å•ä½æ²¹èƒ½è·‘Davgè·ç¦»ï¼Œä¸­é—´æœ‰Nä¸ªåŠ æ²¹ç«™ï¼Œæ”¶è´¹ä¸ä¸€ï¼Œé—®å¦‚ä½•åŠ æ²¹èƒ½ä½¿ä»Aåˆ°Bæ‰€èŠ±æ²¹è´¹æœ€å°‘ï¼Œè‹¥åˆ°ä¸äº†ï¼Œè¾“å‡ºæœ€è¿œè·ç¦»ã€‚<br>åˆ†æï¼šè´ªå¿ƒæ€è·¯ï¼Œå…ˆåˆ¤æ–­èµ·ç‚¹è‹¥æ— åŠ æ²¹ç«™åˆ™è¾“å‡º0.00ï¼Œåœ¨å½“å‰æ²¹é‡èƒ½åˆ°è¾¾çš„æœ€è¿œè·ç¦»å†…å¯»æ‰¾ï¼Œè‹¥èƒ½æ‰¾åˆ°æ¯”ç°æ²¹è´¹æ›´ä¾¿å®œçš„ç‚¹ï¼ŒåŠ èƒ½åˆšå¥½åˆ°è¾¾é‚£ä¸ªç‚¹çš„æ²¹ï¼Œè‹¥æ‰¾ä¸åˆ°ï¼Œæ‰¾ä¸€ä¸ªæ²¹è´¹æœ€ä½çš„ç‚¹ï¼Œåœ¨å½“å‰ç‚¹åŠ æ»¡ï¼Œä»¥æ­¤ç±»æ¨ï¼Œè¯¦æƒ…è§æ³¨é‡Šã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf=<span class="hljs-number">99999999</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><br>    <span class="hljs-keyword">double</span> price,dis;<br>&#125;aa[<span class="hljs-number">10005</span>];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(node a,node b)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> a.dis&lt;b.dis;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">double</span> cmax,d,davg;<br>    <span class="hljs-keyword">double</span> nowd=<span class="hljs-number">0.0</span>,maxd=<span class="hljs-number">0.0</span>,nowp=<span class="hljs-number">0.0</span>,tp=<span class="hljs-number">0.0</span>,ld=<span class="hljs-number">0.0</span>;<br>    cin&gt;&gt;cmax&gt;&gt;d&gt;&gt;davg&gt;&gt;n;<br>    aa[<span class="hljs-number">0</span>]=&#123;<span class="hljs-number">0.0</span>,d&#125;;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>        cin&gt;&gt;aa[i].price&gt;&gt;aa[i].dis;<br>    <span class="hljs-built_in">sort</span>(aa,aa+n+<span class="hljs-number">1</span>,cmp);<br>    <span class="hljs-keyword">if</span>(aa[<span class="hljs-number">0</span>].dis)&#123;<br>        cout&lt;&lt;<span class="hljs-string">&quot;The maximum travel distance = 0.00&quot;</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> nowp=aa[<span class="hljs-number">0</span>].price;<br>    <span class="hljs-keyword">while</span>(nowd&lt;d)&#123;<br>        maxd=nowd+cmax*davg;<br>        <span class="hljs-keyword">double</span> mind=<span class="hljs-number">0.0</span>,minp=inf;<br>        <span class="hljs-keyword">int</span> flag=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n&amp;&amp;aa[i].dis&lt;=maxd;i++)&#123;<br>            <span class="hljs-keyword">if</span>(aa[i].dis&lt;=nowd)<span class="hljs-keyword">continue</span>;      <span class="hljs-comment">//ç­›æ‰å‰é¢çš„</span><br>            <span class="hljs-keyword">if</span>(aa[i].price&lt;nowp)&#123;             <span class="hljs-comment">//æ›´ä¾¿å®œï¼ŒåŠ åˆšå¥½åˆ°é‚£ä¸ªç‚¹çš„æ²¹</span><br>                tp+=(aa[i].dis-nowd-ld)*nowp/davg;<br>                ld=<span class="hljs-number">0.0</span>;<br>                nowp=aa[i].price;<br>                nowd=aa[i].dis;<br>                flag=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(aa[i].price&lt;minp)&#123;              <span class="hljs-comment">//xæ‰¾å°½å¯èƒ½ä½çš„</span><br>                minp=aa[i].price;<br>                mind=aa[i].dis;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(!flag)&#123;                             <span class="hljs-comment">//æ— æ›´ä¾¿å®œçš„</span><br>            <span class="hljs-keyword">if</span>(minp!=inf)&#123;                     <span class="hljs-comment">//æœ‰å°½å¯èƒ½ä½çš„ï¼ŒåŠ æ»¡</span><br>                tp+=(nowp*(cmax-ld/davg));<br>                ld=cmax*davg-(mind-nowd);<br>                nowp=minp;<br>                nowd=mind;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;                              <span class="hljs-comment">//æ— å°½å¯èƒ½ä½çš„ï¼Œå‡‰äº†ï¼Œæœ€åå†²ä¸€ä¸‹</span><br>                nowd+=cmax*davg;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The maximum travel distance = %.2f&quot;</span>, nowd);<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.2lf&quot;</span>,tp);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1032. Sharing (25) -PATç”²çº§</title>
    <link href="/2018/01/30/2018-01-30-PAT-1032/"/>
    <url>/2018/01/30/2018-01-30-PAT-1032/</url>
    
    <content type="html"><![CDATA[<p>To store English words, one method is to use linked lists and store a word letter by letter. To save some space, we may let the words share the same sublist if they share the same suffix. For example, â€œloadingâ€ and â€œbeingâ€ are stored as showed in Figure 1.</p><p>Figure 1<br>You are supposed to find the starting position of the common suffix (e.g. the position of â€œiâ€ in Figure 1).</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains two addresses of nodes and a positive N (&lt;= 105), where the two addresses are the addresses of the first nodes of the two words, and N is the total number of nodes. The address of a node is a 5-digit positive integer, and NULL is represented by -1.</p><p>Then N lines follow, each describes a node in the format:</p><p>Address Data Next</p><p>where Address is the position of the node, Data is the letter contained by this node which is an English letter chosen from {a-z, A-Z}, and Next is the position of the next node.</p><p><strong>Output Specification:</strong></p><p>For each case, simply output the 5-digit starting position of the common suffix. If the two words have no common suffix, output â€œ-1â€ instead.</p><p><strong>Sample Input 1:</strong><br>11111 22222 9<br>67890 i 00002<br>00010 a 12345<br>00003 g -1<br>12345 D 67890<br>00002 n 00003<br>22222 B 23456<br>11111 L 00001<br>23456 e 67890<br>00001 o 00010<br><strong>Sample Output 1:</strong><br>67890<br><strong>Sample Input 2:</strong><br>00001 00002 4<br>00001 a 10001<br>10001 s -1<br>00002 a 10002<br>10002 t -1<br><strong>Sample Output 2:</strong><br>-1</p><p>é¢˜ç›®å¤§æ„ï¼šåˆ¤æ–­ä¸¤ä¸ªå•è¯æ˜¯å¦æœ‰ç›¸åŒåç¼€ï¼Œæœ‰åˆ™è¾“å‡ºå…¶å¼€å§‹ç›¸åŒçš„ä½ç½®ã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œç”¨ä¸€ä¸ªnextæ•°ç»„è®°ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œä¸€ä¸ªnumæ•°ç»„è®°æ˜¯å¦å‡ºç°è¿‡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;math.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string t;<br>    <span class="hljs-keyword">int</span> n,a,b,x,y;<br>    <span class="hljs-keyword">int</span> next[<span class="hljs-number">100005</span>];<br>    <span class="hljs-keyword">int</span> num[<span class="hljs-number">100005</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-built_in">mst</span>(next,<span class="hljs-number">-1</span>);<br>    cin&gt;&gt;a&gt;&gt;b&gt;&gt;n;<br>    <span class="hljs-keyword">while</span>(n--)&#123;<br>        cin&gt;&gt;x&gt;&gt;t&gt;&gt;y;<br>        next[x]=y;<br>    &#125;<br>    <span class="hljs-keyword">int</span> s=a;<br>    <span class="hljs-keyword">while</span>(s!=<span class="hljs-number">-1</span>)&#123;<br>        num[s]++;<br>        s=next[s];<br>    &#125;<br>    s=b;<br>    <span class="hljs-keyword">while</span>(s!=<span class="hljs-number">-1</span>)&#123;<br>        <span class="hljs-keyword">if</span>(num[s])<span class="hljs-keyword">break</span>;<br>        s=next[s];<br>    &#125;<br>    <span class="hljs-keyword">if</span>(s==<span class="hljs-number">-1</span>)cout&lt;&lt;s;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d&quot;</span>,s);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1031. Hello World for U (20) -PATç”²çº§</title>
    <link href="/2018/01/29/2018-01-29-PAT-1031/"/>
    <url>/2018/01/29/2018-01-29-PAT-1031/</url>
    
    <content type="html"><![CDATA[<p>Given any string of N (&gt;=5) characters, you are asked to form the characters into the shape of U. For example, â€œhelloworldâ€ can be printed as:</p><p>hã€€ã€€!<br>eã€€ã€€d<br>lã€€ã€€l<br>lowor  </p><p>That is, the characters must be printed in the original order, starting top-down from the left vertical line with n1 characters, then left to right along the bottom line with n2 characters, and finally bottom-up along the vertical line with n3 characters. And more, we would like U to be as squared as possible â€“ that is, it must be satisfied that n1 = n3 = max { k| k &lt;= n2 for all 3 &lt;= n2 &lt;= N } with n1 + n2 + n3 - 2 = N.<br><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case contains one string with no less than 5 and no more than 80 characters in a line. The string contains no white space.</p><p><strong>Output Specification:</strong></p><p>For each test case, print the input string in the shape of U as specified in the description.</p><p><strong>Sample Input:</strong><br>helloworld!<br><strong>Sample Output:</strong><br>hã€€ã€€!<br>eã€€ã€€d<br>lã€€ã€€l<br>lowor    </p><p>é¢˜ç›®å¤§æ„ï¼šè¾“å‡ºä¸€ä¸ªå°½å¯èƒ½æ–¹çš„ â€œUâ€ã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œn1=n3=(len+2)/3   </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n1,n2,n3;<br>    string s;<br>    cin&gt;&gt;s;<br>    <span class="hljs-keyword">int</span> len=s.<span class="hljs-built_in">length</span>();<br>    n1=n3=(len+<span class="hljs-number">2</span>)/<span class="hljs-number">3</span> ;<br>    n2=len<span class="hljs-number">-2</span>*n1;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n1<span class="hljs-number">-1</span>;i++)&#123;<br>        cout&lt;&lt;s[i];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;n2;j++)cout&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>;<br>        cout&lt;&lt;s[len<span class="hljs-number">-1</span>-i]&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=n1<span class="hljs-number">-1</span>;j&lt;=len-n1;j++)<br>        cout&lt;&lt;s[j];<br>    cout&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1025. PAT Ranking (25) -PATç”²çº§</title>
    <link href="/2018/01/29/2018-01-29-PAT-1025/"/>
    <url>/2018/01/29/2018-01-29-PAT-1025/</url>
    
    <content type="html"><![CDATA[<p>Programming Ability Test (PAT) is organized by the College of Computer Science and Technology of Zhejiang University. Each test is supposed to run simultaneously in several places, and the ranklists will be merged immediately after the test. Now it is your job to write a program to correctly merge all the ranklists and generate the final rank.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains a positive number N (&lt;=100), the number of test locations. Then N ranklists follow, each starts with a line containing a positive integer K (&lt;=300), the number of testees, and then K lines containing the registration number (a 13-digit number) and the total score of each testee. All the numbers in a line are separated by a space.</p><p><strong>Output Specification:</strong></p><p>For each test case, first print in one line the total number of testees. Then print the final ranklist in the following format:</p><p>registration_number final_rank location_number local_rank</p><p>The locations are numbered from 1 to N. The output must be sorted in nondecreasing order of the final ranks. The testees with the same score must have the same rank, and the output must be sorted in nondecreasing order of their registration numbers.</p><p><strong>Sample Input:</strong><br>2<br>5<br>1234567890001 95<br>1234567890005 100<br>1234567890003 95<br>1234567890002 77<br>1234567890004 85<br>4<br>1234567890013 65<br>1234567890011 25<br>1234567890014 100<br>1234567890012 85<br><strong>Sample Output:</strong><br>9<br>1234567890005 1 1 1<br>1234567890014 1 2 1<br>1234567890001 3 1 2<br>1234567890003 3 1 2<br>1234567890004 5 1 4<br>1234567890012 5 2 2<br>1234567890002 7 1 5<br>1234567890013 8 2 3<br>1234567890011 9 2 4  </p><p>é¢˜ç›®å¤§æ„ï¼šNä¸ªè€ƒåœºé‡Œçš„äººè¿›è¡Œæˆç»©æ’åºï¼Œè¾“å‡ºæ€»æ’åï¼ŒåŸè€ƒåœºå·ï¼Œåœ¨å„è‡ªåŸè€ƒåœºæ’åï¼ŒåŒåˆ†æ’åä¸€æ ·ï¼ŒæŒ‰å­¦å·å…ˆåã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œvector+ç»“æ„ä½“æ’åºï¼Œç”¨mapå­˜äº†åŸæ’åï¼Œç²—å¿ƒæ²¡çœ‹è§åŒåˆ†æŒ‰å­¦å·æ’WAäº†ä¸¤æ¬¡QAQ</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span>&#123;</span><br>    string no;<br>    <span class="hljs-keyword">int</span> local;<br>    <span class="hljs-keyword">int</span> grade;<br>    <span class="hljs-keyword">int</span> rank;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Stu a,Stu b)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(a.grade==b.grade)<span class="hljs-keyword">return</span> a.no&lt;b.no;<br>    <span class="hljs-keyword">return</span> a.grade&gt;b.grade;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,m,sum=<span class="hljs-number">0</span>;<br>    vector&lt;Stu&gt;my;<br>    map&lt;string,<span class="hljs-keyword">int</span>&gt;mmap;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)&#123;<br>        cin&gt;&gt;m;<br>        <span class="hljs-comment">//sum+=m;</span><br>        vector&lt;Stu&gt;u;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;m;j++)&#123;<br>            Stu tmp;<br>            cin&gt;&gt;tmp.no&gt;&gt;tmp.grade;<br>            tmp.local=i;<br>            my.<span class="hljs-built_in">push_back</span>(tmp);<br>            u.<span class="hljs-built_in">push_back</span>(tmp);<br>        &#125;<br>        <span class="hljs-built_in">sort</span>(u.<span class="hljs-built_in">begin</span>(),u.<span class="hljs-built_in">end</span>(),cmp);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>;k&lt;m;k++)&#123;<br>            <span class="hljs-keyword">if</span>(!k)mmap[u[k].no]=k+<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">else</span> mmap[u[k].no]=u[k].grade==u[k<span class="hljs-number">-1</span>].grade?mmap[u[k<span class="hljs-number">-1</span>].no]:k+<span class="hljs-number">1</span>;<br><br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">sort</span>(my.<span class="hljs-built_in">begin</span>(),my.<span class="hljs-built_in">end</span>(),cmp);<br>    cout&lt;&lt;my.<span class="hljs-built_in">size</span>()&lt;&lt;endl;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;my.<span class="hljs-built_in">size</span>();i++)&#123;<br>        <span class="hljs-keyword">if</span>(!i)my[i].rank=i+<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> my[i].rank=my[i].grade==my[i<span class="hljs-number">-1</span>].grade?my[i<span class="hljs-number">-1</span>].rank:i+<span class="hljs-number">1</span>;<br>        cout&lt;&lt;my[i].no&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>&lt;&lt;my[i].rank&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>;<br>        cout&lt;&lt;my[i].local&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>&lt;&lt;mmap[my[i].no]&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1023. Have Fun with Numbers (20) -PATç”²çº§</title>
    <link href="/2018/01/29/2018-01-29-PAT-1023/"/>
    <url>/2018/01/29/2018-01-29-PAT-1023/</url>
    
    <content type="html"><![CDATA[<p>Notice that the number 123456789 is a 9-digit number consisting exactly the numbers from 1 to 9, with no duplication. Double it we will obtain 246913578, which happens to be another 9-digit number consisting exactly the numbers from 1 to 9, only in a different permutation. Check to see the result if we double it again!</p><p>Now you are suppose to check if there are more numbers with this property. That is, double a given number with k digits, you are to tell if the resulting number consists of only a permutation of the digits in the original number.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case contains one positive integer with no more than 20 digits.</p><p><strong>Output Specification:</strong></p><p>For each test case, first print in a line â€œYesâ€ if doubling the input number gives a number that consists of only a permutation of the digits in the original number, or â€œNoâ€ if not. Then in the next line, print the doubled number.</p><p><strong>Sample Input:</strong><br>1234567899<br><strong>Sample Output:</strong><br>Yes<br>2469135798</p><p>é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•°aï¼Œé—®a*2çš„ç»„æˆæ˜¯å¦å’Œaä¸€æ ·ã€‚</p><p>åˆ†æï¼šå¤§æ•°ä¹˜æ³•&amp;ç”¨ä¸€ä¸ªæ•°ç»„å»å­˜1~9çš„ä¸ªæ•°å°±å¥½äº†ï¼Œç†Ÿç»ƒå­¦ä¼šå¤§æ•°è¿ç®—åŸºæœ¬æ“ä½œ!!!</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string a;<br>    <span class="hljs-keyword">int</span> aa[<span class="hljs-number">25</span>],num[<span class="hljs-number">11</span>]=&#123;<span class="hljs-number">0</span>&#125;,up=<span class="hljs-number">0</span>;<br>    cin&gt;&gt;a;<br>    <span class="hljs-keyword">int</span> len=a.<span class="hljs-built_in">length</span>();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;len;i++)&#123;<br>        aa[len<span class="hljs-number">-1</span>-i]=a[i]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>        num[aa[len<span class="hljs-number">-1</span>-i]]++;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;len;i++)&#123;<br>        <span class="hljs-keyword">int</span> tmp=(aa[i]*<span class="hljs-number">2</span>+up)/<span class="hljs-number">10</span>;<br>        aa[i]=(aa[i]*<span class="hljs-number">2</span>+up)%<span class="hljs-number">10</span>;<br>        up=tmp;<br>        num[aa[i]]--;<br>    &#125;<br>    <span class="hljs-keyword">int</span> i,j;<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">10</span>;i++)&#123;<br>        <span class="hljs-keyword">if</span>(num[i])&#123;<br>            cout&lt;&lt;<span class="hljs-string">&quot;No&quot;</span>&lt;&lt;endl;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<span class="hljs-keyword">if</span>(i==<span class="hljs-number">11</span>)cout&lt;&lt;<span class="hljs-string">&quot;Yes&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-keyword">if</span>(up)&#123;j=len;aa[j]=up;&#125;<br>    <span class="hljs-keyword">else</span> j=len<span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">while</span>(j&gt;=<span class="hljs-number">0</span>)cout&lt;&lt;aa[j--];<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1021. Deepest Root (25) -PATç”²çº§</title>
    <link href="/2018/01/29/2018-01-29-PAT-1021/"/>
    <url>/2018/01/29/2018-01-29-PAT-1021/</url>
    
    <content type="html"><![CDATA[<p>A graph which is connected and acyclic can be considered a tree. The height of the tree depends on the selected root. Now you are supposed to find the root that results in a highest tree. Such a root is called the deepest root.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains a positive integer N (&lt;=10000) which is the number of nodes, and hence the nodes are numbered from 1 to N. Then N-1 lines follow, each describes an edge by given the two adjacent nodesâ€™ numbers.</p><p><strong>Output Specification:</strong></p><p>For each test case, print each of the deepest roots in a line. If such a root is not unique, print them in increasing order of their numbers. In case that the given graph is not a tree, print â€œError: K componentsâ€ where K is the number of connected components in the graph.</p><p><strong>Sample Input 1:</strong><br>5<br>1 2<br>1 3<br>1 4<br>2 5<br><strong>Sample Output 1:</strong><br>3<br>4<br>5<br><strong>Sample Input 2:</strong><br>5<br>1 3<br>1 4<br>2 5<br>3 4<br><strong>Sample Output 2:</strong><br>Error: 2 components</p><p>é¢˜ç›®å¤§æ„ï¼šç»™ä¸€ä¸ªå›¾ï¼Œå³Nä¸ªç‚¹ï¼ŒN-1æ¡è¾¹ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯æ ‘ï¼Œè‹¥æ˜¯ï¼Œè¾“å‡ºå…¶ç›´å¾„ï¼Œå¯èƒ½æ˜¯å¤šä¸ªï¼Œè‹¥ä¸æ˜¯ï¼Œè¾“å‡ºæœ‰å‡ æ£µæ ‘ã€‚</p><p>åˆ†æï¼šæ˜¾ç„¶æ˜¯ä¸ªdfsâ€¦ä½†æ˜¯ä¸€ç›´ä¸æ˜¯å¾ˆä¼šï¼Œçœ‹äº†ç½‘ä¸Šçš„é¢˜è§£æ‰å†™å‡ºæ¥çš„ä»£ç .. æ ‡è®°äº†å‡ ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹:</p><ul><li>dfså†…å…ˆå†™åˆ¤æ–­visï¼Œå¦åˆ™ä¼šæœ‰éƒ¨åˆ†ç‚¹è¶…æ—¶ã€‚</li><li>å­¦ä¼šç”¨dfsæ‰¾æ ‘çš„ç›´å¾„ï¼Œå…ˆæ‰¾ä¸€ä¸ªç‚¹å‡ºæ¥çš„æœ€å¤§è·¯å¾„ï¼Œç„¶åæ‰¾æœ€å¤§è·¯å¾„çš„æœ€å¤§å€¼ã€‚</li><li>ç”¨dfsåˆ¤æ–­æ˜¯æ ‘è¿˜æ˜¯æ£®æ—(ä¹Ÿå¯ä»¥ç”¨å¹¶æŸ¥é›†)ï¼Œmsté‚£é‡Œéœ€è¦æ³¨æ„ã€‚</li><li>å›å¤´å¤šåˆ·å‡ é“dfs,bfså¥½å¥½åæ€â€¦</li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">int</span> vis[<span class="hljs-number">10005</span>],deep[<span class="hljs-number">10005</span>];<br>vector&lt;<span class="hljs-keyword">int</span>&gt; edge[<span class="hljs-number">10005</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> node)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(vis[node])<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    vis[node]=<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(edge[node].<span class="hljs-built_in">size</span>()==<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> maxn=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;edge[node].<span class="hljs-built_in">size</span>();i++)&#123;<br>        <span class="hljs-keyword">if</span>(vis[edge[node][i]]==<span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">int</span> tmp=<span class="hljs-built_in">dfs</span>(edge[node][i]);     <span class="hljs-comment">//**find max deep</span><br>            <span class="hljs-keyword">if</span>(tmp&gt;maxn)maxn=tmp;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxn+<span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,v1,v2;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n<span class="hljs-number">-1</span>;i++)&#123;<br>        cin&gt;&gt;v1&gt;&gt;v2;<br>        edge[v1].<span class="hljs-built_in">push_back</span>(v2);<br>        edge[v2].<span class="hljs-built_in">push_back</span>(v1);<br>    &#125;<br>    <span class="hljs-keyword">int</span> MAX=<span class="hljs-number">0</span>,num=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)&#123;<br>        <span class="hljs-keyword">if</span>(!num)<span class="hljs-built_in">mst</span>(vis,<span class="hljs-number">0</span>);<br>        deep[i]=<span class="hljs-built_in">dfs</span>(i);<br>        <span class="hljs-keyword">if</span>(deep[i]&gt;MAX)MAX=deep[i];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=i;j&lt;=n;j++)&#123;         <span class="hljs-comment">//judge</span><br>            <span class="hljs-keyword">if</span>(!vis[j])&#123;<br>                num++;<br>                i=j<span class="hljs-number">-1</span>;                 <span class="hljs-comment">//**</span><br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(num)cout&lt;&lt;<span class="hljs-string">&quot;Error: &quot;</span>&lt;&lt;num+<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-string">&quot; components&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)&#123;<br>            <span class="hljs-keyword">if</span>(deep[i]==MAX)<br>                cout&lt;&lt;i&lt;&lt;endl;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1017. Queueing at Bank (25) -PATç”²çº§</title>
    <link href="/2018/01/28/2018-01-28-PAT-1017/"/>
    <url>/2018/01/28/2018-01-28-PAT-1017/</url>
    
    <content type="html"><![CDATA[<p>Suppose a bank has K windows open for service. There is a yellow line in front of the windows which devides the waiting area into two parts. All the customers have to wait in line behind the yellow line, until it is his/her turn to be served and there is a window available. It is assumed that no window can be occupied by a single customer for more than 1 hour.</p><p>Now given the arriving time T and the processing time P of each customer, you are supposed to tell the average waiting time of all the customers.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. For each case, the first line contains 2 numbers: N (&lt;=10000) - the total number of customers, and K (&lt;=100) - the number of windows. Then N lines follow, each contains 2 times: HH:MM:SS - the arriving time, and P - the processing time in minutes of a customer. Here HH is in the range [00, 23], MM and SS are both in [00, 59]. It is assumed that no two customers arrives at the same time.</p><p>Notice that the bank opens from 08:00 to 17:00. Anyone arrives early will have to wait in line till 08:00, and anyone comes too late (at or after 17:00:01) will not be served nor counted into the average.</p><p><strong>Output Specification:</strong></p><p>For each test case, print in one line the average waiting time of all the customers, in minutes and accurate up to 1 decimal place.</p><p><strong>Sample Input:</strong><br>7 3<br>07:55:00 16<br>17:00:01 2<br>07:59:59 15<br>08:01:00 60<br>08:00:00 30<br>08:00:02 2<br>08:03:00 10<br><strong>Sample Output:</strong><br>8.2</p><p>é¢˜ç›®å¤§æ„ï¼šæœ‰Nä¸ªå®¢æˆ·å’ŒKä¸ªæ’é˜Ÿçª—å£ï¼Œä¹‹åNè¡Œæ•°æ®åˆ†åˆ«ç»™å‡ºæ¯ä¸ªå®¢æˆ·çš„åˆ°æ¥æ—¶é—´å’Œéœ€è¦æœåŠ¡æ—¶é—´ï¼Œé—®ï¼Œæ‰€æœ‰å®¢äººç­‰å¾…çš„å¹³å‡æ—¶é—´æœ€å°‘ä¸ºå¤šå°‘ã€‚ çª—å£8ç‚¹å¼€æ”¾ï¼Œä¸‹åˆ5ç‚¹ä¹‹ååˆ°æ¥çš„äººä¸ç®—ã€‚</p><p>åˆ†æï¼šè·Ÿä¹‹å‰å†™è¿‡çš„ä¸€é“é¢˜ä¸€æ ·â€¦ ç›´æ¥è®°å½•æ¯ä¸ªçª—å£çš„ç©ºé—²æ—¶é—´å°±å¥½äº†ï¼Œç„¶åéå†æ¯ä¸ªå®¢äººæ¥åˆ°æ—¶ï¼Œæ‰¾åˆ°ç©ºé—²æ—¶é—´æœ€æ—©çš„çª—å£ï¼Œå¦‚æœå°äºåˆ°æ¥æ—¶é—´ï¼Œåˆ™æ— éœ€ç­‰å¾…ï¼Œçª—å£ç©ºé—²æ—¶é—´æ›´æ›¿ä¸ºè¯¥å®¢äººåˆ°æ¥ <strong>æ—¶é—´+æœåŠ¡æ—¶é—´</strong>ï¼Œå¦åˆ™æ€»ç­‰å¾…æ—¶é—´é‡ŒåŠ ä¸Š <strong>ç©ºé—²æ—¶é—´-è¯¥å®¢æˆ·åˆ°æ¥æ—¶é—´</strong>ï¼Œçª—å£ç©ºé—²æ—¶é—´æ›´æ›¿ä¸º <strong>åŸç©ºé—²æ—¶é—´+æœåŠ¡æ—¶é—´</strong>ï¼Œæ³¨æ„å¤„ç†çª—å£8ç‚¹å¼€æ”¾å’Œ5ç‚¹åä¸å—ç†å³å¯~</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span>&#123;</span><br>    <span class="hljs-keyword">int</span> t1;<br>    <span class="hljs-keyword">int</span> t2;<br>&#125;stu[<span class="hljs-number">10005</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Stu a,Stu b)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> a.t1&lt;b.t1;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>  </span>&#123;<br>    <span class="hljs-keyword">int</span> n,k,win[<span class="hljs-number">105</span>];<br>    <span class="hljs-keyword">int</span> h,m,s,w,t=<span class="hljs-number">0</span>;<br>    cin&gt;&gt;n&gt;&gt;k;<br>    <span class="hljs-keyword">while</span>(n--)&#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d:%d:%d %d&quot;</span>,&amp;h,&amp;m,&amp;s,&amp;w);<br>        <span class="hljs-keyword">if</span>(h*<span class="hljs-number">3600</span>+m*<span class="hljs-number">60</span>+s&gt;<span class="hljs-number">17</span>*<span class="hljs-number">3600</span>)&#123;<span class="hljs-keyword">continue</span>;&#125;<br>        stu[t].t1=h*<span class="hljs-number">3600</span>+m*<span class="hljs-number">60</span>+s;<br>        stu[t].t2=w*<span class="hljs-number">60</span>;<br>        t++;<br>    &#125;<br>    <span class="hljs-built_in">sort</span>(stu,stu+t,cmp);<br>    <span class="hljs-keyword">double</span> sum=<span class="hljs-number">0.0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;k;i++)win[i]=<span class="hljs-number">3600</span>*<span class="hljs-number">8</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;t;i++)&#123;<br>        <span class="hljs-built_in">sort</span>(win,win+k);<br>        <span class="hljs-keyword">if</span>(win[<span class="hljs-number">0</span>]&gt;stu[i].t1)&#123;             <span class="hljs-comment">//wait</span><br>            sum+=win[<span class="hljs-number">0</span>]-stu[i].t1;<br>            win[<span class="hljs-number">0</span>]+=stu[i].t2;<br>        &#125;<br>        <span class="hljs-keyword">else</span> win[<span class="hljs-number">0</span>]=stu[i].t1+stu[i].t2;  <span class="hljs-comment">//no wait</span><br>    &#125;<br>    <span class="hljs-keyword">if</span>(t)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.1lf\n&quot;</span>,sum/<span class="hljs-number">60</span>/t);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0.0\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1016. Phone Bills (25) -PATç”²çº§</title>
    <link href="/2018/01/28/2018-01-31-PAT-1016/"/>
    <url>/2018/01/28/2018-01-31-PAT-1016/</url>
    
    <content type="html"><![CDATA[<p>A long-distance telephone company charges its customers by the following rules:</p><p>Making a long-distance call costs a certain amount per minute, depending on the time of day when the call is made. When a customer starts connecting a long-distance call, the time will be recorded, and so will be the time when the customer hangs up the phone. Every calendar month, a bill is sent to the customer for each minute called (at a rate determined by the time of day). Your job is to prepare the bills for each month, given a set of phone call records.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case has two parts: the rate structure, and the phone call records.</p><p>The rate structure consists of a line with 24 non-negative integers denoting the toll (cents/minute) from 00:00 - 01:00, the toll from 01:00 - 02:00, and so on for each hour in the day.</p><p>The next line contains a positive number N (&lt;= 1000), followed by N lines of records. Each phone call record consists of the name of the customer (string of up to 20 characters without space), the time and date (mm:dd:hh:mm), and the word â€œon-lineâ€ or â€œoff-lineâ€.</p><p>For each test case, all dates will be within a single month. Each â€œon-lineâ€ record is paired with the chronologically next record for the same customer provided it is an â€œoff-lineâ€ record. Any â€œon-lineâ€ records that are not paired with an â€œoff-lineâ€ record are ignored, as are â€œoff-lineâ€ records not paired with an â€œon-lineâ€ record. It is guaranteed that at least one call is well paired in the input. You may assume that no two records for the same customer have the same time. Times are recorded using a 24-hour clock.</p><p><strong>Output Specification:</strong></p><p>For each test case, you must print a phone bill for each customer.</p><p>Bills must be printed in alphabetical order of customersâ€™ names. For each customer, first print in a line the name of the customer and the month of the bill in the format shown by the sample. Then for each time period of a call, print in one line the beginning and ending time and date (dd:hh:mm), the lasting time (in minute) and the charge of the call. The calls must be listed in chronological order. Finally, print the total charge for the month in the format shown by the sample.</p><p><strong>Sample Input:</strong><br>10 10 10 10 10 10 20 20 20 15 15 15 15 15 15 15 20 30 20 15 15 10 10 10<br>10<br>CYLL 01:01:06:01 on-line<br>CYLL 01:28:16:05 off-line<br>CYJJ 01:01:07:00 off-line<br>CYLL 01:01:08:03 off-line<br>CYJJ 01:01:05:59 on-line<br>aaa 01:01:01:03 on-line<br>aaa 01:02:00:01 on-line<br>CYLL 01:28:15:41 on-line<br>aaa 01:05:02:24 on-line<br>aaa 01:04:23:59 off-line<br><strong>Sample Output:</strong><br>CYJJ 01<br>01:05:59 01:07:00 61 $12.10<br>Total amount: $12.10<br>CYLL 01<br>01:06:01 01:08:03 122 $24.40<br>28:15:41 28:16:05 24 $3.85<br>Total amount: $28.25<br>aaa 01<br>02:00:01 04:23:59 4318 $638.80<br>Total amount: $638.80  </p><p>é¢˜ç›®å¤§æ„ï¼šæ‰“ç”µè¯ï¼Œç»™å‡º24hå„æ—¶æ®µæ”¶è´¹ï¼Œä»¥åŠnæ¡é€šè®¯è®°å½•ï¼Œæ ¼å¼åå­—+æ—¶é—´+çŠ¶æ€(æ¥oræŒ‚)ï¼Œé—®æ¯ä¸ªäººçš„é€šè¯æ—¶é—´æ®µå’Œæ€»èŠ±è´¹ã€‚<br>åˆ†æï¼šé¢˜ç›®æœ‰ç‚¹éš¾â€¦çœ‹äº†é¢˜è§£åšå‡ºä»¥ä¸‹æ€»ç»“ã€‚</p><ul><li>ç”¨ç»“æ„ä½“å­˜å‚¨é€šè®¯è®°å½•çš„å§“åï¼Œæœˆï¼Œå¤©ï¼Œæ—¶ï¼Œåˆ†ï¼Œå¯¹åº”æ—¶é—´ï¼ŒçŠ¶æ€ã€‚  </li><li>æŒ‰ç…§å§“åæ—¶é—´æ’åºï¼Œæ•°æ®åˆ™ä¸ºåŒåon-off,on-ffçš„æ•°æ®äº†ã€‚  </li><li>ä¸ºæŸ¥æ‰¾ï¼Œç”¨mapå°†å§“åå’Œç»“æ„ä½“ <strong>æ•°ç»„</strong> åŒ¹é…ï¼Œå­˜å‚¨è¯¥äººçš„æ‰€æœ‰è®°å½•ã€‚</li><li>ç”¨moneyå‡½æ•°ç»Ÿè®¡èŠ±è´¹ï¼Œå¤„ç†æ—¶é—´åˆ†å¤©ï¼Œæ—¶ï¼Œåˆ†ã€‚</li></ul><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span>&#123;</span><br>    string name;<br>    <span class="hljs-keyword">int</span> month,day,hour,minute,time,oo;<br>&#125;stu[<span class="hljs-number">1005</span>];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Stu a,Stu b)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> a.name!=b.name?a.name&lt;b.name:a.time&lt;b.time;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">money</span><span class="hljs-params">(Stu x,<span class="hljs-keyword">int</span> *a)</span> </span>&#123;<br>    <span class="hljs-keyword">double</span> total=a[x.hour]*x.minute+a[<span class="hljs-number">24</span>]*<span class="hljs-number">60</span>*x.day;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;x.hour;i++)<br>        total+=a[i]*<span class="hljs-number">60</span>;<br>    <span class="hljs-keyword">return</span> total/<span class="hljs-number">100.0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> n,a[<span class="hljs-number">25</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">24</span>;i++)&#123;<br>        cin&gt;&gt;a[i];<br>        a[<span class="hljs-number">24</span>]+=a[i];<br>    &#125;<br>    cin&gt;&gt;n;<br>    string temp;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        cin&gt;&gt;stu[i].name;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d:%d:%d:%d&quot;</span>,&amp;stu[i].month,&amp;stu[i].day,&amp;stu[i].hour,&amp;stu[i].minute);<br>        cin&gt;&gt;temp;<br>        <span class="hljs-keyword">if</span>(temp==<span class="hljs-string">&quot;on-line&quot;</span>)stu[i].oo=<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> stu[i].oo=<span class="hljs-number">0</span>;<br>        stu[i].time+=stu[i].day*<span class="hljs-number">24</span>*<span class="hljs-number">60</span>+stu[i].hour*<span class="hljs-number">60</span>+stu[i].minute;<br>    &#125;<br>    <span class="hljs-built_in">sort</span>(stu,stu+n,cmp);<br>    map&lt;string,vector&lt;Stu&gt; &gt;mmap;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;n;i++)&#123;<br>        <span class="hljs-keyword">if</span>(stu[i].name==stu[i<span class="hljs-number">-1</span>].name&amp;&amp;stu[i].oo==<span class="hljs-number">0</span>&amp;&amp;stu[i<span class="hljs-number">-1</span>].oo)&#123;<br>            mmap[stu[i<span class="hljs-number">-1</span>].name].<span class="hljs-built_in">push_back</span>(stu[i<span class="hljs-number">-1</span>]);<br>            mmap[stu[i].name].<span class="hljs-built_in">push_back</span>(stu[i]);<br>        &#125;<br>    &#125;<br>    map&lt;string,vector&lt;Stu&gt; &gt;::iterator it;<br>    <span class="hljs-keyword">for</span>(it=mmap.<span class="hljs-built_in">begin</span>();it!=mmap.<span class="hljs-built_in">end</span>();it++)&#123;<br>        cout&lt;&lt;it-&gt;first;<br>        vector&lt;Stu&gt;temp=it-&gt;second;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %02d\n&quot;</span>,temp[<span class="hljs-number">0</span>].month);<br>        <span class="hljs-keyword">double</span> total=<span class="hljs-number">0.0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;temp.<span class="hljs-built_in">size</span>();i+=<span class="hljs-number">2</span>)&#123;<br>            <span class="hljs-keyword">double</span> t=<span class="hljs-built_in">money</span>(temp[i],a)-<span class="hljs-built_in">money</span>(temp[i<span class="hljs-number">-1</span>],a);<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%02d:%02d:%02d %02d:%02d:%02d %d $%.2f\n&quot;</span>,temp[i<span class="hljs-number">-1</span>].day,temp[i<span class="hljs-number">-1</span>].hour,temp[i<span class="hljs-number">-1</span>].minute,temp[i].day,temp[i].hour,temp[i].minute,temp[i].time-temp[i<span class="hljs-number">-1</span>].time,t);<br>            total+=t;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Total amount: $%.2f\n&quot;</span>,total);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1014. Waiting in Line (30) -PATç”²çº§</title>
    <link href="/2018/01/28/2018-01-31-PAT-1014/"/>
    <url>/2018/01/28/2018-01-31-PAT-1014/</url>
    
    <content type="html"><![CDATA[<p>Suppose a bank has N windows open for service. There is a yellow line in front of the windows which devides the waiting area into two parts. The rules for the customers to wait in line are:</p><ul><li>The space inside the yellow line in front of each window is enough to contain a line with M customers. Hence when all the N lines are full, all the customers after (and including) the (NM+1)st one will have to wait in a line behind the yellow line.  </li><li>Each customer will choose the shortest line to wait in when crossing the yellow line. If there are two or more lines with the same length, the customer will always choose the window with the smallest number.  </li><li>Customer[i] will take T[i] minutes to have his/her transaction processed.  </li><li>The first N customers are assumed to be served at 8:00am.</li></ul><p>Now given the processing time of each customer, you are supposed to tell the exact time at which a customer has his/her business done.</p><p>For example, suppose that a bank has 2 windows and each window may have 2 custmers waiting inside the yellow line. There are 5 customers waiting with transactions taking 1, 2, 6, 4 and 3 minutes, respectively. At 08:00 in the morning, customer1 is served at window1 while customer2 is served at window2. Customer3 will wait in front of window1 and customer4 will wait in front of window2. Customer5 will wait behind the yellow line.</p><p>At 08:01, customer1 is done and customer5 enters the line in front of window1 since that line seems shorter now. Customer2 will leave at 08:02, customer4 at 08:06, customer3 at 08:07, and finally customer5 at 08:10.</p><p><strong>Input</strong></p><p>Each input file contains one test case. Each case starts with a line containing 4 positive integers: N (&lt;=20, number of windows), M (&lt;=10, the maximum capacity of each line inside the yellow line), K (&lt;=1000, number of customers), and Q (&lt;=1000, number of customer queries).</p><p>The next line contains K positive integers, which are the processing time of the K customers.</p><p>The last line contains Q positive integers, which represent the customers who are asking about the time they can have their transactions done. The customers are numbered from 1 to K.</p><p><strong>Output</strong></p><p>For each of the Q customers, print in one line the time at which his/her transaction is finished, in the format HH:MM where HH is in [08, 17] and MM is in [00, 59]. Note that since the bank is closed everyday after 17:00, for those customers who cannot be served before 17:00, you must output â€œSorryâ€ instead.</p><p><strong>Sample Input</strong><br>2 2 7 5<br>1 2 6 4 3 534 2<br>3 4 5 6 7<br><strong>Sample Output</strong><br>08:07<br>08:06<br>08:10<br>17:00<br>Sorry  </p><p>é¢˜ç›®å¤§æ„ï¼šnä¸ªçª—å£ï¼Œæ¯ä¸ªçª—å£å¯æ’mäººï¼Œkä¸ªç”¨æˆ·ï¼Œç»™å‡ºæ¯ä¸ªç”¨æˆ·æœåŠ¡æ—¶é—´ã€‚çª—å£æ²¡æ»¡å…¥é˜Ÿï¼Œå¦åˆ™ç­‰å€™ï¼ŒæŸåˆ—æœ‰äººèµ°äº†ï¼Œè¿›é˜Ÿä¸€ä¸ªï¼ŒåŒæ—¶çš„è¯é€‰çª—å£å°çš„ï¼Œæ±‚ç¬¬qä¸ªäººçš„æœåŠ¡ç»“æŸæ—¶é—´ï¼ŒæœåŠ¡ä»8ç‚¹å¼€å§‹ï¼Œ17ç‚¹åä¸æ¥å—æœåŠ¡ï¼Œè¾“å‡ºSorryã€‚<br>åˆ†æï¼šç”¨ç»“æ„ä½“å­˜å‚¨æ¯é˜Ÿç¬¬ä¸€ä¸ªäººçš„ç»“æŸæ—¶é—´å’Œæœ€åä¸€ä¸ªäººçš„ç»“æŸæ—¶é—´ï¼Œå‰è€…è®¡ç®—å“ªä¸ªé˜Ÿä¼å…ˆç©ºï¼Œåè€…åˆ¤æ–­è‡ªå·±æœåŠ¡ç»“æŸæ—¶é—´ï¼Œä¸€ä¸ªqueueè®°å½•æ¯ä¸ªäººçš„æœåŠ¡æ—¶é—´ã€‚<br>å‰m*nä¸ªäººä¾æ¬¡æ’å…¥ï¼Œä¹‹åçš„äººæ‰¾æœ€æ—©ç©ºå‡ºæ¥çš„å…¥é˜Ÿã€‚</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs perl"><span class="hljs-comment">#include&lt;iostream&gt;</span><br><span class="hljs-comment">#include&lt;algorithm&gt;</span><br><span class="hljs-comment">#include&lt;stdio.h&gt;</span><br><span class="hljs-comment">#include&lt;string.h&gt;</span><br><span class="hljs-comment">#include&lt;queue&gt;</span><br>using namespace std;<br>struct Win&#123;<br>    <span class="hljs-keyword">int</span> t1=<span class="hljs-number">0</span>,t2=<span class="hljs-number">0</span>;<br>    queue&lt;<span class="hljs-keyword">int</span>&gt;<span class="hljs-keyword">q</span>;<br>&#125;win[<span class="hljs-number">25</span>];<br><span class="hljs-keyword">int</span> main()&#123;<br>    <span class="hljs-keyword">int</span> n,m,k,<span class="hljs-keyword">q</span>;<br>    <span class="hljs-keyword">int</span> <span class="hljs-keyword">time</span>[<span class="hljs-number">1005</span>],ans[<span class="hljs-number">1005</span>];<br>    cin&gt;&gt;n&gt;&gt;m&gt;&gt;k&gt;&gt;<span class="hljs-keyword">q</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;k;i++)<br>        cin&gt;&gt;<span class="hljs-keyword">time</span>[i];<br>    <span class="hljs-keyword">int</span> <span class="hljs-keyword">index</span>=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> flag[<span class="hljs-number">1005</span>]=<span class="hljs-string">&#123;0&#125;</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;m;i++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;n;j++)&#123;<br>            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">index</span>&lt;k)&#123;<br>                <span class="hljs-keyword">if</span>(win[j].t2&gt;=<span class="hljs-number">540</span>)flag[<span class="hljs-keyword">index</span>]=<span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span>(!i)win[j].t1=<span class="hljs-keyword">time</span>[<span class="hljs-keyword">index</span>];<br>                win[j].t2+=<span class="hljs-keyword">time</span>[<span class="hljs-keyword">index</span>];<br>                win[j].q.push(<span class="hljs-keyword">time</span>[<span class="hljs-keyword">index</span>]);<br>                ans[<span class="hljs-keyword">index</span>]=win[j].t2;<br>                //cout&lt;&lt;<span class="hljs-keyword">index</span>&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>&lt;&lt;ans[<span class="hljs-keyword">index</span>]&lt;&lt;endl;<br>                <span class="hljs-keyword">index</span>++;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-keyword">index</span>&lt;=k)&#123;<br>        <span class="hljs-keyword">int</span> tmp=win[<span class="hljs-number">0</span>].t1,minn=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;n;i++)&#123;<br>            <span class="hljs-keyword">if</span>(win[i].t1&lt;tmp)&#123;<br>                tmp=win[i].t1;<br>                minn=i;<br>            &#125;<br>        &#125;<br>        win[minn].q.pop();<br>        win[minn].q.push(<span class="hljs-keyword">time</span>[<span class="hljs-keyword">index</span>]);<br>        win[minn].t1+=win[minn].q.front();    <span class="hljs-regexp">//</span>ç›´æ¥+ä¸å½±å“æ¯”è¾ƒ<br>        <span class="hljs-keyword">if</span>(win[minn].t2&gt;=<span class="hljs-number">540</span>)flag[<span class="hljs-keyword">index</span>]=<span class="hljs-number">1</span>;<br>        win[minn].t2+=<span class="hljs-keyword">time</span>[<span class="hljs-keyword">index</span>];<br>        ans[<span class="hljs-keyword">index</span>]=win[minn].t2;<br>        <span class="hljs-keyword">index</span>++;<br>    &#125;<br>    <span class="hljs-keyword">int</span> Q;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-keyword">q</span>;i++)&#123;<br>        cin&gt;&gt;Q;Q--;<br>        <span class="hljs-keyword">if</span>(flag[Q])cout&lt;&lt;<span class="hljs-string">&quot;Sorry&quot;</span>&lt;&lt;endl;<br>        <span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-keyword">int</span> a=(ans[Q]+<span class="hljs-number">480</span>)/<span class="hljs-number">60</span>;<br>            <span class="hljs-keyword">int</span> b=(ans[Q]+<span class="hljs-number">480</span>)%60;<br>            <span class="hljs-keyword">printf</span>(<span class="hljs-string">&quot;%02d:%02d\n&quot;</span>,a,b);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1010. Radix (25) -PATç”²çº§</title>
    <link href="/2018/01/28/2018-01-28-PAT-1010/"/>
    <url>/2018/01/28/2018-01-28-PAT-1010/</url>
    
    <content type="html"><![CDATA[<p>Given a pair of positive integers, for example, 6 and 110, can this equation 6 = 110 be true? The answer is â€œyesâ€, if 6 is a decimal number and 110 is a binary number.</p><p>Now for any pair of positive integers N1 and N2, your task is to find the radix of one number while that of the other is given.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case occupies a line which contains 4 positive integers:<br>N1 N2 tag radix<br>Here N1 and N2 each has no more than 10 digits. A digit is less than its radix and is chosen from the set {0-9, a-z} where 0-9 represent the decimal numbers 0-9, and a-z represent the decimal numbers 10-35. The last number â€œradixâ€ is the radix of N1 if â€œtagâ€ is 1, or of N2 if â€œtagâ€ is 2.</p><p><strong>Output Specification:</strong></p><p>For each test case, print in one line the radix of the other number so that the equation N1 = N2 is true. If the equation is impossible, print â€œImpossibleâ€. If the solution is not unique, output the smallest possible radix.</p><p><strong>Sample Input 1:</strong><br>6 110 1 10<br><strong>Sample Output 1:</strong><br>2<br><strong>Sample Input 2:</strong><br>1 ab 1 2<br><strong>Sample Output 2:</strong><br>Impossible</p><p>é¢˜ç›®å¤§æ„ï¼šä¸¤ä¸ªæ•° N1ã€N2ï¼Œæ ‡è®°tagå’Œè¿›åˆ¶radixï¼Œtagè¡¨ç¤ºè¿™ä¸ªradixæ˜¯N1è¿˜æ˜¯N2çš„è¿›åˆ¶ï¼Œé—®å¯¹äºå¦ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨ä¸€ç§è¿›åˆ¶ï¼Œä½¿ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼Œæœ‰åˆ™è¾“å‡ºè¯¥è¿›åˆ¶ï¼Œåä¹‹è¾“å‡ºImpossibleã€‚</p><p>åˆ†æï¼šå…ˆå°†å·²çŸ¥è¿›åˆ¶çš„æ•°è½¬åŒ–ä¸ºåè¿›åˆ¶ï¼Œç„¶åå¦ä¸€ä¸ªä¾æ¬¡æ‰¾å„è¿›åˆ¶å¯¹åº”æ•°æ˜¯å¦ä¸ä¹‹ç›¸ç­‰ï¼Œç›´æ¥éå†ä¼šå¯¼è‡´è¶…æ—¶ï¼Œæ‰€ç¤ºå¼•å…¥äºŒåˆ†æŸ¥æ‰¾ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function">ll <span class="hljs-title">tran</span><span class="hljs-params">(ll *a,ll k,ll tmp,<span class="hljs-keyword">int</span> len)</span></span>&#123;<br>    ll sum=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;len;i++)<br>        sum=sum*k+a[i];<br>    <span class="hljs-keyword">if</span>(sum&gt;tmp||sum&lt;<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(sum&lt;tmp)<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">search</span><span class="hljs-params">(ll *a,ll low,ll high,ll tmp,ll len)</span></span>&#123;<br>    ll l=low,r=high,mid;<br>    <span class="hljs-keyword">while</span>(l&lt;=r)&#123;<br>        mid=(l+r)/<span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">tran</span>(a,mid,tmp,len)==<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> mid;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-built_in">tran</span>(a,mid,tmp,len)&lt;<span class="hljs-number">0</span>)l=mid+<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> r=mid<span class="hljs-number">-1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string n1,n2;<br>    <span class="hljs-keyword">int</span> tag,radix;<br>    cin&gt;&gt;n1&gt;&gt;n2&gt;&gt;tag&gt;&gt;radix;<br>    <span class="hljs-keyword">if</span>(tag==<span class="hljs-number">2</span>)<span class="hljs-built_in">swap</span>(n1,n2);<br><br>    ll tmp=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n1.<span class="hljs-built_in">length</span>();i++)&#123;<br>        <span class="hljs-keyword">if</span>(n1[i]&gt;=<span class="hljs-string">&#x27;0&#x27;</span>&amp;&amp;n1[i]&lt;=<span class="hljs-string">&#x27;9&#x27;</span>)<br>            tmp=tmp*radix+(n1[i]-<span class="hljs-string">&#x27;0&#x27;</span>);<br>        <span class="hljs-keyword">else</span> tmp=tmp*radix+(n1[i]-<span class="hljs-string">&#x27;a&#x27;</span>+<span class="hljs-number">10</span>);<br>    &#125;<br>    ll a[<span class="hljs-number">25</span>],low=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n2.<span class="hljs-built_in">length</span>();i++)&#123;<br>        <span class="hljs-keyword">if</span>(n2[i]&gt;=<span class="hljs-string">&#x27;0&#x27;</span>&amp;&amp;n2[i]&lt;=<span class="hljs-string">&#x27;9&#x27;</span>)<br>            a[i]=n2[i]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">else</span> a[i]=n2[i]-<span class="hljs-string">&#x27;a&#x27;</span>+<span class="hljs-number">10</span>;<br>        <span class="hljs-keyword">if</span>(a[i]&gt;low)low=a[i];    <span class="hljs-comment">//æ‰¾n2æœ€å¤§çš„</span><br>    &#125;<br>    low++;<br>    ll high=<span class="hljs-built_in">max</span>(low,tmp)+<span class="hljs-number">1</span>;<br>    <span class="hljs-comment">//cout&lt;&lt;low&lt;&lt;&#x27; &#x27;&lt;&lt;high&lt;&lt;&#x27; &#x27;&lt;&lt;tmp&lt;&lt;&#x27; &#x27;&lt;&lt;n2.length()&lt;&lt;endl;</span><br>    ll ans=<span class="hljs-built_in">search</span>(a,low,high,tmp,n2.<span class="hljs-built_in">length</span>());<br>    <span class="hljs-keyword">if</span>(ans&gt;<span class="hljs-number">0</span>)cout&lt;&lt;ans&lt;&lt;endl;<br>    <span class="hljs-keyword">else</span> cout&lt;&lt;<span class="hljs-string">&quot;Impossible&quot;</span>&lt;&lt;endl;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1005. Spell It Right (20) -PATç”²çº§</title>
    <link href="/2018/01/28/2018-01-28-PAT-1005/"/>
    <url>/2018/01/28/2018-01-28-PAT-1005/</url>
    
    <content type="html"><![CDATA[<p>Given a non-negative integer N, your task is to compute the sum of all the digits of N, and output every digit of the sum in English.</p><p><strong>Input Specification:</strong></p><p>Each input file contains one test case. Each case occupies one line which contains an N (&lt;= 10100).</p><p><strong>Output Specification:</strong></p><p>For each test case, output in one line the digits of the sum in English words. There must be one space between two consecutive words, but no extra space at the end of a line.</p><p><strong>Sample Input:</strong><br>12345<br><strong>Sample Output:</strong><br>one five  </p><p>é¢˜ç›®å¤§æ„:ç»™å®šä¸€ä¸ªæ•°x,ä»¥è‹±æ–‡å½¢å¼è¾“å‡ºå…¶å„ä½å’Œã€‚<br>åˆ†æ:æ°´é¢˜â€¦  </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string number[]=&#123;<span class="hljs-string">&quot;zero&quot;</span>,<span class="hljs-string">&quot;one&quot;</span>,<span class="hljs-string">&quot;two&quot;</span>,<span class="hljs-string">&quot;three&quot;</span>,<span class="hljs-string">&quot;four&quot;</span>,<span class="hljs-string">&quot;five&quot;</span>,<span class="hljs-string">&quot;six&quot;</span>,<span class="hljs-string">&quot;seven&quot;</span>,<span class="hljs-string">&quot;eight&quot;</span>,<span class="hljs-string">&quot;nine&quot;</span>&#125;;<br>    string x,y=<span class="hljs-string">&quot;&quot;</span>;<br>    ll ans,sum=<span class="hljs-number">0</span>;<br>    cin&gt;&gt;x;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;x.<span class="hljs-built_in">length</span>();i++)<br>        sum+=x[i]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>    <span class="hljs-keyword">if</span>(!sum)y=<span class="hljs-string">&quot;0&quot;</span>;<br>    <span class="hljs-keyword">while</span>(sum)&#123;<br>        y+=(<span class="hljs-string">&#x27;0&#x27;</span>+sum%<span class="hljs-number">10</span>);<br>        sum/=<span class="hljs-number">10</span>;<br>    &#125;<br><br>    <span class="hljs-comment">//cout&lt;&lt;y&lt;&lt;&#x27; &#x27;&lt;&lt;y.length();</span><br>    <span class="hljs-keyword">int</span> len=y.<span class="hljs-built_in">length</span>()<span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=len;i&gt;=<span class="hljs-number">0</span>;i--)&#123;<br>        <span class="hljs-keyword">if</span>(i!=len)cout&lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>;<br>        cout&lt;&lt;number[y[i]-<span class="hljs-string">&#x27;0&#x27;</span>];<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br>åŒå‡»ä»£ç åŒºåŸŸå¯ä»¥æŸ¥çœ‹<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1002. A+B for Polynomials (25) -PATç”²çº§</title>
    <link href="/2018/01/28/2018-01-28-PAT-1002/"/>
    <url>/2018/01/28/2018-01-28-PAT-1002/</url>
    
    <content type="html"><![CDATA[<p>This time, you are supposed to find A+B where A and B are two polynomials.</p><p><strong>Input</strong></p><p>Each input file contains one test case. Each case occupies 2 lines, and each line contains the information of a polynomial: K N1 aN1 N2 aN2 â€¦ NK aNK, where K is the number of nonzero terms in the polynomial, Ni and aNi (i=1, 2, â€¦, K) are the exponents and coefficients, respectively. It is given that 1 &lt;= K &lt;= 10ï¼Œ0 &lt;= NK &lt; â€¦ &lt; N2 &lt; N1 &lt;=1000.</p><p><strong>Output</strong></p><p>For each test case you should output the sum of A and B in one line, with the same format as the input. Notice that there must be NO extra space at the end of each line. Please be accurate to 1 decimal place.</p><p><strong>Sample Input</strong><br>2 1 2.4 0 3.2<br>2 2 1.5 1 0.5<br><strong>Sample Output</strong><br>3 2 1.5 1 2.9 0 3.2  </p><p>é¢˜ç›®å¤§æ„:ä¸¤ä¸ªå¤šé¡¹å¼ç›¸åŠ ï¼Œè¾“å…¥n,è¡¨ç¤ºnä¸ªéé›¶é¡¹,ç„¶åè¾“å…¥nç»„æŒ‡æ•°å’Œç³»æ•°ã€‚<br>åˆ†æï¼šæ°´é¢˜ï¼Œæ•°ç»„å¼€å°äº†ç»™è‡ªå·±è ¢å“­ï¼Œæš´åŠ›å°±å¥½äº†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mst(a,b) memset((a),(b),sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n,e;<br>    <span class="hljs-keyword">double</span> tmp,c[<span class="hljs-number">1005</span>]=&#123;<span class="hljs-number">0.0</span>&#125;,c1[<span class="hljs-number">1005</span>]=&#123;<span class="hljs-number">0.0</span>&#125;,c2[<span class="hljs-number">1005</span>]=&#123;<span class="hljs-number">0.0</span>&#125;;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">while</span>(n--)&#123;<br>        cin&gt;&gt;e&gt;&gt;tmp;c1[e]=tmp;<br>    &#125;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">while</span>(n--)&#123;<br>        cin&gt;&gt;e&gt;&gt;tmp;c2[e]=tmp;<br>    &#125;<br>    <span class="hljs-keyword">int</span> num=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;=<span class="hljs-number">1003</span>;i++)&#123;<br>        c[i]=c1[i]+c2[i];<br>        <span class="hljs-keyword">if</span>(c[i])num++;<br>    &#125;<br>    cout&lt;&lt;num;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1003</span>;i&gt;=<span class="hljs-number">0</span>;i--)&#123;<br>        <span class="hljs-keyword">if</span>(c[i])<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d %.1lf&quot;</span>,i,c[i]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1001. A+B Format (20) -PATç”²çº§</title>
    <link href="/2018/01/28/2018-01-28-PAT-1001/"/>
    <url>/2018/01/28/2018-01-28-PAT-1001/</url>
    
    <content type="html"><![CDATA[<p>Calculate a + b and output the sum in standard format â€“ that is, the digits must be separated into groups of three by commas (unless there are less than four digits).</p><p><strong>Input</strong></p><p>Each input file contains one test case. Each case contains a pair of integers a and b where -1000000 &lt;= a, b &lt;= 1000000. The numbers are separated by a space.</p><p><strong>Output</strong></p><p>For each test case, you should output the sum of a and b in one line. The sum must be written in the standard format.</p><p><strong>Sample Input</strong><br>-1000000 9<br><strong>Sample Output</strong><br>-999,991  </p><p>é¢˜ç›®å¤§æ„:è¾“å…¥æ•´æ•°abæ±‚å’Œï¼ŒæŒ‰ <strong>ä¸‰ä½åˆ†çº§æ³•</strong> è¾“å‡º  ã€‚<br>åˆ†æ:æ ¹æ®é¢˜ç›®èŒƒå›´ï¼Œè¿›è¡Œåˆ†ç±»è¾“å‡º(ä¸€ä¸ªé€—å·ä¸¤ä¸ªé€—å·ä¸‰ä¸ªé€—å·)ã€‚</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs perl"><span class="hljs-comment">#include&lt;stdio.h&gt;</span><br><span class="hljs-keyword">int</span> main()<br>&#123;<br>    <span class="hljs-keyword">int</span> a,b,sum;<br>    scanf(<span class="hljs-string">&quot;%d %d&quot;</span>,&amp;a,&amp;b);<br>    sum=a+b;<br>    <span class="hljs-keyword">if</span> (sum&lt;<span class="hljs-number">0</span>)&#123;<span class="hljs-keyword">printf</span>(<span class="hljs-string">&quot;-&quot;</span>);sum=-sum;&#125;<br>    <span class="hljs-keyword">if</span> (sum&gt;=<span class="hljs-number">1000000</span>)<span class="hljs-keyword">printf</span>(<span class="hljs-string">&quot;%d,%03d,%03d&quot;</span>,sum/<span class="hljs-number">1000000</span>,(sum/<span class="hljs-number">1000</span>)%1000,(sum%1000));<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sum&gt;=<span class="hljs-number">1000</span>)<span class="hljs-keyword">printf</span>(<span class="hljs-string">&quot;%d,%03d&quot;</span>,sum/<span class="hljs-number">1000</span>,sum%1000);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,sum);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>PATç”²çº§</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javawebå­¦ä¹ 01-Web&amp;HTTPæŠ€æœ¯</title>
    <link href="/2018/01/27/2018-01-27-javaweb1/"/>
    <url>/2018/01/27/2018-01-27-javaweb1/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä»è¯¥ç¯‡å¼€å§‹å¯¹äºwebåç«¯çš„çŸ¥è¯†å­¦ä¹ ï¼Œä¸€äº›æ¦‚å¿µæ€§çš„ä¸œè¥¿ä»ç½‘ä¸Šæ‹·è´è‡³æ­¤ï¼Œå¹¶åŠ ä»¥è‡ªå·±çš„ç†è§£å’Œæ€»ç»“ã€‚</p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>é¦–å…ˆä»‹ç» <strong>WebæŠ€æœ¯</strong> å’Œ <strong>HTTPé€šä¿¡åè®®</strong> è¿™ä¸¤ä¸ªä¸“æœ‰åè¯ä»¥æ–¹ä¾¿å¯¹ä»¥ä¸‹çŸ¥è¯†ç‚¹çš„é˜…è¯»å’Œå­¦ä¹ ã€‚<br>ç„¶åç®€å•è®²è¿° <strong>Servlet/JSP</strong> , <strong>MVC &amp; Model2</strong> ã€‚</p><h4 id="WebæŠ€æœ¯"><a href="#WebæŠ€æœ¯" class="headerlink" title="WebæŠ€æœ¯"></a>WebæŠ€æœ¯</h4><p>éšç€äº’è”ç½‘æŠ€æœ¯çš„å‘å±•ï¼ŒåŸºäºHTTPå’ŒHTMLçš„webåº”ç”¨æ€¥é€Ÿå¢é•¿ã€‚æ—©æœŸçš„webåº”ç”¨ä¸»è¦ç”¨äºæµè§ˆæ–°é—»ç­‰é™æ€é¡µé¢ï¼Œç”¨æˆ·é€šè¿‡HTTPåè®®è¯·æ±‚æœåŠ¡å™¨ä¸Šçš„é™æ€é¡µé¢ï¼ŒæœåŠ¡å™¨ä¸Šçš„webæœåŠ¡å™¨è½¯ä»¶æ¥æ”¶åˆ°è¯·æ±‚åï¼Œè¯»å–URIæ ‡ç¤ºçš„èµ„æºï¼Œå†åŠ ä¸Šæ¶ˆæ¯æŠ¥å¤´å‘é€ç»™å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œæµè§ˆå™¨è´Ÿè´£è§£æHTMLï¼Œå°†ç»“æœå‘ˆç°å‡ºæ¥ã€‚</p><p>ç„¶è€Œéšç€æ—¶é—´å‘å±•ï¼Œç”¨æˆ·å·²ç»ä¸æ»¡è¶³äºä»…æµè§ˆé™æ€é¡µé¢ã€‚ç”¨æˆ·éœ€è¦ä¸€äº›äº¤äº’æ“ä½œï¼Œè·å–ä¸€äº›åŠ¨æ€ç»“æœã€‚å¦‚æœåŸºäºHTTPåè®®å®ç°æœåŠ¡å™¨ç«¯è½¯ä»¶å¢å¼ºåŠŸèƒ½å¤ªè¿‡å¤æ‚ï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›æ‰©å±•æœºåˆ¶æ¥å®ç°ç”¨æˆ·æƒ³è¦çš„åŠŸèƒ½ã€‚æ—©æœŸä½¿ç”¨çš„WebæœåŠ¡å™¨æ‰©å±•æœºåˆ¶æ˜¯CGIï¼ˆCommon Gateway Interfaceï¼Œå…¬å…±ç½‘å…³æ¥å£ï¼‰ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œç”¨æˆ·å•å‡»æŸä¸ªé“¾æ¥æˆ–è¾“å…¥ç½‘å€æ¥è®¿é—®CGIç¨‹åºï¼ŒwebæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œè¿è¡Œè¯¥CGIç¨‹åºï¼Œå¯¹ç”¨æˆ·è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œç´§æ¥ç€å°†å¤„ç†ç»“æœå¹¶äº§ç”Ÿä¸€ä¸ªå“åº”ï¼Œè¯¥å“åº”è¢«è¿”å›ç»™webæœåŠ¡å™¨ï¼ŒwebæœåŠ¡å™¨å¯¹å“åº”è¿›è¡ŒåŒ…è£…ï¼Œä»¥HTTPå“åº”çš„æ–¹å¼è¿”å›ç»™æµè§ˆå™¨ã€‚</p><p>CGIç¨‹åºåœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†ç”¨æˆ·éœ€æ±‚ã€‚ä¸è¿‡è¿˜å­˜åœ¨ä¸€äº›ä¸è¶³ä¹‹å¤„ï¼Œå¦‚CGIç¨‹åºç¼–å†™å›°éš¾ï¼Œå“åº”æ—¶é—´è¾ƒé•¿ï¼Œä»¥è¿›ç¨‹æ–¹å¼è¿è¡Œå¯¼è‡´æ€§èƒ½å—é™ã€‚äºæ˜¯1997å¹´ï¼Œsunå…¬å¸æ¨å‡ºäº†ServletæŠ€æœ¯ï¼Œä½œä¸ºjavaé˜µè¥çš„CGIè§£å†³æ–¹æ¡ˆã€‚</p><h4 id="HTTPé€šä¿¡åè®®"><a href="#HTTPé€šä¿¡åè®®" class="headerlink" title="HTTPé€šä¿¡åè®®"></a>HTTPé€šä¿¡åè®®</h4><p>æ‰€è°“é€šä¿¡åè®®ï¼Œæ˜¯æŒ‡æ¶æ„äº TCP/IP ä¹‹ä¸Šçš„åº”ç”¨å±‚é€šä¿¡åè®®ï¼Œå…¶åŸºæœ¬ä¸Šå°±æ˜¯ä¸¤å°è®¡ç®—æœºé—´çš„æ²Ÿé€šæ–¹å¼ã€‚<br>HTTPåŸºæœ¬ä¸Šæ˜¯ä¸€ç§åŸºäºè¯·æ±‚(Request)/ç›¸åº”(Reponse)çš„é€šä¿¡åè®®ï¼Œæµè§ˆå™¨åœ¨ä½¿ç”¨HTTPå‘å‡ºè¯·æ±‚æ—¶ï¼Œå¯ä»¥æœ‰å‡ ç§è¯·æ±‚æ–¹æ³•ï¼Œä¾‹å¦‚GETã€POSTã€HEADã€PUTã€DELETEç­‰ã€‚è¿™é‡Œåªè®²ç¼–å†™Servletæˆ–JSPé‡åˆ°çš„æœ€å¸¸æ¥è§¦çš„å‰ä¸¤è€…ã€‚</p><ul><li>GETè¯·æ±‚ï¼šä»æŒ‡å®šçš„èµ„æºè¯·æ±‚æ•°æ®ã€‚</li><li>POSTè¯·æ±‚ï¼šå‘æŒ‡å®šçš„èµ„æºæäº¤è¦è¢«å¤„ç†çš„æ•°æ®ã€‚</li></ul><p>ä¸‹é¢å¼€å§‹ä¸Šä¸»èœäº†~</p><h2 id="Servlet-JSP"><a href="#Servlet-JSP" class="headerlink" title="Servlet/JSP"></a>Servlet/JSP</h2><p>Servletæ˜¯ç”¨Javaç¼–å†™çš„ä¸€ä¸ªJavaç±»ï¼Œé€šè¿‡Webå®¹å™¨è¿›è¡Œç®¡ç†ã€‚å®¹å™¨æ˜¯Javaç¼–å†™çš„ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œè´Ÿè´£ä¸æœåŠ¡å™¨æ²Ÿé€šã€‚JSPä¸Šå¯ä»¥ç›´æ¥ç¼–å†™HTMLï¼Œå¹¶æ ¹æ®éœ€è¦æ·»åŠ åŠ¨æ€ç¨‹åºéƒ¨åˆ†ï¼Œå®¹å™¨ä¼šå°†JSPç½‘é¡µè¯‘ä¸ºServletè¿›è¡Œç®¡ç†ã€‚å¤§è‡´çº¿æ€§å…³ç³»å¦‚å›¾</p><p><img src="/img/post-1.jpg" alt="img"></p><p>å½“æœ‰è¯·æ±‚æ—¶ï¼Œä½¿ç”¨å®¹å™¨è¿›è¡Œå¤„ç†ï¼Œå¼€å¯çº¿ç¨‹å†³å®šç”±å“ªä¸ªServletå¤„ç†ï¼Œå¤šä¸ªè¯·æ±‚åˆ™é‡‡å–å¤šçº¿ç¨‹ã€‚æˆ‘ä»¬åˆå­¦æ—¶æ¥è§¦çš„Tomcatï¼Œå…¶ä½œä¸ºä¸€ä¸ªwebå®¹å™¨ä½†æœ¬èº«é™„å¸¦ä¸€ä¸ªç®€å•çš„HTTPæœåŠ¡å™¨ï¼Œå¯ä»¥ç›´æ¥æ‰“å¼€è¯¥æœåŠ¡å™¨éƒ¨ç½²Servltï¼Œä½†ä¸¤è€…å…¶å®ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œè¦åŒºåˆ†å¼€ã€‚<br>ä¸‹é¢æ ¹æ®ä»¥ä¸‹å®ä¾‹è®²è¿°ä¸€ä¸ªåŸºæœ¬çš„Servlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloWorld</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>  <span class="hljs-keyword">private</span> String message;<br>  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> ServletException</span>&#123;<br>  message = <span class="hljs-string">&quot;Hello World&quot;</span>;                                 <span class="hljs-comment">// æ‰§è¡Œå¿…éœ€çš„åˆå§‹åŒ–</span><br>  &#125;<br>  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest request,</span></span><br><span class="hljs-function"><span class="hljs-params">                    HttpServletResponse response)</span>              <span class="hljs-comment">// è®¾ç½®å“åº”å†…å®¹ç±»å‹</span></span><br><span class="hljs-function">            <span class="hljs-keyword">throws</span> ServletException, IOException</span>&#123;<br>      response.setContentType(<span class="hljs-string">&quot;text/html&quot;</span>);<span class="hljs-comment">// å®é™…çš„é€»è¾‘æ˜¯åœ¨è¿™é‡Œ</span><br>      PrintWriter out = response.getWriter();<br>      out.println(<span class="hljs-string">&quot;&lt;h1&gt;&quot;</span> + message + <span class="hljs-string">&quot;&lt;/h1&gt;&quot;</span>);<br>  &#125;<br>  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destroy</span><span class="hljs-params">()</span></span>&#123;                                       <span class="hljs-comment">// ä»€ä¹ˆä¹Ÿä¸åš</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸€ä¸ªServletç±»ï¼Œé¦–å…ˆæ˜¯ç»§æ‰¿äº†HttpServletç±»ï¼Œé‡å†™å…¶doXXX()æ–¹æ³•ã€‚å®¹å™¨æ”¶åˆ°è¯·æ±‚ï¼Œåˆ›å»ºHttpServletRequstï¼ŒHttpServletResponseå¯¹è±¡(ä¼šåœ¨ä¹‹åä½œè¯¦ç»†è®²è¿°)ï¼Œä½œä¸ºä¹‹åä½¿ç”¨çš„å‚æ•°ï¼Œè°ƒç”¨æ–¹æ³•æ—¶å°±å¯ä»¥è·å–httpè¯·æ±‚çš„ç›¸å…³ä¿¡æ¯ã€‚<br>ps:å…³äºåŒ…çš„è®¾è®¡ï¼Œä¸Servletå®šä¹‰æœ‰å…³çš„ç±»æˆ–æ¥å£ä½äºjavax.servletåŒ…ä¸­ï¼Œè€Œä¸HTTPå®šä¹‰æœ‰å…³çš„ç±»æˆ–æ¥å£ä½äºjavax.servlet.httpåŒ…ä¸­ã€‚<br><strong>xml(è®¾ç½®éƒ¨ç½²æè¿°æ–‡ä»¶)</strong> ï¼šéœ€è¦å‘Šè¯‰webå®¹å™¨çš„å…³äºè¿™ä¸ªServletçš„ä¿¡æ¯å­˜æ”¾åœ¨è¿™é‡Œï¼Œå®¹å™¨æ ¹æ®web.xmlæ‰¾å‡ºServletå»è°ƒç”¨æ–¹æ³•ã€‚</p><p>Servlet ç”Ÿå‘½å‘¨æœŸå¯è¢«å®šä¹‰ä¸ºä»åˆ›å»ºç›´åˆ°æ¯ç­çš„æ•´ä¸ªè¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯ Servlet éµå¾ªçš„è¿‡ç¨‹ï¼š</p><ul><li>Servlet é€šè¿‡è°ƒç”¨ init () æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ã€‚</li><li>Servlet è°ƒç”¨ service() æ–¹æ³•æ¥å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li><li>Servlet é€šè¿‡è°ƒç”¨ destroy() æ–¹æ³•ç»ˆæ­¢ï¼ˆç»“æŸï¼‰ã€‚</li></ul><h4 id="MVCä¸-Model2-ç®€ä»‹"><a href="#MVCä¸-Model2-ç®€ä»‹" class="headerlink" title="MVCä¸ Model2 ç®€ä»‹"></a>MVCä¸ Model2 ç®€ä»‹</h4><p>åœ¨Servletç¨‹åºä¸­å¤¹æ‚HTMLæ˜¾ç„¶æ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹ï¼Œè¿™ä¸ä»…å¯¼è‡´äº†ç¼–å†™å’Œç»´æŠ¤çš„ä¸å®¹æ˜“ï¼Œå¯¹å›¢é˜Ÿåˆ†å·¥ä¹Ÿæ˜¯ä¸€å¤§å›°æ‰°ï¼Œå› è€Œå¼•å…¥MVCå»åˆ†ç¦»ä¸¤è€…ã€‚<br>MVCæ˜¯æ¨¡å‹(model)ï¼è§†å›¾(view)ï¼æ§åˆ¶å™¨(controller)çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡å…¸èŒƒï¼Œå³æ¡†æ¶ã€‚<br><img src="/img/MVC.jpg" alt="img"><br>ç®€å•è¯´MVCçš„ä¸»è¦ç›®çš„å°±æ˜¯é€šè¿‡æ§åˆ¶å™¨çš„è¯·æ±‚è½¬å‘ï¼Œåˆ‡æ–­æ¨¡å‹ä¸è§†å›¾ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œè§†å›¾éœ€è¦æ•°æ®æ—¶é€šè¿‡æŸ¥è¯¢æ¨¡å‹æ¥å–å¾—ã€‚å°†MVCåº”ç”¨è‡³webåº”ç”¨éœ€ä½œä¸€äº›ä¿®æ­£ï¼Œå› ä¸ºåœ¨æ¨¡å‹çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ— æ³•ä»HTTPæœåŠ¡å™¨å¯¹æµè§ˆå™¨å‘å‡ºé€šçŸ¥ï¼Œå»è¦æ±‚æµè§ˆå™¨æŸ¥è¯¢æ¨¡å‹ã€‚æ‰€ä»¥æµè§ˆå™¨å¿…é¡»ä¸»åŠ¨å‘å‡ºè¯·æ±‚ï¼Œç»è¿‡è¯¥ä¿®æ­£åå¾—åˆ°çš„æ¶æ„å³è¢«ç§°ä¸ºModel2æ¶æ„ã€‚<br><img src="/img/model2.jpg" alt="img"><br>å½“ä»¥Servlet/JSPæŠ€æœ¯æ˜¾ç¤ºModel2æ¡†æ¶æ—¶ï¼ŒServletæ‰®æ¼”äº†æ§åˆ¶å™¨çš„è§’è‰²ï¼ŒJSPä¸ºè§†å›¾ï¼Œæ¨¡å‹ä¸ºå°è£…åº”ç”¨ç¨‹åºçŠ¶æ€æˆ–ä¸šåŠ¡é€»è¾‘ã€‚</p><h4 id="HTTP-è¯·æ±‚ã€ç›¸åº”å¤„ç†"><a href="#HTTP-è¯·æ±‚ã€ç›¸åº”å¤„ç†" class="headerlink" title="HTTP è¯·æ±‚ã€ç›¸åº”å¤„ç†"></a>HTTP è¯·æ±‚ã€ç›¸åº”å¤„ç†</h4><p><strong>HttpServletRequestçš„ä½¿ç”¨</strong></p><p>HttpServletRequestæ¥å£ç»§æ‰¿ServletRequestæ¥å£ï¼Œåè€…å®šä¹‰äº†å–å¾—ä¸€äº›é€šç”¨ä¿¡æ¯çš„æ–¹æ³•ï¼Œä¾‹å¦‚getParameter(),getInputStream()ç­‰ï¼Œå‰è€…å®šä¹‰äº†å–å¾—HTTPç›¸å…³ä¿¡æ¯çš„æ–¹æ³•ï¼Œä¾‹å¦‚getHeader(),getMethod()ç­‰ã€‚å…·ä½“æ–¹æ³•åŠŸèƒ½ä¸åšæè¿°ï¼Œè™½ç„¶HTTPæœ‰å„ç§è¯·æ±‚æ–¹æ³•ï¼Œä½†åœ¨ç¼–å†™Serveltæ—¶ç»å¤§å¤šæ•°æƒ…å†µä¸‹åªå¤„ç†GETæˆ–POSTï¼Œå› æ­¤é€šå¸¸åªé‡å†™doGet()æˆ–doPostæ–¹æ³•ã€‚<br>å½“è¯·æ±‚å‚æ•°å€¼åŒ…æ‹¬ä¸­æ–‡æ—¶ï¼Œå–å¾—å‚æ•°æ—¶éœ€é€šè¿‡setConutType()æ¥è®¾ç½®ã€‚å¦‚ä»¥ä¸‹è¯­å¥ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">response.setContentType(<span class="hljs-string">&quot;text/html;chrset=UTF-8&quot;</span>);      <span class="hljs-regexp">//</span>ä¼ é€UTF-<span class="hljs-number">8</span>ç¼–ç çš„æ–‡å­—<br></code></pre></td></tr></table></figure><p>è‹¥è¦é…åˆæµè§ˆå™¨ä»¥UTF-8æ¥æ­£ç¡®è§£é‡Šæ–‡å­—ç¼–ç ï¼Œæ¥å—è¯·æ±‚æ—¶ä¹Ÿä½¿ç”¨UTF-8ç¼–ç å­—ç¬¦ä¸²ï¼Œåˆ™å¯ä»¥åœ¨å–å¾—ä»»ä½•è¯·æ±‚å€¼å‰æ‰§è¡Œä»¥ä¸‹è¯­å¥ï¼š</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">request.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ç§å¤„ç†æ–¹å¼ï¼Œå¯ä»¥åœ¨å–å¾—è¯·æ±‚å€¼åé€šè¿‡Stringçš„getBytes()å–å¾—åˆ¶å®šç¼–ç æ¥å–å¾—è¯¥å­—ç¬¦ä¸²å­—èŠ‚æ•°ç»„ï¼Œå†é‡æ–°æ„é€ UTF-8ç¼–ç çš„å­—ç¬¦ä¸²ã€‚</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">String username = request.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;name&quot;</span>)</span>;<br>String username = <span class="hljs-keyword">new</span> <span class="hljs-constructor">String(<span class="hljs-params">username</span>.<span class="hljs-params">getBytes</span>(<span class="hljs-string">&quot;ISO-8859-1&quot;</span>)</span>,<span class="hljs-string">&quot;UTF-8&quot;</span>);<br></code></pre></td></tr></table></figure><p>è¯·æ±‚è½¬å‘ä¸åŒ…å«ï¼šå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºçš„è¯·æ±‚å¤„ç†å’Œç»“æœç›¸åº”ç”±ä¸åŒçš„Servletè´Ÿè´£ï¼Œé‚£ä¹ˆå°±éœ€è¦è€ƒè™‘è¯·æ±‚çš„è½¬å‘å’ŒåŒ…å«ã€‚<br>å¯ä»¥ä½¿ç”¨HttpservletRequestçš„getRequestDispatcher()æ–¹æ³•å–å¾—RequestDispatcherå®ä¾‹ï¼Œè¿è¡Œæ—¶åˆ¶å®šè¦è½¬å‘è¯·æ±‚çš„ç›¸å¯¹URLæˆ–ç»å¯¹URLï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">RequestDispatcher dispatcher =  <br>request.get<span class="hljs-constructor">RequestDispatcher(<span class="hljs-params">some</span>.<span class="hljs-params">do</span>)</span>;<br></code></pre></td></tr></table></figure><p>å–å¾—åæ‰§è¡Œforward()æ–¹æ³•è½¬å‘è¯·æ±‚ï¼Œå°†ServletRequestã€ServletResponseå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vbscript">dispatcher.forward(<span class="hljs-built_in">request</span>,<span class="hljs-built_in">response</span>);<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œforward()æ–¹æ³•è¡¨ç¤ºç›®å‰Servlet/JSPä¸è¿›è¡Œç›¸åº”ï¼Œå°†ç›¸åº”çš„èŒè´£äº¤ç»™ä¸‹ä¸€ä¸ªè½¬å‘çš„å¯¹è±¡ï¼Œè‹¥æ‰“ç®—å…ˆå¯¹æµè§ˆå™¨åšéƒ¨åˆ†ç›¸åº”ï¼Œ ä¸­é—´å†å°†å…¶ä»–Servlet/JSPåŒ…æ‹¬ç«Ÿæ¥å›åº”ï¼Œå¯æ‰§è¡Œinclude()æ–¹æ³•:</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">dispatcher.<span class="hljs-keyword">include</span>(request,response)ï¼›<br></code></pre></td></tr></table></figure><p>ServletRequestå±æ€§ï¼š è½¬å‘è¿‡ç¨‹ä¸­å¿…é¡»å…±äº«çš„å±æ€§ï¼Œä¸€èˆ¬ä¼šå°†ä¸‹ä¸€ä¸ªå¤„ç†è¯·æ±‚æ—¶æ‰€éœ€è¦çš„å¯¹è±¡æˆ–æ•°æ®å¡åˆ°è¿™ä¸ªServletRequestå¯¹è±¡ä¸­æˆä¸ºå±æ€§ï¼š</p><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vbscript">List books = bookDAO.query(<span class="hljs-string">&quot;some books&quot;</span>);  <br><span class="hljs-built_in">request</span>.setAttribute(<span class="hljs-string">&quot;books&quot;</span>,books);  <br><span class="hljs-built_in">request</span>.getRequestDispatcher(<span class="hljs-string">&quot;result.view&quot;</span>).forward(<span class="hljs-built_in">request</span>,<span class="hljs-built_in">response</span>);<br></code></pre></td></tr></table></figure><p><strong>HttpServletResponseçš„ä½¿ç”¨</strong></p><p>HttpServletResponseæ¥å£ç»§æ‰¿ServletResponseæ¥å£ï¼Œåè€…å®šä¹‰äº†Servletå›åº”æ—¶éœ€è¦çš„å„ç§é€šç”¨æ–¹æ³•ï¼Œåè€…åˆ™å®šä¹‰äº†ä¸HTTPç›¸å…³çš„å›åº”æ–¹æ³•ï¼Œå¦‚Cookieçš„æ·»åŠ ã€æ ‡å¤´çš„è®¾ç½®ç­‰ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">response.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>ç”¨é‡å®šå‘æ–¹æ³•è¦æ±‚æµè§ˆå™¨é‡æ–°è¯·æ±‚ä¸€ä¸ªURL:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">response</span><span class="hljs-selector-class">.sendRedirect</span>(<span class="hljs-string">&quot;http://openhome.cc&quot;</span>)ï¼›<br></code></pre></td></tr></table></figure><p>å¤„ç†è¯·æ±‚æ—¶å‘ç°é”™è¯¯ï¼Œå‘é€æœåŠ¡å™¨é»˜è®¤çŠ¶æ€ä¸é”™è¯¯ä¿¡æ¯:</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">response.sendError(HttpServletResponse.SC_NOT_FOUND)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä»HttpServletResponseå–å¾—PrintWriterå®ä¾‹ï¼Œç”¨println()å¯¹æµè§ˆå™¨è¾“å‡ºå­—ç¬¦ï¼Œç„¶åæœ‰æ—¶éœ€è¦ç›´æ¥å¯¹æµè§ˆå™¨è¿›è¡Œå­—èŠ‚è¾“å‡ºï¼Œè¿™æ—¶å¯ä»¥ç”¨getOutputStream()æ–¹æ³•å–å¾—getOutputStreamå®ä¾‹ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªåº”ç”¨çš„ä¾‹å­:</p><pre><code>public class Ebook extends HttpServlet&#123;  protected void doPost(HttpServletRequest request,HttpServletResponse response)          throws ServletException,IOException&#123;                  String passwd = request.getParameter(&quot;passwd&quot;);                  if(&quot;123456&quot;.equals(passwd))&#123;                    response.setContentType(&quot;application/pdf&quot;);                                           //è®¾ç½®å“åº”å†…å®¹ç±»å‹                    InputSteam in = this.getServletContext().                                                      getResourceAsStream(&quot;/WEB-INF/jdbc.pdf&quot;);           //å–å¾—è¾“å…¥æµ                    OutputStream out = response.getOutputStream();                                        //å–å¾—è¾“å‡ºæµ                    byte[] buffer = new byte[1024];                    int length = -1;                    while((length = in.read(buffer))!=-1)&#123;                                                //è¯»å–PDFå¹¶è¾“å‡ºè‡³æµè§ˆå™¨                      out.write(buffer,0,length);                    &#125;                    in.close();                    out.close();                  &#125;          &#125;&#125;</code></pre><p>ps:è¾“å…¥è¾“å‡ºæµä¸ºJava IOçš„è§‚å¿µï¼Œä»PDFè¯»å…¥å­—èŠ‚æ•°æ®ï¼Œå†ç”¨ServletOutputStreamå¯¹æµè§ˆå™¨è¿›è¡Œå†™å‡ºç›¸åº”ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è¿™ç¯‡åšæ–‡å°±å…ˆå†™åˆ°è¿™é‡Œäº†ï¼Œå› ä¸ºçœŸçš„å·²ç»å†™äº†å¥½å¤šä¸œè¥¿ï¼Œæœ‰ç‚¹å¤´ç–¼ï¼Œæ˜å¤©ç»§ç»­è¡¥å……å‰©ä¸‹çš„ä¸€ç‚¹ï¼Œç»™Jervlet&amp;JSPå‰ä¸‰ç« çš„å­¦ä¹ ç”»ä¸Šä¸€ä¸ªå¥å·ï¼Œç„¶åå¼€å§‹PATåˆ·é¢˜ä¹‹æ—…ï¼Œæ™šä¸Šè‹¥æœ‰æ—¶é—´ç»™ç¬¬å››ç« ä¹‹åçš„å­¦ä¹ å¼€ä¸ªå¤´ï¼Œæºœäº†æºœäº†~   </p><p>å¥å·å·²ç”»   â€”2018.01.28</p>]]></content>
    
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºGitHub Pages+Jekyllåšå®¢æ­å»ºå¿ƒå¾—</title>
    <link href="/2018/01/27/2018-01-27-build/"/>
    <url>/2018/01/27/2018-01-27-build/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç›´æ¥è¿›å…¥ä¸»é¢˜äº†ï¼Œä¸‹é¢ç®€å•æ¦‚è¿°è¯¥åšå®¢çš„æ­å»ºè¿‡ç¨‹ã€‚</p><p>é¦–å…ˆï¼Œè¯¥åšå®¢é‡‡ç”¨äº† <strong>GitHub Pages</strong> + <strong>Jekyll</strong> çš„æŠ€æœ¯å¿«é€Ÿæ­å»ºï¼Œç›¸è¾ƒäºåˆ«çš„blogæ–¹å¼æœ‰ç€è®¸å¤šå¤©ç„¶çš„ä¼˜åŠ¿ã€‚</p><ul><li>ä½¿ç”¨ Jekyll è‡ªå·±DIYï¼Œä¸»é¢˜å¸ƒå±€å¯æ“ä½œæ€§å¾ˆå¼º</li><li><strong>Markdown</strong> ç¼–å†™ï¼Œç®€å•æ–¹ä¾¿ï¼ŒåæœŸèƒ½æ›´å¥½åœ°ä¸“æ³¨äºå†™æ–‡ï¼Œè€Œä¸”ï¼ŒçœŸçš„å¾ˆå¥½çœ‹ï¼ï¼ˆMarkdownæ˜¯ä¸€æ¬¾è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œèƒ½å¤Ÿç”¨ç®€å•çš„è¯­æ³•å®ç°æ–‡å­—æ’ç‰ˆï¼‰</li><li>ä¸éœ€è¦èŠ±é’±è´­ä¹°åŸŸåï¼ŒæŠ˜è…¾ä¸»æœºï¼ŒGitHubæä¾›åŸŸåå’Œå…è´¹çš„æ— é™ç©ºé—´ï¼ï¼</li></ul><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ol><li><p>æ³¨å†ŒGitHubè´¦å·ï¼Œä¸‹è½½ <strong>Atom</strong>ï¼Œ<strong>GitHub Desktop</strong>ï¼ˆæˆ–Gitï¼‰ ï¼Œç½‘ä¸Šçš„æ•™ç¨‹å¤§å¤šæ˜¯é‡‡ç”¨Gitçš„ï¼Œæ£é¼“äº†åŠå¤©å‘½ä»¤è¡Œæ²¡å¼„å‡ºæ¥ï¼Œè‡ªå·±çæ•´å‡ºè¿™æ ·ä¸€ä¸ªAtom+Desktopçš„æ­é…ï¼Œ ç”¨Desktop åŒæ­¥æœ¬åœ°å’Œäº‘ç«¯çš„ä»“åº“ï¼Œåœ¨Atomä¸Šå®ç°ä»£ç çš„ä¿®æ”¹ï¼Œä¹‹åå†å¥½å¥½ç ”ç©¶ä¸€ä¸‹Gitçš„ç”¨æ³•ã€‚</p></li><li><p>è¿™é‡Œå‡è®¾å·²ç»æ‡‚å¾—GitHubçš„åŸºæœ¬æ“ä½œã€‚ç„¶åï¼Œæ‰¾æ¨¡æ¿ï¼å°†å…¶forkå¹¶è¿›è¡Œæ”¹åï¼Œå¿…é¡»ä¸ç”¨æˆ·åä¸€è‡´ï¼Œç„¶åå°†å…¶open in Desktopï¼Œå†åœ¨Desktopä¸­ open in Atom ~ å°±å¯ä»¥åœ¨Atomä¸­å¯¹ä»£ç è¿›è¡Œä¿®æ”¹äº†ï¼Œä¿®æ”¹å®Œä¿å­˜ä»£ç ï¼Œæœ€å¥½Save Allï¼Œå†åœ¨Desktopä¸­commitï¼ŒFetch Originï¼Œå°±èƒ½åŒæ­¥githubä¸Šçš„ä»£ç äº†ã€‚</p></li><li><p>å®‰è£… <strong>Jekyll</strong>ï¼Œä¸ºäº†æ–¹ä¾¿åœ¨æœ¬åœ°å®æ—¶æŸ¥çœ‹åšå®¢ï¼Œå¦‚æœè®¤ä¸ºä¸éœ€è¦æˆ–è€…å«Œéº»çƒ¦å¯è·³è¿‡è¿™ä¸€æ­¥â€¦</p></li></ol><p> é¦–å…ˆï¼Œå®‰è£… <strong>Ruby</strong>ï¼Œå¯å‚ç…§å®˜ç½‘æ•™ç¨‹ï¼Œç„¶åé…ç½®ç¯å¢ƒå˜é‡ï¼Œæ‡’äººå¯ç›´æ¥ä¸‹è½½ruby installer~ Macä¸Šä¸€èˆ¬ä¼šè‡ªå¸¦rubyã€‚é€šè¿‡ç»ˆç«¯è¿è¡Œruby â€“versionå¯ä»¥æ£€æµ‹æœ‰æ²¡æœ‰å®‰è£…ã€‚</p><p> å®‰è£…å®Œrubyï¼Œä¹‹åå°±æ˜¯è¦å®‰è£… <strong>DevKit</strong>ï¼Œå’Œ <strong>gems</strong>ï¼Œåœ¨æœ¬åœ°è§£å‹ã€‚gemæ˜¯ä¸€ä¸ªrubyçš„åŒ…ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥ç”¨gemå¾ˆæ–¹ä¾¿çš„åœ¨æœ¬åœ°å®‰è£…rubyåº”ç”¨ã€‚</p><blockquote><p>cd yourpath to RubyGems //ä½ è§£å‹çš„ä½ç½®<br>ruby setup.rb</p></blockquote><p> å‰å¾€å®˜ç½‘ä¸‹è½½å¯¹åº”çš„DevKitå®‰è£…åŒ…ï¼Œè§£å‹åï¼Œåˆå§‹åŒ–åˆ›å»ºconfig.ymlæ–‡ä»¶</p><blockquote><p>cd â€œC:\DevKitâ€<br>ruby dk.rb init<br>notepad config.yml</p></blockquote><p> æ‰“å¼€è®°äº‹æœ¬çª—å£æ·»åŠ ä¸€è¡Œä¹‹å‰çš„Rubyè·¯å¾„ï¼Œå›åˆ°cmd</p><blockquote><p>ruby dk.rb review<br>ruby dk.rb install</p></blockquote><p> æœ€åç¡®è®¤gemï¼Œå®‰è£…Jekyll</p><blockquote><p>gem -v</p></blockquote><p>è¾“å‡º</p><blockquote><p>2.0.14  </p></blockquote><blockquote><p>gem install jekyll</p></blockquote><p>4.<br>åˆ°è¿™é‡Œå„ç§å®‰è£…å°±å·®ä¸å¤šå®Œæˆäº†ï¼ŒèŒæ–°åœ¨è¿™é‡Œå°±å¡äº†å¾ˆä¹…ï¼Œç½‘ä¸Šæœ‰äº›åœ¨rubyä¸Šç›´æ¥gem install jeyllå°±å¯ä»¥äº†ï¼Œä½†æ˜¯æˆ‘é­é‡äº†$^&amp;#^%^%&amp;^çš„é—®é¢˜ï¼Œé—®å®Œå¤§ä½¬å‘ŠçŸ¥æ˜¯ç‰ˆæœ¬ä¸å¯¹ï¼Œç‰ˆæœ¬ä¸å¯¹ï¼Ÿï¼Ÿexmï¼Ÿæˆ‘æ˜æ˜éƒ½æ˜¯æ–°è£…çš„ï¼Œåæ¥å‘ç°ï¼Œmdæ˜¯å¤ªæ–°äº†!!å›å¤´åˆå¸äº†ä¸‹äº†2.3ç‰ˆæœ¬çš„Ruby..é…ç½®ç¯å¢ƒå˜é‡ä»€ä¹ˆä¹ŸæŒºçƒ¦çš„ï¼Œå»ºè®®ç›´æ¥ç”¨Ruby Installerã€‚</p><p>æœ€åcdåˆ°åšå®¢æ–‡ä»¶å¤¹ï¼Œå¼€å¯æœåŠ¡å™¨è®¿é—® <a href="http://localhost:4000/">http://localhost:4000/</a> ï¼Œå°±å¯ä»¥å®ç°æœ¬åœ°ç«¯æµè§ˆåšå®¢äº†ã€‚</p><p>##ä»£ç ç¯èŠ‚</p><ol start="0"><li>RENAMEæ”¾éœ€è¦æ›´æ”¹çš„ï¼ˆä¹°æ¥çš„ï¼‰åŸŸåï¼Œè¯¦æƒ…ç™¾åº¦ï¼Œä¸ç”¨åˆ äº†å°±å¥½äº†</li><li>ä¸€äº›å‚æ•°å­˜æ”¾åœ¨_config.yml é‡Œï¼Œæ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹</li><li>åœ¨_layoutsé‡Œå­˜æ”¾ç€å‡ ç§ä¸åŒçš„å¸ƒå±€</li><li>æ›´æ–°æäº¤çš„åšæ–‡çš„markdownæ ¼å¼å­˜æ”¾åœ¨_posts é‡Œï¼Œåªéœ€è‡ªå·±æ·»åŠ yamlå¤´æ–‡ä»¶å°±å¥½äº†</li><li>é¡¹ç›®å†…çš„ä»£ç å°†æ ¼å¼å’Œæ–‡æœ¬åšäº†åˆ†ç¦»çš„å¤„ç†ï¼Œå°šåœ¨æ‘¸ç´¢ä¸­â€¦</li><li>åœ¨åšå®¢é‡Œä¿®æ”¹åŠ å…¥äº†ä¸€äº›è‡ªå·±çš„ä¸œè¥¿ï¼Œæ£é¼“äº†å°åŠå¤©</li></ol><ul><li>å°†å›¾æ ‡é“¾æ¥åˆ°è‡ªå·±çš„çŸ¥ä¹ï¼ŒGithubï¼Œå¾®åšï¼Œåœ¨_configä¿®æ”¹å³å¯(å…·ä½“å®ç°ä»£ç åœ¨_includes\posts\footerå†…)</li><li>ç™¾åº¦ç»Ÿè®¡ï¼Œè‡ªè¡Œæ³¨å†Œè´¦å·æ‹·è´ç¥ç§˜ä»£ç æ›´æ¢ï¼ŒåŒä¸Šåœ¨_configä¿®æ”¹</li><li>è¯„è®ºç³»ç»Ÿï¼Œæ’å…¥äº†æ¥å¿…åº”ï¼ŒåŸå…ˆçš„å¤ªå›½é™…åŒ–äº†â€¦ æ³¨å†Œè´¦å·åœ¨è¯„è®ºç®¡ç†ä¸­æ‰¾åˆ°å®‰è£…ä»£ç ï¼Œç„¶åæˆ‘å°±ç›´æ¥åœ¨_layoutsæ¢æ‰äº†å¯¹åº”éƒ¨åˆ†â€¦</li></ul><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>å³ä½¿æ˜¯forkäº†å¤§ä½¬çš„æ¨¡æ¿ï¼Œè¿™åšå®¢çš„æ­å»ºä¹Ÿæ˜¯å……æ»¡äº†åå·ï¼Œå‰å‰ååèŠ±å»ä¸å°‘æ—¶é—´ï¼Œåˆšè§£å†³æ‰ä¸€ä¸ªéº»çƒ¦åˆå†’å‡ºå¦ä¸€ä¸ªéº»çƒ¦ï¼Œæ˜¨å¤©æ˜æ˜æœ‰çš„è¯„è®ºç°åœ¨æ€ä¹ˆåˆè‡ªå·±æ¶ˆå¤±äº†ï¼Œæˆ‘æ˜¨å¤©éš¾ä¸æˆåœ¨åšæ¢¦ä¹ˆï¼Ÿ è‡³ä»Šåšå®¢é‡Œè¿˜æœ‰è®¸å¤šæ¼æ´å’Œéœ€è¦å®Œå–„çš„åœ°æ–¹ï¼Œè¦åŠ æ²¹å»ç ”ç©¶ç ”ç©¶äº†ã€‚æ€»ä¹‹åœ¨è¿™æ¬¡ç»å†ä¸­çœŸçš„å­¦åˆ°äº†ä¸å°‘çš„çŸ¥è¯†ï¼Œè¶³å¤Ÿæˆ‘æ¶ˆåŒ–å¥½ä¸€é˜µå­ï¼Œä¸€äº›ä¸œè¥¿æ²¡æœ‰è®²å…¨è®²æ¸…ï¼Œè¯¥ç¯‡åšæ–‡ä¹Ÿä¼šåœ¨ä¹‹åè¿›è¡Œè¡¥å……ã€‚å¦‚æœä½ æ˜¯åœ¨åšå®¢å»ºç«‹çš„åˆæœŸå°±å‘ç°äº†è¿™é‡Œï¼ŒçœŸçš„å¾ˆæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œç›®å‰è¿™åªæ˜¯æœ¬äººè‡ªå·±çš„ç»å†æ€»ç»“ï¼Œç›¸æ¯”ç½‘ä¸Šçš„è¯¸å¤šæ–‡ç« é€Šè‰²ä¸å°‘ï¼Œç›®å‰å¯èƒ½æ— æ³•ä½œä¸ºæ•™ç¨‹ï¼Œä¼šå°½å¿«åšå‡ºæå‡å’Œä¿®æ”¹çš„ï¼ï¼</p>]]></content>
    
    
    
    <tags>
      
      <tag>é¡¹ç›®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello 2018</title>
    <link href="/2018/01/26/2018-01-26-hello-2018/"/>
    <url>/2018/01/26/2018-01-26-hello-2018/</url>
    
    <content type="html"><![CDATA[<blockquote><p>â€œYeah Itâ€™s on. â€</p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>iHan åšå®¢çš„æ­å»ºæš‚æ—¶åˆ°è¿™é‡Œäº†ã€‚</p><p>ç®—æ˜¯ä¸ºè¿™ä¸ªå¯’å‡ä»¥åŠä¹‹åçš„å­¦ä¹ å¼€äº†ä¸ªå¥½å¤´ï¼Œ</p><p>è¯´æ¥æƒ­æ„§å› ä¸ºè‡ªå·±åœ¨å­¦æ ¡é‡Œæ‰€å­¦çš„å…³äºå‰ç«¯çš„ä¸‰è„šçŒ«åŠŸå¤«å®åœ¨æ‹¿ä¸å‡ºæ‰‹ï¼Œè¯¥åšå®¢æ¨¡æ¿forkäº†Huxå¤§ä½¬çš„githubé¡¹ç›®ï¼Œä¸”çœ‹äº†å¤§é‡å¿«é€Ÿæ•™ç¨‹æ‰ç£•ç£•ç»Šç»Šåœ°åšå‡ºç°åœ¨çš„æ ·å­ï¼Œåˆå› ä¸ºæ€¥äºå‘è¡¨ç¬¬ä¸€ç¯‡åšæ–‡ä»¥å¼€å§‹æ—¥åçš„è¿›ç¨‹ï¼Œç½‘ç«™ä¸­ä»æœ‰éƒ¨åˆ†æœªå®Œæˆéƒ¨åˆ†ï¼ˆcommentséƒ¨åˆ†å°šæœªå®ç°ï¼‰ï¼Œå°†åœ¨ä¹‹åè¿›è¡Œå®Œå–„å’Œè¡¥å……å¹¶æŠ½ç©ºç†å‡ºæ•´ä¸ªæ­å»ºè¿‡ç¨‹åŠå¿ƒå¾—ã€‚</p><hr><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>ä¸ºä½•çªç„¶å¿ƒè¡€æ¥æ½®è¦å¼€è¿™ä¸ªåšå®¢å‘¢ï¼Ÿ</p><p>å…¶å®è¿™ä¸ªå¿µå¤´å¾ˆæ—©å°±æœ‰äº†ï¼Œåªæ˜¯ä¸€ç›´æ²¡æœ‰æœºä¼šå»å®ç°ã€‚æ­¥å…¥å¤§å­¦ä¹‹åè¢«çŒè¾“äº†å¤ªå¤šçš„ç†å¿µï¼Œä¸åœåœ°å­¦ä¹ å¤§é‡çš„çŸ¥è¯†ï¼Œæ— æ³•å¿«é€Ÿåœ°æ¶ˆåŒ–æ‰è¿™äº›äº‹ç‰©ï¼Œæ›¾ç»å°è¯•è¿‡å†™æ‰‹è´¦ï¼Œå­˜ç”µå­ç¬”è®°ï¼Œç»“æœéƒ½ä¸å°½äººæ„ï¼Œåšå®¢ç»™æˆ‘æä¾›äº†æå¥½çš„å¤„ç†æ–¹å¼ï¼Œæˆ‘å¯ä»¥æŒ‰å¤©åœ°å»è®°å½•äº‹ç‰©ï¼Œç»™å®ƒä»¬å®‰ä¸Šæ ‡ç­¾ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å»å›é¡¾ä»–ä»¬ã€‚è€Œæ­å»ºåšå®¢å’ŒåšæŒå†™æ–‡ï¼ˆåº”è¯¥å¯ä»¥çš„å§â€¦ï¼‰ä¹Ÿèƒ½ä½¿æˆ‘æ”¶è·è‰¯å¤šã€‚</p><p>å¯èƒ½å› ä¸ºæ˜¨å¤©é€šå®µçš„ç¼˜æ•…è„‘å­å¾ˆçŸ­è·¯ï¼Œæ— æ³•æ‰æ€æ³‰æ¶Œ0.0 ï¼Œå°±ç®€å•åœ¨æ­¤ä¸ºæ—¥ååšä¸€ä¸ªæ‰“ç®—å§ï¼Œè¿™æ˜¯å‡æœŸçš„ç¬¬äºŒå¤©ï¼Œåˆšå¼€å§‹å­¦ä¹ ç®€å•çš„Servlet&amp;JSPçŸ¥è¯†ï¼Œç›®å‰çš„æ‰“ç®—æ˜¯åšä¸€ä¸ªåç«¯å¼€å‘ç¨‹åºå‘˜ï¼Œå¹¶ä¸”ä»æ˜æˆ–åå¤©å¼€å§‹PATåˆ·é¢˜ä¹‹æ—…ï¼Œå¹¶äºæ­¤è®°å½•å­¦ä¹ æ€»ç»“ä»¥åŠé¢˜ç›®çš„é¢˜è§£ï¼Œ ä¹‹åå°†å­¦ä¹ å…¶ä»–çš„ç®—æ³•çŸ¥è¯†ä»¥åŠæ›´æ·±å…¥äº†è§£webå¼€å‘ã€‚é™¤æ­¤ä¹‹å¤–æ”¶è·çš„åˆ«çš„æŠ€èƒ½ä»¥åŠäºç”Ÿæ´»ä¸­çš„æ„Ÿæƒ³å’Œé¢†æ‚Ÿä¹Ÿä¼šæ—¶è€Œè®°å½•åœ¨è¿™é‡Œï¼Œä»¥åŠè¯¾å¤–çš„é˜…è¯»ç»å†ï¼ˆæ‘˜è®°ï¼‰ã€‚</p><hr><p>è¿˜æ²¡å†™ä»€ä¹ˆè½¬çœ¼å°±å¿«åä¸€ç‚¹äº†ï¼Œç®—äº†ä¸è£…äº†åæ­£ç°åœ¨å†™å•¥æ²¡ä»€ä¹ˆäººçœ‹ï¼Œè€Œä¸”æ—¥åä¹Ÿæ˜¯å¯ä»¥æ·»è¡¥ä¿®æ”¹çš„å§ï¼Ÿæ˜å¤©æ—©èµ·ç»§ç»­æ—¥å¸¸çš„å­¦ä¹ ï¼Œæ€»ç»“æ‰Servlet&amp;JSPå‰ä¸‰ç« çš„å†…å®¹ï¼Œå°½é‡è…¾å‡ºåˆ·PATçš„æ—¶é—´å¹¶è§„åˆ’ç®—æ³•å­¦ä¹ åŠACMè®¡åˆ’ï¼Œç°åœ¨åº”è¯¥èˆ’èˆ’æœæœå»åˆ·æˆ‘éƒ½kindleäº†ï¼Œæˆ‘å°±æ˜¯è¿™ä¹ˆçƒ­çˆ±è¯»ä¹¦çš„ä¸€ä¸ªäºº~å¸Œæœ›ä»¥åçš„ä»£ç å­¦ä¹ ä¹Ÿèƒ½å¦‚çœ‹ã€Šæ˜ã€‹é‚£æ ·æ´¥æ´¥æœ‰å‘³ï¼ï¼</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>å“ªä¼šå†™ä»€ä¹ˆåè®°ï¼Ÿï¼Ÿ å…ˆéšä¾¿åœ¨è¿™ä¸ªåœ°æ–¹æ”¾ä¸€æ®µå–œæ¬¢çš„å¥å­å§~</p><p>åœ¨æˆ‘çœ‹æ¥ï¼Œåœ¨è¿™ä¸ªä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼ŒçŸ¥è¯†çš„ç¨€ç¼ºæ€§å˜çš„æ²¡é‚£ä¹ˆé‡è¦äº†ã€‚çŸ¥è¯†æ€»æ˜¯åœ¨é‚£é‡Œï¼Œä¸æ˜¯åœ¨è¿™æœ¬ä¹¦ä¸Šå°±è¯´åœ¨é‚£æœ¬ä¹¦ä¸Šï¼Œä¸æ˜¯åœ¨è¿™ä¸ªç½‘é¡µä¸Šå°±è¯´åœ¨é‚£ä¸ªç½‘é¡µä¸Šã€‚ä½ è¦å­¦ï¼Œéšæ—¶éƒ½å¯ä»¥ã€‚<br>ç›¸å¯¹çš„ï¼Œäººçš„æ—¶é—´å’Œç²¾åŠ›å˜æˆæ›´ç¨€ç¼ºçš„ä¸œè¥¿ï¼Œåœ¨æœ‰é™çš„æ—¶é—´é‡Œï¼Œå­¦ä»€ä¹ˆå’Œæ€ä¹ˆå»å­¦ï¼Œå˜å¾—æ›´é‡è¦ã€‚æ‰€ä»¥ï¼Œå……åˆ†åˆ©ç”¨å¤§å­¦4å¹´æ—¶é—´ï¼Œå½¢æˆä¸€ä¸ªèƒ½æå‡ä¸ªäººæ ¸å¿ƒç«äº‰åŠ›çš„èƒ½åŠ›æ¶æ„ï¼Œæ¯”å›¤ç§¯å¤§é‡åˆ†æ•£çš„çŸ¥è¯†ï¼Œè¦æœ‰ä»·å€¼çš„å¤šã€‚</p><p>å¦å¤–ï¼Œç»å¤§å¤šæ•°äººçš„å½’å®¿éƒ½ä¸æ˜¯ç‰›äººï¼Œåœ¨è®¡ç®—æœºçš„ä»»ä½•ä¸€ä¸ªé¢†åŸŸï¼Œåšä¸€ä¸ªé è°±çš„å·¥ç¨‹å¸ˆï¼Œå°±å·²ç»å¾ˆäº†ä¸èµ·äº†ã€‚</p><p>æˆ‘ä»¬è¿™ç¾¤äººï¼Œè‹¦æ²¡æœ‰çœŸæ­£è‹¦è¿‡ï¼Œçˆ±æ²¡æœ‰ç”¨åŠ›çˆ±è¿‡ã€‚</p><p>æ¯å¤©å—ç€ä¿¡æ¯å¤§æ½®çš„å†²å‡»ï¼Œä¸‰è§‚æœªå®šåˆå¤‡å—æ›²æŠ˜ã€‚</p><p>è´«ç©·ä¸å†æ˜¯æ­£ä¹‰ï¼Œåˆå¦„å›¾ä¸è®©é‡‘é’±æˆä¸ºå”¯ä¸€çš„è¿½æ±‚ã€‚</p><p>è¿‡æ—©çœ‹åˆ°äº†æ›´å¤§çš„ä¸–ç•Œï¼Œå‹¤å¥‹å´åˆä¸è¿‡ä¸‰å¤©ã€‚</p><p>çƒ­è¡€é€ä¸è¿‡é”®ç›˜å’Œå±å¹•ï¼Œå›å¿†æ­¢äºæ¸¸æˆå’Œé«˜è€ƒã€‚</p><p>åƒä¸€ç¾¤æ²¡æœ‰æ ¹çš„å­©å­ï¼Œåœ¨åˆ«äººçš„ç»å†å’Œç²¾ç¥é‡Œåµé—¹ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>ç”Ÿæ´»</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
